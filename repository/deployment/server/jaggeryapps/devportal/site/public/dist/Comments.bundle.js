(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2138:function(e,t,n){"use strict";var a=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var s=a(n(141)),i=a(n(116)),o=a(n(0)),l=(a(n(3)),a(n(5))),m=a(n(1172)),r=(a(n(2139)),[0,1,2,3,4,5,6,7,8,9,10]),c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var p=function(e){return(0,i.default)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return r.forEach((function(a){var s=e.spacing(a);0!==s&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(s,2)),width:"calc(100% + ".concat(d(s),")"),"& > $item":{padding:d(s,2)}})})),n}(e,"xs"),{},e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};c.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var s="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:s,flexGrow:0,maxWidth:s}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,i.default)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))};t.styles=p;var h=o.default.forwardRef((function(e,t){var n=e.alignContent,a=void 0===n?"stretch":n,m=e.alignItems,r=void 0===m?"stretch":m,c=e.classes,d=e.className,p=e.component,h=void 0===p?"div":p,g=e.container,u=void 0!==g&&g,C=e.direction,f=void 0===C?"row":C,x=e.item,b=void 0!==x&&x,w=e.justify,E=void 0===w?"flex-start":w,y=e.lg,v=void 0!==y&&y,k=e.md,T=void 0!==k&&k,S=e.sm,D=void 0!==S&&S,I=e.spacing,O=void 0===I?0:I,R=e.wrap,A=void 0===R?"wrap":R,M=e.xl,W=void 0!==M&&M,L=e.xs,q=void 0!==L&&L,N=e.zeroMinWidth,U=void 0!==N&&N,j=(0,s.default)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),B=(0,l.default)(c.root,d,u&&[c.container,0!==O&&c["spacing-xs-".concat(String(O))]],b&&c.item,U&&c.zeroMinWidth,"row"!==f&&c["direction-xs-".concat(String(f))],"wrap"!==A&&c["wrap-xs-".concat(String(A))],"stretch"!==r&&c["align-items-xs-".concat(String(r))],"stretch"!==a&&c["align-content-xs-".concat(String(a))],"flex-start"!==E&&c["justify-xs-".concat(String(E))],!1!==q&&c["grid-xs-".concat(String(q))],!1!==D&&c["grid-sm-".concat(String(D))],!1!==T&&c["grid-md-".concat(String(T))],!1!==v&&c["grid-lg-".concat(String(v))],!1!==W&&c["grid-xl-".concat(String(W))]);return o.default.createElement(h,(0,i.default)({className:B,ref:t},j))}));var g=(0,m.default)(p,{name:"MuiGrid"})(h);t.default=g},2139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return function(){return null}};t.default=a},2140:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(3),o=n.n(i),l=n(6),m=n(1033),r=n(451),c=n(314),d=n(2138),p=n.n(d),h=n(21),g=(n(101),n(180)),u=n.n(g),C=n(1059),f=n(1023),x=n(1224),b=n(179),w=n(1254),E=n(1258),y=n(1256),v=n(1257),k=n(1255),T=n(1028);class S extends s.a.Component{handleRequestClose(e){const{callback:t}=this.props;e===S.Action.OK?t(!0):t(!1)}render(){const{title:e,message:t,labelCancel:n,labelOk:a,open:i}=this.props;return s.a.createElement(w.a,{open:i,onClose:this.handleRequestClose},s.a.createElement(E.a,null,e||s.a.createElement(h.a,{id:"Shared.ConfirmDialog.please.confirm",defaultMessage:"Please Confirm"})),s.a.createElement(y.a,null,s.a.createElement(v.a,null,t||s.a.createElement(h.a,{id:"Shared.ConfirmDialog.please.confirm.sure",defaultMessage:"Are you sure?"}))),s.a.createElement(k.a,null,s.a.createElement(T.a,{onClick:()=>this.handleRequestClose(S.Action.CANCEL),color:"primary"},n||s.a.createElement(h.a,{id:"Shared.ConfirmDialog.cancel",defaultMessage:"Cancel"})),s.a.createElement(T.a,{onClick:()=>this.handleRequestClose(S.Action.OK),color:"primary"},a||s.a.createElement(h.a,{id:"Shared.ConfirmDialog.ok",defaultMessage:"OK"}))))}}S.propTypes={title:o.a.string.isRequired,message:o.a.string.isRequired,labelCancel:o.a.string.isRequired,labelOk:o.a.string.isRequired,callback:o.a.func.isRequired,open:o.a.bool.isRequired},S.Action={OK:"ok",CANCEL:"cancel"};var D=S,I=n(1027),O=n(177);class R extends s.a.Component{constructor(e){super(e),this.state={content:"",currentLength:0},this.inputChange=this.inputChange.bind(this),this.handleClickAddComment=this.handleClickAddComment.bind(this),this.handleClickCancel=this.handleClickCancel.bind(this)}inputChange({target:e}){this.setState({content:e.value,currentLength:e.value.length})}handleClickCancel(){this.setState({content:""})}handleClickAddComment(){const{apiId:e,allComments:t,commentsUpdate:n,intl:a}=this.props,{content:s}=this.state,i=new O.a,o={content:s.trim()};o.content.replace(/\s/g,"").length?i.addComment(e,o).then(e=>{this.setState({content:""});const a=e.body;t.push(a),n(t)}).catch(e=>{console.error(e),e.response&&e.response.body&&e.response.body.message?b.a.error(e.response.body.message):b.a.error(a.formatMessage({defaultMessage:"Something went wrong while adding the comment",id:"Apis.Details.Comments.CommentAdd.something.went.wrong"}))}):b.a.error(a.formatMessage({defaultMessage:"You cannot enter a blank comment",id:"Apis.Details.Comments.CommentAdd.error.blank.comment"})),this.setState({currentLength:0})}render(){const{classes:e,cancelButton:t,theme:n,intl:a}=this.props,{content:i,currentLength:o}=this.state;return s.a.createElement(f.a,{container:!0,spacing:3,className:e.contentWrapper},s.a.createElement(f.a,{item:!0,xs:!0,zeroMinWidth:!0},s.a.createElement("div",{className:e.commentAddWrapper},s.a.createElement(I.a,{id:"standard-multiline-flexible",autoFocus:!0,multiline:!0,className:e.textField,margin:"normal",placeholder:a.formatMessage({defaultMessage:"Write a comment",id:"Apis.Details.Comments.CommentAdd.write.comment.help"}),inputProps:{maxLength:n.custom.maxCommentLength},value:i,onChange:this.inputChange,variant:"outlined"}),s.a.createElement(c.a,{className:e.content,align:"left"},o+"/"+n.custom.maxCommentLength)),s.a.createElement(f.a,{container:!0,spacing:1},s.a.createElement(f.a,{item:!0},s.a.createElement(T.a,{variant:"contained",color:"primary",disabled:0===o,onClick:()=>this.handleClickAddComment()},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentAdd.btn.add.comment",defaultMessage:"Add Comment"}))),t&&s.a.createElement(f.a,{item:!0},s.a.createElement(T.a,{onClick:()=>this.handleClickCancel(),className:e.button},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentAdd.btn.cancel",defaultMessage:"Cancel"}))))))}}R.defaultProps={parentCommentId:null,toggleShowReply:null,commentsUpdate:null},R.propTypes={classes:o.a.instanceOf(Object).isRequired,cancelButton:o.a.bool.isRequired,apiId:o.a.string.isRequired,parentCommentId:o.a.string,toggleShowReply:o.a.func,commentsUpdate:o.a.func,allComments:o.a.instanceOf(Array).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var A=Object(h.e)(Object(l.a)(e=>({commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},content:{color:e.palette.getContrastText(e.palette.background.default)},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig,marginTop:2*e.spacing.unit},textField:{marginTop:0,marginRight:5,width:"100%"},commentAddWrapper:{display:"flex",alignItems:"top"}}),{withTheme:!0})(R)),M=n(525),W=n(1220),L=n(536);class q extends s.a.Component{constructor(e){super(e),this.state={commentText:"",category:"",currentLength:0},this.inputChange=this.inputChange.bind(this),this.handleCategoryChange=this.handleCategoryChange.bind(this),this.handleClickUpdateComment=this.handleClickUpdateComment.bind(this),this.handleClickCancel=this.handleClickCancel.bind(this),this.filterCommentToUpdate=this.filterCommentToUpdate.bind(this),this.filterCommentToUpdateReply=this.filterCommentToUpdateReply.bind(this)}componentDidMount(){const{comment:e}=this.props;this.setState({commentText:e.commentText,category:e.category,currentLength:e.commentText.length})}inputChange({target:e}){this.setState({commentText:e.value,currentLength:e.value.length})}handleClickCancel(){const{toggleShowEdit:e,commentsUpdate:t,allComments:n}=this.props;e(),t(n)}handleCategoryChange(e){this.setState({category:e.target.value})}filterCommentToUpdate(e){const{comment:t}=this.props;return e.commentId===t.commentId}filterCommentToUpdateReply(e){const{comment:t}=this.props;return e.commentId===t.parentCommentId}handleClickUpdateComment(){const{apiId:e,comment:t,allComments:n,toggleShowEdit:a,commentsUpdate:s,intl:i}=this.props,{category:o,commentText:l}=this.state,m=new O.a,r=t;r.commentText=l.trim(),r.category=o,t.commentText.replace(/\s/g,"").length?m.updateComment(e,r.commentId,r).then(e=>{const t=e.body;if(void 0===r.parentCommentId){const e=n.findIndex(this.filterCommentToUpdate);n[e].category=t.category,n[e].commentText=t.commentText}else{const e=n.findIndex(this.filterCommentToUpdateReply),a=n[e].replies.findIndex(this.filterCommentToUpdate);n[e].replies[a]=t}a(),s(n)}).catch(e=>{console.error(e),e.response?b.a.error(e.response.body.message):b.a.error(i.formatMessage({defaultMessage:"Something went wrong while adding the comment",id:"Apis.Details.Comments.CommentEdit.something.went.wrong"}))}):b.a.error(i.formatMessage({defaultMessage:"You cannot enter a blank comment",id:"Apis.Details.Comments.CommentEdit.blank.comment.error"}))}render(){const{classes:e,theme:t,intl:n}=this.props,{category:a,commentText:i,currentLength:o}=this.state;return s.a.createElement("div",null,s.a.createElement(M.a,{className:e.category},s.a.createElement(L.a,{value:a,onChange:this.handleCategoryChange},s.a.createElement(W.a,{value:"General"},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentEdit.general",defaultMessage:"General"})),s.a.createElement(W.a,{value:"Feature Request"},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentEdit.feature.request",defaultMessage:"Feature Request"})),s.a.createElement(W.a,{value:"Bug Report"},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentEdit.bug.report",defaultMessage:"Bug Report"})))),s.a.createElement(I.a,{id:"multiline-static",autoFocus:!0,multiline:!0,className:e.textField,margin:"normal",placeholder:n.formatMessage({defaultMessage:"Write a comment",id:"Apis.Details.Comments.CommentEdit.write.a.comment"}),inputProps:{maxLength:t.custom.maxCommentLength},value:i,onChange:this.inputChange}),s.a.createElement(c.a,{className:e.commentText,align:"right"},o+"/"+t.custom.maxCommentLength),s.a.createElement(f.a,{container:!0,spacing:1},s.a.createElement(f.a,{item:!0},s.a.createElement(T.a,{variant:"contained",color:"primary",onClick:()=>this.handleClickUpdateComment()},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentEdit.btn.save",defaultMessage:"Save"}))),s.a.createElement(f.a,{item:!0},s.a.createElement(T.a,{onClick:()=>this.handleClickCancel(),className:e.button},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentEdit.btn.cancel",defaultMessage:"Cancel"})))))}}q.propTypes={classes:o.a.instanceOf(Object).isRequired,apiId:o.a.string.isRequired,allComments:o.a.instanceOf(Array).isRequired,commentsUpdate:o.a.func.isRequired,toggleShowEdit:o.a.func.isRequired,comment:o.a.instanceOf(Object).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};var N=Object(h.e)(Object(l.a)(e=>({textField:{marginTop:0,width:"87.5%"},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig,marginTop:2*e.spacing.unit},category:{width:"12%",marginRight:"0.5%"}}),{withTheme:!0})(q)),U=n(1100),j=n(24);class B extends s.a.Component{constructor(e){super(e),this.state={},this.showAddComment=this.showAddComment.bind(this),this.showEditComment=this.showEditComment.bind(this),this.handleClickOpen=this.handleClickOpen.bind(this)}showAddComment(e){const{editIndex:t,showAddComment:n}=this.props;-1===t&&n(e)}showEditComment(e){const{editIndex:t,showEditComment:n}=this.props;-1===t&&n(e)}handleClickOpen(e){const{editIndex:t,handleClickOpen:n}=this.props;-1===t&&n(e)}displayDate(e){const t=new Date(e);return t.toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"})+" "+t.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}render(){const{classes:e,comment:t,editIndex:n,index:a,theme:i}=this.props;return s.a.createElement(f.a,{container:!0,spacing:1,className:e.verticalSpace,key:t.id},j.a.getUser()&&t.createdBy===j.a.getUser().name&&[s.a.createElement(f.a,{item:!0,key:"key-delete"},s.a.createElement(T.a,{variant:"outlined",size:"small",className:-1===n?e.link:e.disable,onClick:()=>this.handleClickOpen(t)},s.a.createElement(h.a,{id:"Apis.Details.Comments.CommentOptions.delete",defaultMessage:"Delete"}))),s.a.createElement(f.a,{item:!0,key:"key-delete-vertical-divider"},s.a.createElement(U.a,{height:15}))],s.a.createElement(f.a,{item:!0,className:e.time},s.a.createElement(c.a,{component:"a",variant:"caption"},this.displayDate(t.createdTime))))}}B.defaultProps={showAddComment:null},B.propTypes={classes:o.a.instanceOf(Object).isRequired,editIndex:o.a.number.isRequired,index:o.a.number.isRequired,comment:o.a.instanceOf(Object).isRequired,handleClickOpen:o.a.func.isRequired,showEditComment:o.a.func.isRequired,showAddComment:o.a.func};var P=Object(l.a)(e=>({link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},time:{color:e.palette.getContrastText(e.palette.background.default),marginTop:.3*e.spacing.unit},verticalSpace:{marginTop:e.spacing(1),display:"flex",alignItems:"center"},disable:{color:e.palette.grey[200]},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:e.spacing.unig,width:"100%",whiteSpace:"pre-wrap",overflowWrap:"break-word"},root:{marginTop:2.5*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig}}),{withTheme:!0})(B);class z extends s.a.Component{constructor(e){super(e),this.state={openDialog:!1,editIndex:-1,deleteComment:null},this.handleClickDeleteComment=this.handleClickDeleteComment.bind(this),this.handleShowEdit=this.handleShowEdit.bind(this),this.handleClickOpen=this.handleClickOpen.bind(this),this.showEditComment=this.showEditComment.bind(this),this.handleConfirmDialog=this.handleConfirmDialog.bind(this),this.handleClose=this.handleClose.bind(this),this.filterRemainingComments=this.filterRemainingComments.bind(this),this.filterCommentToDelete=this.filterCommentToDelete.bind(this)}filterRemainingComments(e){const{deleteComment:t}=this.state;return e.commentId!==t.commentId}filterCommentToDelete(e){const{deleteComment:t}=this.state;return e.commentId===t.parentCommentId}showEditComment(e){const{editIndex:t}=this.state;-1===t&&this.setState({editIndex:e})}handleShowEdit(){this.setState({editIndex:-1})}handleClickOpen(e){const{editIndex:t}=this.state;-1===t&&this.setState({deleteComment:e,openDialog:!0})}handleClose(){this.setState({openDialog:!1})}handleConfirmDialog(e){e?this.handleClickDeleteComment():this.handleClose()}handleClickDeleteComment(){const e=new O.a,{deleteComment:t}=this.state,{apiId:n,allComments:a,commentsUpdate:s,intl:i}=this.props,o=t.commentId,l=t.parentCommentId;this.handleClose(),e.deleteComment(n,o).then(e=>{if(void 0===l){const e=a.filter(this.filterRemainingComments);s(e)}else{const e=a.findIndex(this.filterCommentToDelete),t=a[e].replies.filter(this.filterRemainingComments);a[e].replies=t,s(a)}}).catch(e=>{console.error(e),e.response?b.a.error(e.response.body.message):b.a.error(i.formatMessage({defaultMessage:"Something went wrong while deleting comment",id:"Apis.Details.Comments.CommentReply.something.went.wrong"})+" - "+o)})}render(){const{classes:e,comments:t,apiId:n,allComments:a,commentsUpdate:i,intl:o}=this.props,{editIndex:l,openDialog:r}=this.state;return[t&&t.map((t,o)=>s.a.createElement("div",{key:t.commentId+"-"+o,className:e.contentWrapper},s.a.createElement(f.a,{container:!0,spacing:1,className:e.root},s.a.createElement(f.a,{item:!0},s.a.createElement(m.a,{className:e.commentIcon},"account_box")),s.a.createElement(f.a,{item:!0,xs:!0,zeroMinWidth:!0},s.a.createElement(c.a,{noWrap:!0,className:e.commentText,variant:"body1"},t.createdBy),o!==l&&s.a.createElement(c.a,{className:e.commentText},t.commentText),l===o&&null,o===l&&s.a.createElement(N,{apiId:n,allComments:a,commentsUpdate:i,comment:t,toggleShowEdit:this.handleShowEdit}),s.a.createElement(P,{classes:e,comment:t,editIndex:l,index:o,showAddComment:this.showAddComment,handleClickOpen:this.handleClickOpen,showEditComment:this.showEditComment}))))),s.a.createElement(D,{key:"key-dialog",labelCancel:"Cancel",title:"Confirm Delete",message:o.formatMessage({defaultMessage:"Are you sure you want to delete this comment?",id:"Apis.Details.Comments.CommentReply.are.you.sure"}),labelOk:"Yes",callback:this.handleConfirmDialog,open:r})]}}z.defaultProps={api:null},z.propTypes={classes:o.a.instanceOf(Object).isRequired,apiId:o.a.string.isRequired,allComments:o.a.instanceOf(Array).isRequired,commentsUpdate:o.a.func.isRequired,comments:o.a.instanceOf(Array).isRequired,intl:o.a.shape({formatMessage:o.a.func}).isRequired};Object(h.e)(Object(l.a)(e=>({link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:e.spacing.unig,width:"100%",whiteSpace:"pre-wrap",overflowWrap:"break-word"},root:{marginTop:2.5*e.spacing.unit},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig}}))(z));class F extends s.a.Component{constructor(e){super(e),this.state={openDialog:!1,replyIndex:-1,editIndex:-1,deleteComment:null},this.handleClickDeleteComment=this.handleClickDeleteComment.bind(this),this.handleShowEdit=this.handleShowEdit.bind(this),this.handleShowReply=this.handleShowReply.bind(this),this.handleClickOpen=this.handleClickOpen.bind(this),this.showAddComment=this.showAddComment.bind(this),this.showEditComment=this.showEditComment.bind(this),this.handleConfirmDialog=this.handleConfirmDialog.bind(this),this.handleClose=this.handleClose.bind(this),this.filterRemainingComments=this.filterRemainingComments.bind(this),this.filterCommentToDelete=this.filterCommentToDelete.bind(this)}filterRemainingComments(e){const{deleteComment:t}=this.state;return e.id!==t.id}filterCommentToDelete(e){const{deleteComment:t}=this.state;return e.id}showAddComment(e){const{editIndex:t}=this.state;-1===t&&this.setState({replyIndex:e})}showEditComment(e){const{editIndex:t}=this.state;-1===t&&this.setState({editIndex:e})}handleShowEdit(){this.setState({editIndex:-1})}handleShowReply(){this.setState({replyIndex:-1})}handleClickOpen(e){const{editIndex:t}=this.state;-1===t&&this.setState({deleteComment:e,openDialog:!0})}handleClose(){this.setState({openDialog:!1})}handleConfirmDialog(e){e?this.handleClickDeleteComment():this.handleClose()}handleClickDeleteComment(){const e=new O.a,{deleteComment:t}=this.state,{apiId:n,allComments:a,commentsUpdate:s,intl:i}=this.props,o=t.id;this.handleClose(),e.deleteComment(n,o).then(e=>{const t=a.filter(this.filterRemainingComments);s(t),b.a.message("Comment"+o+"has been successfully deleted")}).catch(e=>{console.error(e),e.response&&b.a.error(e.response.body.message)})}render(){const{classes:e,comments:t,apiId:n,allComments:a,commentsUpdate:i,isOverview:o}=this.props,{editIndex:l,replyIndex:d,openDialog:p}=this.state;return[s.a.createElement(r.a,{className:u()({[e.paper]:!o&&t.length>0},{[e.cleanBack]:o})},t&&t.slice(0).reverse().map((t,r)=>s.a.createElement("div",{key:t.commentId+"-"+r,className:u()({[e.contentWrapper]:!o},{[e.contentWrapperOverview]:o})},0!==r&&s.a.createElement(x.a,{className:e.divider}),s.a.createElement(f.a,{container:!0,spacing:1,className:u()({[e.root]:!o})},s.a.createElement(f.a,{item:!0},s.a.createElement(m.a,{className:e.commentIcon},"account_box")),s.a.createElement(f.a,{item:!0,xs:!0,zeroMinWidth:!0},s.a.createElement(c.a,{noWrap:!0,className:e.commentText},t.createdBy),r!==l&&s.a.createElement(c.a,{className:e.commentText},t.content),r===l&&s.a.createElement(N,{apiId:n,allComments:a,commentsUpdate:i,comment:t,toggleShowEdit:this.handleShowEdit}),s.a.createElement(P,{classes:e,comment:t,editIndex:l,index:r,showAddComment:this.showAddComment,handleClickOpen:this.handleClickOpen,showEditComment:this.showEditComment})))))),s.a.createElement(D,{key:"key-dialog",labelCancel:"Cancel",title:"Confirm Delete",message:"Are you sure you want to delete this comment?",labelOk:"Yes",callback:this.handleConfirmDialog,open:p})]}}F.propTypes={classes:o.a.instanceOf(Object).isRequired,apiId:o.a.string.isRequired,allComments:o.a.instanceOf(Array).isRequired,commentsUpdate:o.a.func.isRequired,comments:o.a.instanceOf(Array).isRequired,isOverview:o.a.bool.isRequired};var _=Object(h.e)(Object(l.a)(e=>({link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},commentIcon:{color:e.palette.getContrastText(e.palette.background.default)},commentText:{color:e.palette.getContrastText(e.palette.background.default),marginTop:.8*e.spacing.unit,width:"99%",whiteSpace:"pre-wrap",overflowWrap:"break-word"},root:{marginTop:2.5*e.spacing.unit},contentWrapper:{paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unit},contentWrapperOverview:{background:"transparent",width:"100%"},divider:{marginTop:e.spacing.unit},paper:{margin:e.spacing(3),paddingBottom:e.spacing(3)},cleanBack:{background:"transparent",width:"100%",boxShadow:"none"}}))(F)),G=n(1045);class Y extends a.Component{constructor(e){super(e),this.state={expanded:!0,allComments:[],comments:[],totalComments:0,startCommentsToDisplay:0},this.updateCommentList=this.updateCommentList.bind(this),this.handleExpandClick=this.handleExpandClick.bind(this),this.handleLoadMoreComments=this.handleLoadMoreComments.bind(this)}componentDidMount(){let{apiId:e,theme:t,match:n,intl:a,isOverview:s,setCount:i}=this.props;n&&(e=n.params.apiUuid),(new O.a).getAllComments(e).then(e=>{let n=e.body.list;s&&(i(n.length),n.length>2&&(n=n.slice(n.length-3,n.length))),this.setState({allComments:n,totalComments:n.length}),n.length<t.custom.commentsLimit?this.setState({startCommentsToDisplay:0,comments:n.slice(0,n.length)}):this.setState({startCommentsToDisplay:n.length-t.custom.commentsLimit,comments:n.slice(n.length-t.custom.commentsLimit,n.length)})}).catch(e=>{0})}handleLoadMoreComments(){const{totalComments:e,startCommentsToDisplay:t,allComments:n}=this.state,{theme:a}=this.props;t-a.custom.commentsLimit<=0?this.setState({startCommentsToDisplay:0,comments:n.slice(0,e)}):this.setState({startCommentsToDisplay:t-a.custom.commentsLimit,comments:n.slice(t-a.custom.commentsLimit,e)})}handleExpandClick(){const{expanded:e}=this.state;this.setState({expanded:!e})}updateCommentList(e){const{startCommentsToDisplay:t,totalComments:n}=this.state,{theme:a}=this.props;let s,i,o;this.setState({allComments:e}),n<a.custom.commentsLimit?(o=e.length,this.setState({startCommentsToDisplay:0,totalComments:o,comments:e})):n<=e.length?(s=t+(i=e.length-n),o=e.length,this.setState({startCommentsToDisplay:s,totalComments:o,comments:e.slice(s,o)})):(i=n-e.length,s=0===t?t:t-i,o=e.length,this.setState({startCommentsToDisplay:s,totalComments:o,comments:e.slice(s,o)}))}isCrossTenant(e,t){let n=null,a=null;const s=t.name;if(e.includes("@")){const t=e.split("@");n=t[t.length-1]}else n="carbon.super";if(s.includes("@")){const e=s.split("@");a=e[e.length-1]}else a="carbon.super";return n!==a}render(){const{classes:e,showLatest:t,isOverview:n}=this.props,{comments:a,expanded:i,allComments:o,startCommentsToDisplay:l,totalComments:d,commentsUpdate:g}=this.state;return s.a.createElement(G.a.Consumer,null,({api:i})=>s.a.createElement("div",{className:u()({[e.contentWrapper]:!n},{[e.contentWrapperOverview]:n})},!t&&s.a.createElement("div",{className:e.root},s.a.createElement(c.a,{variant:"h4",className:e.titleSub},s.a.createElement(h.a,{id:"Apis.Details.Comments.title",defaultMessage:"Comments"}))),!t&&j.a.getUser()&&!this.isCrossTenant(i.provider,j.a.getUser())&&s.a.createElement(r.a,{className:e.paper},s.a.createElement(A,{apiId:i.id,commentsUpdate:this.updateCommentList,allComments:o,parentCommentId:null,cancelButton:!0})),0===d&&null===j.a.getUser()&&!n&&s.a.createElement("div",{className:e.genericMessageWrapper},s.a.createElement(C.a,{type:"info",className:e.dialogContainer},s.a.createElement(c.a,{variant:"h5",component:"h3"},s.a.createElement(h.a,{id:"Apis.Details.Comments.no.comments",defaultMessage:"No Comments Yet"})),s.a.createElement(c.a,{component:"p"},s.a.createElement(h.a,{id:"Apis.Details.Comments.no.comments.content",defaultMessage:"No comments available for this API yet"})))),s.a.createElement(_,{comments:a,apiId:i.id,commentsUpdate:this.updateCommentList,allComments:o,isOverview:n}),0!==l&&s.a.createElement("div",{className:e.contentWrapper},s.a.createElement(p.a,{container:!0,spacing:4,className:e.root},s.a.createElement(p.a,{item:!0},s.a.createElement(c.a,{className:e.verticalSpace,variant:"body1"},s.a.createElement("a",{className:e.link+" "+e.loadMoreLink,onClick:this.handleLoadMoreComments},s.a.createElement(h.a,{id:"Apis.Details.Comments.load.previous.comments",defaultMessage:"Load Previous Comments"})))),s.a.createElement(p.a,null,s.a.createElement(m.a,{onClick:this.handleLoadMoreComments,className:e.link+" "+e.verticalSpace},"arrow_drop_down")),s.a.createElement(p.a,{item:!0},s.a.createElement(c.a,{className:e.verticalSpace,variant:"body1"},s.a.createElement(h.a,{id:"Apis.Details.Comments.showing.comments",defaultMessage:"Showing comments "}),d-l+" of "+d))))))}}var K,J,$;K=Y,J="contextType",$=G.a,J in K?Object.defineProperty(K,J,{value:$,enumerable:!0,configurable:!0,writable:!0}):K[J]=$,Y.propTypes={classes:o.a.instanceOf(Object).isRequired};t.default=Object(h.e)(Object(l.a)(e=>({root:{display:"flex",alignItems:"center",paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},paper:{marginRight:e.spacing(3),paddingBottom:e.spacing(3),paddingRight:e.spacing(2)},contentWrapper:{paddingLeft:2*e.spacing.unit,paddingTop:e.spacing.unig},contentWrapperOverview:{padding:0,width:"100%",boxShadow:"none"},titleSub:{cursor:"pointer"},link:{color:e.palette.getContrastText(e.palette.background.default),cursor:"pointer"},verticalSpace:{marginTop:.2*e.spacing.unit},loadMoreLink:{textDecoration:"underline"},genericMessageWrapper:{margin:e.spacing(2)}}),{withTheme:!0})(Y))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvR3JpZC9HcmlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS91dGlscy9yZXF1aXJlUHJvcEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3NyYy9hcHAvY29tcG9uZW50cy9TaGFyZWQvQ29uZmlybURpYWxvZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3NyYy9hcHAvY29tcG9uZW50cy9BcGlzL0RldGFpbHMvQ29tbWVudHMvQ29tbWVudEFkZC5qc3giLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3NyYy9hcHAvY29tcG9uZW50cy9BcGlzL0RldGFpbHMvQ29tbWVudHMvQ29tbWVudEVkaXQuanN4Iiwid2VicGFjazovLy8uL3NvdXJjZS9zcmMvYXBwL2NvbXBvbmVudHMvQXBpcy9EZXRhaWxzL0NvbW1lbnRzL0NvbW1lbnRPcHRpb25zLmpzeCIsIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc3JjL2FwcC9jb21wb25lbnRzL0FwaXMvRGV0YWlscy9Db21tZW50cy9Db21tZW50UmVwbHkuanN4Iiwid2VicGFjazovLy8uL3NvdXJjZS9zcmMvYXBwL2NvbXBvbmVudHMvQXBpcy9EZXRhaWxzL0NvbW1lbnRzL0NvbW1lbnQuanN4Iiwid2VicGFjazovLy8uL3NvdXJjZS9zcmMvYXBwL2NvbXBvbmVudHMvQXBpcy9EZXRhaWxzL0NvbW1lbnRzL0NvbW1lbnRzLmpzeCJdLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJkZWZhdWx0Iiwic3R5bGVzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIl9leHRlbmRzMiIsIl9yZWFjdCIsIl9jbHN4IiwiX3dpdGhTdHlsZXMiLCJTUEFDSU5HUyIsIkdSSURfU0laRVMiLCJnZXRPZmZzZXQiLCJ2YWwiLCJkaXYiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJwYXJzZSIsInBhcnNlRmxvYXQiLCJjb25jYXQiLCJTdHJpbmciLCJyZXBsYWNlIiwidGhlbWUiLCJyb290IiwiY29udGFpbmVyIiwiYm94U2l6aW5nIiwiZGlzcGxheSIsImZsZXhXcmFwIiwid2lkdGgiLCJpdGVtIiwibWFyZ2luIiwiemVyb01pbldpZHRoIiwibWluV2lkdGgiLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsImFsaWduQ29udGVudCIsImp1c3RpZnlDb250ZW50IiwiYnJlYWtwb2ludCIsImZvckVhY2giLCJzcGFjaW5nIiwidGhlbWVTcGFjaW5nIiwicGFkZGluZyIsImdlbmVyYXRlR3V0dGVyIiwiYnJlYWtwb2ludHMiLCJrZXlzIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJrZXkiLCJnbG9iYWxTdHlsZXMiLCJzaXplIiwiTWF0aCIsInJvdW5kIiwiZmxleEJhc2lzIiwiZmxleEdyb3ciLCJtYXhXaWR0aCIsInVwIiwiZ2VuZXJhdGVHcmlkIiwiR3JpZCIsImZvcndhcmRSZWYiLCJwcm9wcyIsInJlZiIsIl9wcm9wcyRhbGlnbkNvbnRlbnQiLCJfcHJvcHMkYWxpZ25JdGVtcyIsImNsYXNzZXMiLCJjbGFzc05hbWVQcm9wIiwiY2xhc3NOYW1lIiwiX3Byb3BzJGNvbXBvbmVudCIsImNvbXBvbmVudCIsIkNvbXBvbmVudCIsIl9wcm9wcyRjb250YWluZXIiLCJfcHJvcHMkZGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwiX3Byb3BzJGl0ZW0iLCJfcHJvcHMkanVzdGlmeSIsImp1c3RpZnkiLCJfcHJvcHMkbGciLCJsZyIsIl9wcm9wcyRtZCIsIm1kIiwiX3Byb3BzJHNtIiwic20iLCJfcHJvcHMkc3BhY2luZyIsIl9wcm9wcyR3cmFwIiwid3JhcCIsIl9wcm9wcyR4bCIsInhsIiwiX3Byb3BzJHhzIiwieHMiLCJfcHJvcHMkemVyb01pbldpZHRoIiwib3RoZXIiLCJjcmVhdGVFbGVtZW50IiwiX2RlZmF1bHQiLCJuYW1lIiwiY29tcG9uZW50TmFtZUluRXJyb3IiLCJDb25maXJtRGlhbG9nIiwiUmVhY3QiLCJoYW5kbGVSZXF1ZXN0Q2xvc2UiLCJhY3Rpb24iLCJjYWxsYmFjayIsInRoaXMiLCJBY3Rpb24iLCJPSyIsInJlbmRlciIsInRpdGxlIiwibWVzc2FnZSIsImxhYmVsQ2FuY2VsIiwibGFiZWxPayIsIm9wZW4iLCJEaWFsb2ciLCJvbkNsb3NlIiwiRGlhbG9nVGl0bGUiLCJpZCIsImRlZmF1bHRNZXNzYWdlIiwiRGlhbG9nQ29udGVudCIsIkRpYWxvZ0NvbnRlbnRUZXh0IiwiRGlhbG9nQWN0aW9ucyIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJDQU5DRUwiLCJjb2xvciIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJmdW5jIiwiYm9vbCIsIkNvbW1lbnRBZGQiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwic3RhdGUiLCJjb250ZW50IiwiY3VycmVudExlbmd0aCIsImlucHV0Q2hhbmdlIiwiYmluZCIsImhhbmRsZUNsaWNrQWRkQ29tbWVudCIsImhhbmRsZUNsaWNrQ2FuY2VsIiwidGFyZ2V0Iiwic2V0U3RhdGUiLCJhcGlJZCIsImFsbENvbW1lbnRzIiwiY29tbWVudHNVcGRhdGUiLCJpbnRsIiwiQXBpIiwiQVBJIiwiY29tbWVudCIsInRyaW0iLCJhZGRDb21tZW50IiwidGhlbiIsIm5ld0NvbW1lbnQiLCJhZGRlZENvbW1lbnQiLCJib2R5IiwicHVzaCIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwicmVzcG9uc2UiLCJBbGVydCIsImZvcm1hdE1lc3NhZ2UiLCJjYW5jZWxCdXR0b24iLCJjb250ZW50V3JhcHBlciIsImNvbW1lbnRBZGRXcmFwcGVyIiwiVGV4dEZpZWxkIiwiYXV0b0ZvY3VzIiwibXVsdGlsaW5lIiwidGV4dEZpZWxkIiwicGxhY2Vob2xkZXIiLCJpbnB1dFByb3BzIiwibWF4TGVuZ3RoIiwiY3VzdG9tIiwibWF4Q29tbWVudExlbmd0aCIsIm9uQ2hhbmdlIiwidmFyaWFudCIsIlR5cG9ncmFwaHkiLCJhbGlnbiIsImRpc2FibGVkIiwiYnV0dG9uIiwiZGVmYXVsdFByb3BzIiwicGFyZW50Q29tbWVudElkIiwidG9nZ2xlU2hvd1JlcGx5IiwiaW5zdGFuY2VPZiIsIkFycmF5Iiwic2hhcGUiLCJpbmplY3RJbnRsIiwid2l0aFN0eWxlcyIsImNvbW1lbnRJY29uIiwicGFsZXR0ZSIsImdldENvbnRyYXN0VGV4dCIsImJhY2tncm91bmQiLCJjb250ZW50QXJlYVdpZHRoIiwicGFkZGluZ0xlZnQiLCJ1bml0IiwicGFkZGluZ1RvcCIsInVuaWciLCJtYXJnaW5Ub3AiLCJtYXJnaW5SaWdodCIsIndpdGhUaGVtZSIsIkNvbW1lbnRFZGl0IiwiY29tbWVudFRleHQiLCJjYXRlZ29yeSIsImhhbmRsZUNhdGVnb3J5Q2hhbmdlIiwiaGFuZGxlQ2xpY2tVcGRhdGVDb21tZW50IiwiZmlsdGVyQ29tbWVudFRvVXBkYXRlIiwiZmlsdGVyQ29tbWVudFRvVXBkYXRlUmVwbHkiLCJjb21wb25lbnREaWRNb3VudCIsInRvZ2dsZVNob3dFZGl0IiwiZXZlbnQiLCJjb21tZW50VG9GaWx0ZXIiLCJjb21tZW50SWQiLCJjb21tZW50VG9FZGl0IiwidXBkYXRlQ29tbWVudCIsInJlc3VsdCIsInVwZGF0ZWRDb21tZW50IiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJyZXBseUluZGV4IiwicmVwbGllcyIsIkZvcm1Db250cm9sIiwiU2VsZWN0IiwiTWVudUl0ZW0iLCJDb21tZW50T3B0aW9ucyIsInNob3dBZGRDb21tZW50Iiwic2hvd0VkaXRDb21tZW50IiwiaGFuZGxlQ2xpY2tPcGVuIiwiZWRpdEluZGV4IiwiZGlzcGxheURhdGUiLCJ0aW1lc3RhbXAiLCJsb2NhbERhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZGF5IiwibW9udGgiLCJ5ZWFyIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsInZlcnRpY2FsU3BhY2UiLCJBdXRoTWFuYWdlciIsImdldFVzZXIiLCJjcmVhdGVkQnkiLCJsaW5rIiwiZGlzYWJsZSIsIlZlcnRpY2FsRGl2aWRlciIsImhlaWdodCIsInRpbWUiLCJjcmVhdGVkVGltZSIsIm51bWJlciIsImN1cnNvciIsImdyZXkiLCJ3aGl0ZVNwYWNlIiwib3ZlcmZsb3dXcmFwIiwiQ29tbWVudFJlcGx5Iiwib3BlbkRpYWxvZyIsImRlbGV0ZUNvbW1lbnQiLCJoYW5kbGVDbGlja0RlbGV0ZUNvbW1lbnQiLCJoYW5kbGVTaG93RWRpdCIsImhhbmRsZUNvbmZpcm1EaWFsb2ciLCJoYW5kbGVDbG9zZSIsImZpbHRlclJlbWFpbmluZ0NvbW1lbnRzIiwiZmlsdGVyQ29tbWVudFRvRGVsZXRlIiwiY29tbWVudElkT2ZDb21tZW50VG9EZWxldGUiLCJwYXJlbnRDb21tZW50SWRPZkNvbW1lbnRUb0RlbGV0ZSIsInJlbWFpbmluZ0NvbW1lbnRzIiwiZmlsdGVyIiwicmVtYWluaW5nUmVwbGllcyIsImNvbW1lbnRzIiwibWFwIiwiSWNvbiIsIm5vV3JhcCIsImFwaSIsIkNvbW1lbnQiLCJoYW5kbGVTaG93UmVwbHkiLCJhcGlDbGllbnQiLCJpc092ZXJ2aWV3IiwiUGFwZXIiLCJjbGFzc05hbWVzIiwicGFwZXIiLCJjbGVhbkJhY2siLCJzbGljZSIsInJldmVyc2UiLCJjb250ZW50V3JhcHBlck92ZXJ2aWV3IiwiRGl2aWRlciIsImRpdmlkZXIiLCJwYWRkaW5nQm90dG9tIiwiYm94U2hhZG93IiwiQ29tbWVudHMiLCJleHBhbmRlZCIsInRvdGFsQ29tbWVudHMiLCJzdGFydENvbW1lbnRzVG9EaXNwbGF5IiwidXBkYXRlQ29tbWVudExpc3QiLCJoYW5kbGVFeHBhbmRDbGljayIsImhhbmRsZUxvYWRNb3JlQ29tbWVudHMiLCJtYXRjaCIsInNldENvdW50IiwicGFyYW1zIiwiYXBpVXVpZCIsImdldEFsbENvbW1lbnRzIiwiY29tbWVudExpc3QiLCJsaXN0IiwiY29tbWVudHNMaW1pdCIsInByb2Nlc3MiLCJuZXdTdGFydCIsImRpZmZlcmVuY2UiLCJuZXdUb3RhbCIsImlzQ3Jvc3NUZW5hbnQiLCJhcGlQcm92aWRlciIsImN1cnJlbnRVc2VyIiwidGVuYW50RG9tYWluIiwibG9nZ2VkSW5Vc2VyRG9tYWluIiwibG9nZ2VkSW5Vc2VyIiwiaW5jbHVkZXMiLCJzcGxpdERvbWFpbiIsInNwbGl0Iiwic3BsaXRMb2dnZWRJblVzZXIiLCJzaG93TGF0ZXN0IiwiQXBpQ29udGV4dCIsIkNvbnN1bWVyIiwidGl0bGVTdWIiLCJwcm92aWRlciIsImdlbmVyaWNNZXNzYWdlV3JhcHBlciIsIklubGluZU1lc3NhZ2UiLCJ0eXBlIiwiZGlhbG9nQ29udGFpbmVyIiwibG9hZE1vcmVMaW5rIiwicGFkZGluZ1JpZ2h0IiwidGV4dERlY29yYXRpb24iXSwibWFwcGluZ3MiOiIyRkFFQSxJQUFJQSxFQUF5QixFQUFRLElBRXJDQyxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FDM0NDLE9BQU8sSUFFVEQsRUFBUUUsUUFBVUYsRUFBUUcsWUFBUyxFQUVuQyxJQUFJQyxFQUE0QlAsRUFBdUIsRUFBUSxNQUUzRFEsRUFBWVIsRUFBdUIsRUFBUSxNQUUzQ1MsRUFBU1QsRUFBdUIsRUFBUSxJQUl4Q1UsR0FGYVYsRUFBdUIsRUFBUSxJQUVwQ0EsRUFBdUIsRUFBUSxLQUV2Q1csRUFBY1gsRUFBdUIsRUFBUSxPQWM3Q1ksR0Fac0JaLEVBQXVCLEVBQVEsT0FZMUMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEtBQzFDYSxFQUFhLENBQUMsUUFBUSxFQUFNLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxJQTRDbkUsU0FBU0MsRUFBVUMsR0FDakIsSUFBSUMsRUFBTUMsVUFBVUMsT0FBUyxRQUFzQkMsSUFBakJGLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxFQUMxRUcsRUFBUUMsV0FBV04sR0FDdkIsTUFBTyxHQUFHTyxPQUFPRixFQUFRSixHQUFL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RCxRQUFTMEQsSUFBVTBELFdBQVdyTCxRQUFRNkgsWUFHM0IyRCxzQkFBV0MsWUFoVVhqSyxJQUFTLENBQ3BCQyxLQUFNLENBQ0ZHLFFBQVMsT0FDVFEsV0FBWSxTQUNaNkosV0FBaUMsRUFBckJ6SyxFQUFNaUIsUUFBUXVKLEtBQzFCNEYsY0FBb0MsRUFBckJwUSxFQUFNaUIsUUFBUXVKLE1BRWpDcUYsTUFBTyxDQUNIakYsWUFBYTVLLEVBQU1pQixRQUFRLEdBQzNCbVAsY0FBZXBRLEVBQU1pQixRQUFRLEdBQzdCNFIsYUFBYzdTLEVBQU1pQixRQUFRLElBRWhDd0gsZUFBZ0IsQ0FDWjhCLFlBQWtDLEVBQXJCdkssRUFBTWlCLFFBQVF1SixLQUMzQkMsV0FBWXpLLEVBQU1pQixRQUFReUosTUFFOUJ1Rix1QkFBd0IsQ0FDcEI5TyxRQUFTLEVBQ1RiLE1BQU8sT0FDUCtQLFVBQVcsUUFFZmlDLFNBQVUsQ0FDTnRFLE9BQVEsV0FFWlAsS0FBTSxDQUNGeEgsTUFBT2pHLEVBQU1tSyxRQUFRQyxnQkFBZ0JwSyxFQUFNbUssUUFBUUUsV0FBV3pMLFNBQzlEb1AsT0FBUSxXQUVaWCxjQUFlLENBQ1gxQyxVQUFnQyxHQUFyQjNLLEVBQU1pQixRQUFRdUosTUFFN0JvSSxhQUFjLENBQ1ZFLGVBQWdCLGFBRXBCTixzQkFBdUIsQ0FDbkJoUyxPQUFRUixFQUFNaUIsUUFBUSxNQTZSZSxDQUFFNEosV0FBVyxHQUFoQ1osQ0FBd0NxRyIsImZpbGUiOiJDb21tZW50cy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLnN0eWxlcyA9IHZvaWQgMDtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCIpKTtcblxudmFyIF9leHRlbmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfY2xzeCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImNsc3hcIikpO1xuXG52YXIgX3dpdGhTdHlsZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9zdHlsZXMvd2l0aFN0eWxlc1wiKSk7XG5cbnZhciBfcmVxdWlyZVByb3BGYWN0b3J5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vdXRpbHMvcmVxdWlyZVByb3BGYWN0b3J5XCIpKTtcblxuLy8gQSBncmlkIGNvbXBvbmVudCB1c2luZyB0aGUgZm9sbG93aW5nIGxpYnMgYXMgaW5zcGlyYXRpb24uXG4vL1xuLy8gRm9yIHRoZSBpbXBsZW1lbnRhdGlvbjpcbi8vIC0gaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2RvY3MvNC4zL2xheW91dC9ncmlkL1xuLy8gLSBodHRwczovL2dpdGh1Yi5jb20va3Jpc3RvZmVyam9zZXBoL2ZsZXhib3hncmlkL2Jsb2IvbWFzdGVyL3NyYy9jc3MvZmxleGJveGdyaWQuY3NzXG4vLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9yb3lsZWUwNzA0L3JlYWN0LWZsZXhib3gtZ3JpZFxuLy8gLSBodHRwczovL21hdGVyaWFsLmFuZ3VsYXJqcy5vcmcvbGF0ZXN0L2xheW91dC9pbnRyb2R1Y3Rpb25cbi8vXG4vLyBGb2xsb3cgdGhpcyBmbGV4Ym94IEd1aWRlIHRvIGJldHRlciB1bmRlcnN0YW5kIHRoZSB1bmRlcmx5aW5nIG1vZGVsOlxuLy8gLSBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2Nzcy9hLWd1aWRlLXRvLWZsZXhib3gvXG52YXIgU1BBQ0lOR1MgPSBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdO1xudmFyIEdSSURfU0laRVMgPSBbJ2F1dG8nLCB0cnVlLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyXTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVHcmlkKGdsb2JhbFN0eWxlcywgdGhlbWUsIGJyZWFrcG9pbnQpIHtcbiAgdmFyIHN0eWxlcyA9IHt9O1xuICBHUklEX1NJWkVTLmZvckVhY2goZnVuY3Rpb24gKHNpemUpIHtcbiAgICB2YXIga2V5ID0gXCJncmlkLVwiLmNvbmNhdChicmVha3BvaW50LCBcIi1cIikuY29uY2F0KHNpemUpO1xuXG4gICAgaWYgKHNpemUgPT09IHRydWUpIHtcbiAgICAgIC8vIEZvciB0aGUgYXV0byBsYXlvdXRpbmdcbiAgICAgIHN0eWxlc1trZXldID0ge1xuICAgICAgICBmbGV4QmFzaXM6IDAsXG4gICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnXG4gICAgICB9O1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzaXplID09PSAnYXV0bycpIHtcbiAgICAgIHN0eWxlc1trZXldID0ge1xuICAgICAgICBmbGV4QmFzaXM6ICdhdXRvJyxcbiAgICAgICAgZmxleEdyb3c6IDAsXG4gICAgICAgIG1heFdpZHRoOiAnbm9uZSdcbiAgICAgIH07XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBLZWVwIDcgc2lnbmlmaWNhbnQgbnVtYmVycy5cblxuXG4gICAgdmFyIHdpZHRoID0gXCJcIi5jb25jYXQoTWF0aC5yb3VuZChzaXplIC8gMTIgKiAxMGU3KSAvIDEwZTUsIFwiJVwiKTsgLy8gQ2xvc2UgdG8gdGhlIGJvb3RzdHJhcCBpbXBsZW1lbnRhdGlvbjpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi84ZmNjYWEyNDM5ZTk3ZWM3MmE0YjdkYzQyY2NjMWY2NDk3OTBhZGIwL3Njc3MvbWl4aW5zL19ncmlkLnNjc3MjTDQxXG5cbiAgICBzdHlsZXNba2V5XSA9IHtcbiAgICAgIGZsZXhCYXNpczogd2lkdGgsXG4gICAgICBmbGV4R3JvdzogMCxcbiAgICAgIG1heFdpZHRoOiB3aWR0aFxuICAgIH07XG4gIH0pOyAvLyBObyBuZWVkIGZvciBhIG1lZGlhIHF1ZXJ5IGZvciB0aGUgZmlyc3Qgc2l6ZS5cblxuICBpZiAoYnJlYWtwb2ludCA9PT0gJ3hzJykge1xuICAgICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoZ2xvYmFsU3R5bGVzLCBzdHlsZXMpO1xuICB9IGVsc2Uge1xuICAgIGdsb2JhbFN0eWxlc1t0aGVtZS5icmVha3BvaW50cy51cChicmVha3BvaW50KV0gPSBzdHlsZXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0KHZhbCkge1xuICB2YXIgZGl2ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuICB2YXIgcGFyc2UgPSBwYXJzZUZsb2F0KHZhbCk7XG4gIHJldHVybiBcIlwiLmNvbmNhdChwYXJzZSAvIGRpdikuY29uY2F0KFN0cmluZyh2YWwpLnJlcGxhY2UoU3RyaW5nKHBhcnNlKSwgJycpIHx8ICdweCcpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUd1dHRlcih0aGVtZSwgYnJlYWtwb2ludCkge1xuICB2YXIgc3R5bGVzID0ge307XG4gIFNQQUNJTkdTLmZvckVhY2goZnVuY3Rpb24gKHNwYWNpbmcpIHtcbiAgICB2YXIgdGhlbWVTcGFjaW5nID0gdGhlbWUuc3BhY2luZyhzcGFjaW5nKTtcblxuICAgIGlmICh0aGVtZVNwYWNpbmcgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdHlsZXNbXCJzcGFjaW5nLVwiLmNvbmNhdChicmVha3BvaW50LCBcIi1cIikuY29uY2F0KHNwYWNpbmcpXSA9IHtcbiAgICAgIG1hcmdpbjogXCItXCIuY29uY2F0KGdldE9mZnNldCh0aGVtZVNwYWNpbmcsIDIpKSxcbiAgICAgIHdpZHRoOiBcImNhbGMoMTAwJSArIFwiLmNvbmNhdChnZXRPZmZzZXQodGhlbWVTcGFjaW5nKSwgXCIpXCIpLFxuICAgICAgJyYgPiAkaXRlbSc6IHtcbiAgICAgICAgcGFkZGluZzogZ2V0T2Zmc2V0KHRoZW1lU3BhY2luZywgMilcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHN0eWxlcztcbn0gLy8gRGVmYXVsdCBDU1MgdmFsdWVzXG4vLyBmbGV4OiAnMCAxIGF1dG8nLFxuLy8gZmxleERpcmVjdGlvbjogJ3JvdycsXG4vLyBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsXG4vLyBmbGV4V3JhcDogJ25vd3JhcCcsXG4vLyBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLFxuXG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe1xuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgKi9cbiAgICByb290OiB7fSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGNvbnRhaW5lcj17dHJ1ZX1gLiAqL1xuICAgIGNvbnRhaW5lcjoge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4V3JhcDogJ3dyYXAnLFxuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBpdGVtPXt0cnVlfWAuICovXG4gICAgaXRlbToge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBtYXJnaW46ICcwJyAvLyBGb3IgaW5zdGFuY2UsIGl0J3MgdXNlZnVsIHdoZW4gdXNlZCB3aXRoIGEgYGZpZ3VyZWAgZWxlbWVudC5cblxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGB6ZXJvTWluV2lkdGg9e3RydWV9YC4gKi9cbiAgICB6ZXJvTWluV2lkdGg6IHtcbiAgICAgIG1pbldpZHRoOiAwXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGRpcmVjdGlvbj1cImNvbHVtblwiYC4gKi9cbiAgICAnZGlyZWN0aW9uLXhzLWNvbHVtbic6IHtcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGRpcmVjdGlvbj1cImNvbHVtbi1yZXZlcnNlXCJgLiAqL1xuICAgICdkaXJlY3Rpb24teHMtY29sdW1uLXJldmVyc2UnOiB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uLXJldmVyc2UnXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGRpcmVjdGlvbj1cInJ3by1yZXZlcnNlXCJgLiAqL1xuICAgICdkaXJlY3Rpb24teHMtcm93LXJldmVyc2UnOiB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHdyYXA9XCJub3dyYXBcImAuICovXG4gICAgJ3dyYXAteHMtbm93cmFwJzoge1xuICAgICAgZmxleFdyYXA6ICdub3dyYXAnXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHdyYXA9XCJyZXZlcnNlXCJgLiAqL1xuICAgICd3cmFwLXhzLXdyYXAtcmV2ZXJzZSc6IHtcbiAgICAgIGZsZXhXcmFwOiAnd3JhcC1yZXZlcnNlJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkl0ZW1zPVwiY2VudGVyXCJgLiAqL1xuICAgICdhbGlnbi1pdGVtcy14cy1jZW50ZXInOiB7XG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkl0ZW1zPVwiZmxleC1zdGFydFwiYC4gKi9cbiAgICAnYWxpZ24taXRlbXMteHMtZmxleC1zdGFydCc6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0J1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkl0ZW1zPVwiZmxleC1lbmRcImAuICovXG4gICAgJ2FsaWduLWl0ZW1zLXhzLWZsZXgtZW5kJzoge1xuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkl0ZW1zPVwiYmFzZWxpbmVcImAuICovXG4gICAgJ2FsaWduLWl0ZW1zLXhzLWJhc2VsaW5lJzoge1xuICAgICAgYWxpZ25JdGVtczogJ2Jhc2VsaW5lJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkNvbnRlbnQ9XCJjZW50ZXJcImAuICovXG4gICAgJ2FsaWduLWNvbnRlbnQteHMtY2VudGVyJzoge1xuICAgICAgYWxpZ25Db250ZW50OiAnY2VudGVyJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkNvbnRlbnQ9XCJmbGV4LXN0YXJ0XCJgLiAqL1xuICAgICdhbGlnbi1jb250ZW50LXhzLWZsZXgtc3RhcnQnOiB7XG4gICAgICBhbGlnbkNvbnRlbnQ6ICdmbGV4LXN0YXJ0J1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkNvbnRlbnQ9XCJmbGV4LWVuZFwiYC4gKi9cbiAgICAnYWxpZ24tY29udGVudC14cy1mbGV4LWVuZCc6IHtcbiAgICAgIGFsaWduQ29udGVudDogJ2ZsZXgtZW5kJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCJgLiAqL1xuICAgICdhbGlnbi1jb250ZW50LXhzLXNwYWNlLWJldHdlZW4nOiB7XG4gICAgICBhbGlnbkNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBhbGlnbkNvbnRlbnQ9XCJzcGFjZS1hcm91bmRcImAuICovXG4gICAgJ2FsaWduLWNvbnRlbnQteHMtc3BhY2UtYXJvdW5kJzoge1xuICAgICAgYWxpZ25Db250ZW50OiAnc3BhY2UtYXJvdW5kJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBqdXN0aWZ5PVwiY2VudGVyXCJgLiAqL1xuICAgICdqdXN0aWZ5LXhzLWNlbnRlcic6IHtcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBqdXN0aWZ5PVwiZmxleC1lbmRcImAuICovXG4gICAgJ2p1c3RpZnkteHMtZmxleC1lbmQnOiB7XG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiYC4gKi9cbiAgICAnanVzdGlmeS14cy1zcGFjZS1iZXR3ZWVuJzoge1xuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBqdXN0aWZ5PVwic3BhY2UtYXJvdW5kXCJgLiAqL1xuICAgICdqdXN0aWZ5LXhzLXNwYWNlLWFyb3VuZCc6IHtcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBqdXN0aWZ5PVwic3BhY2UtZXZlbmx5XCJgLiAqL1xuICAgICdqdXN0aWZ5LXhzLXNwYWNlLWV2ZW5seSc6IHtcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtZXZlbmx5J1xuICAgIH1cbiAgfSwgZ2VuZXJhdGVHdXR0ZXIodGhlbWUsICd4cycpLCB7fSwgdGhlbWUuYnJlYWtwb2ludHMua2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBrZXkpIHtcbiAgICAvLyBVc2Ugc2lkZSBlZmZlY3Qgb3ZlciBpbW11dGFiaWxpdHkgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICBnZW5lcmF0ZUdyaWQoYWNjdW11bGF0b3IsIHRoZW1lLCBrZXkpO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfSwge30pKTtcbn07XG5cbmV4cG9ydHMuc3R5bGVzID0gc3R5bGVzO1xuXG52YXIgR3JpZCA9IF9yZWFjdC5kZWZhdWx0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF9wcm9wcyRhbGlnbkNvbnRlbnQgPSBwcm9wcy5hbGlnbkNvbnRlbnQsXG4gICAgICBhbGlnbkNvbnRlbnQgPSBfcHJvcHMkYWxpZ25Db250ZW50ID09PSB2b2lkIDAgPyAnc3RyZXRjaCcgOiBfcHJvcHMkYWxpZ25Db250ZW50LFxuICAgICAgX3Byb3BzJGFsaWduSXRlbXMgPSBwcm9wcy5hbGlnbkl0ZW1zLFxuICAgICAgYWxpZ25JdGVtcyA9IF9wcm9wcyRhbGlnbkl0ZW1zID09PSB2b2lkIDAgPyAnc3RyZXRjaCcgOiBfcHJvcHMkYWxpZ25JdGVtcyxcbiAgICAgIGNsYXNzZXMgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lUHJvcCA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBDb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyAnZGl2JyA6IF9wcm9wcyRjb21wb25lbnQsXG4gICAgICBfcHJvcHMkY29udGFpbmVyID0gcHJvcHMuY29udGFpbmVyLFxuICAgICAgY29udGFpbmVyID0gX3Byb3BzJGNvbnRhaW5lciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkY29udGFpbmVyLFxuICAgICAgX3Byb3BzJGRpcmVjdGlvbiA9IHByb3BzLmRpcmVjdGlvbixcbiAgICAgIGRpcmVjdGlvbiA9IF9wcm9wcyRkaXJlY3Rpb24gPT09IHZvaWQgMCA/ICdyb3cnIDogX3Byb3BzJGRpcmVjdGlvbixcbiAgICAgIF9wcm9wcyRpdGVtID0gcHJvcHMuaXRlbSxcbiAgICAgIGl0ZW0gPSBfcHJvcHMkaXRlbSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkaXRlbSxcbiAgICAgIF9wcm9wcyRqdXN0aWZ5ID0gcHJvcHMuanVzdGlmeSxcbiAgICAgIGp1c3RpZnkgPSBfcHJvcHMkanVzdGlmeSA9PT0gdm9pZCAwID8gJ2ZsZXgtc3RhcnQnIDogX3Byb3BzJGp1c3RpZnksXG4gICAgICBfcHJvcHMkbGcgPSBwcm9wcy5sZyxcbiAgICAgIGxnID0gX3Byb3BzJGxnID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRsZyxcbiAgICAgIF9wcm9wcyRtZCA9IHByb3BzLm1kLFxuICAgICAgbWQgPSBfcHJvcHMkbWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJG1kLFxuICAgICAgX3Byb3BzJHNtID0gcHJvcHMuc20sXG4gICAgICBzbSA9IF9wcm9wcyRzbSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkc20sXG4gICAgICBfcHJvcHMkc3BhY2luZyA9IHByb3BzLnNwYWNpbmcsXG4gICAgICBzcGFjaW5nID0gX3Byb3BzJHNwYWNpbmcgPT09IHZvaWQgMCA/IDAgOiBfcHJvcHMkc3BhY2luZyxcbiAgICAgIF9wcm9wcyR3cmFwID0gcHJvcHMud3JhcCxcbiAgICAgIHdyYXAgPSBfcHJvcHMkd3JhcCA9PT0gdm9pZCAwID8gJ3dyYXAnIDogX3Byb3BzJHdyYXAsXG4gICAgICBfcHJvcHMkeGwgPSBwcm9wcy54bCxcbiAgICAgIHhsID0gX3Byb3BzJHhsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyR4bCxcbiAgICAgIF9wcm9wcyR4cyA9IHByb3BzLnhzLFxuICAgICAgeHMgPSBfcHJvcHMkeHMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJHhzLFxuICAgICAgX3Byb3BzJHplcm9NaW5XaWR0aCA9IHByb3BzLnplcm9NaW5XaWR0aCxcbiAgICAgIHplcm9NaW5XaWR0aCA9IF9wcm9wcyR6ZXJvTWluV2lkdGggPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJHplcm9NaW5XaWR0aCxcbiAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIuZGVmYXVsdCkocHJvcHMsIFtcImFsaWduQ29udGVudFwiLCBcImFsaWduSXRlbXNcIiwgXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiY29tcG9uZW50XCIsIFwiY29udGFpbmVyXCIsIFwiZGlyZWN0aW9uXCIsIFwiaXRlbVwiLCBcImp1c3RpZnlcIiwgXCJsZ1wiLCBcIm1kXCIsIFwic21cIiwgXCJzcGFjaW5nXCIsIFwid3JhcFwiLCBcInhsXCIsIFwieHNcIiwgXCJ6ZXJvTWluV2lkdGhcIl0pO1xuICB2YXIgY2xhc3NOYW1lID0gKDAsIF9jbHN4LmRlZmF1bHQpKGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lUHJvcCwgY29udGFpbmVyICYmIFtjbGFzc2VzLmNvbnRhaW5lciwgc3BhY2luZyAhPT0gMCAmJiBjbGFzc2VzW1wic3BhY2luZy14cy1cIi5jb25jYXQoU3RyaW5nKHNwYWNpbmcpKV1dLCBpdGVtICYmIGNsYXNzZXMuaXRlbSwgemVyb01pbldpZHRoICYmIGNsYXNzZXMuemVyb01pbldpZHRoLCBkaXJlY3Rpb24gIT09ICdyb3cnICYmIGNsYXNzZXNbXCJkaXJlY3Rpb24teHMtXCIuY29uY2F0KFN0cmluZyhkaXJlY3Rpb24pKV0sIHdyYXAgIT09ICd3cmFwJyAmJiBjbGFzc2VzW1wid3JhcC14cy1cIi5jb25jYXQoU3RyaW5nKHdyYXApKV0sIGFsaWduSXRlbXMgIT09ICdzdHJldGNoJyAmJiBjbGFzc2VzW1wiYWxpZ24taXRlbXMteHMtXCIuY29uY2F0KFN0cmluZyhhbGlnbkl0ZW1zKSldLCBhbGlnbkNvbnRlbnQgIT09ICdzdHJldGNoJyAmJiBjbGFzc2VzW1wiYWxpZ24tY29udGVudC14cy1cIi5jb25jYXQoU3RyaW5nKGFsaWduQ29udGVudCkpXSwganVzdGlmeSAhPT0gJ2ZsZXgtc3RhcnQnICYmIGNsYXNzZXNbXCJqdXN0aWZ5LXhzLVwiLmNvbmNhdChTdHJpbmcoanVzdGlmeSkpXSwgeHMgIT09IGZhbHNlICYmIGNsYXNzZXNbXCJncmlkLXhzLVwiLmNvbmNhdChTdHJpbmcoeHMpKV0sIHNtICE9PSBmYWxzZSAmJiBjbGFzc2VzW1wiZ3JpZC1zbS1cIi5jb25jYXQoU3RyaW5nKHNtKSldLCBtZCAhPT0gZmFsc2UgJiYgY2xhc3Nlc1tcImdyaWQtbWQtXCIuY29uY2F0KFN0cmluZyhtZCkpXSwgbGcgIT09IGZhbHNlICYmIGNsYXNzZXNbXCJncmlkLWxnLVwiLmNvbmNhdChTdHJpbmcobGcpKV0sIHhsICE9PSBmYWxzZSAmJiBjbGFzc2VzW1wiZ3JpZC14bC1cIi5jb25jYXQoU3RyaW5nKHhsKSldKTtcbiAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICByZWY6IHJlZlxuICB9LCBvdGhlcikpO1xufSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGNhbid0IHVzZSBuYW1lZCBmdW5jdGlvbiBleHByZXNzaW9uIHNpbmNlIHRoZSBmdW5jdGlvbiBib2R5IHJlZmVyZW5jZXMgYEdyaWRgXG4gIC8vIHdoaWNoIHdvdWxkIHBvaW50IHRvIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZCBvZiB0aGUgYWN0dWFsIGNvbXBvbmVudFxuICBHcmlkLmRpc3BsYXlOYW1lID0gJ0ZvcndhcmRSZWYoR3JpZCknO1xufVxuXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBHcmlkLnByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGBhbGlnbi1jb250ZW50YCBzdHlsZSBwcm9wZXJ0eS5cbiAgICogSXQncyBhcHBsaWVkIGZvciBhbGwgc2NyZWVuIHNpemVzLlxuICAgKi9cbiAgYWxpZ25Db250ZW50OiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWydzdHJldGNoJywgJ2NlbnRlcicsICdmbGV4LXN0YXJ0JywgJ2ZsZXgtZW5kJywgJ3NwYWNlLWJldHdlZW4nLCAnc3BhY2UtYXJvdW5kJ10pLFxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBgYWxpZ24taXRlbXNgIHN0eWxlIHByb3BlcnR5LlxuICAgKiBJdCdzIGFwcGxpZWQgZm9yIGFsbCBzY3JlZW4gc2l6ZXMuXG4gICAqL1xuICBhbGlnbkl0ZW1zOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWydmbGV4LXN0YXJ0JywgJ2NlbnRlcicsICdmbGV4LWVuZCcsICdzdHJldGNoJywgJ2Jhc2VsaW5lJ10pLFxuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ub2RlLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBET00gZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogX3Byb3BUeXBlcy5kZWZhdWx0LmVsZW1lbnRUeXBlLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgd2lsbCBoYXZlIHRoZSBmbGV4ICpjb250YWluZXIqIGJlaGF2aW9yLlxuICAgKiBZb3Ugc2hvdWxkIGJlIHdyYXBwaW5nICppdGVtcyogd2l0aCBhICpjb250YWluZXIqLlxuICAgKi9cbiAgY29udGFpbmVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgYGZsZXgtZGlyZWN0aW9uYCBzdHlsZSBwcm9wZXJ0eS5cbiAgICogSXQgaXMgYXBwbGllZCBmb3IgYWxsIHNjcmVlbiBzaXplcy5cbiAgICovXG4gIGRpcmVjdGlvbjogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsncm93JywgJ3Jvdy1yZXZlcnNlJywgJ2NvbHVtbicsICdjb2x1bW4tcmV2ZXJzZSddKSxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IHdpbGwgaGF2ZSB0aGUgZmxleCAqaXRlbSogYmVoYXZpb3IuXG4gICAqIFlvdSBzaG91bGQgYmUgd3JhcHBpbmcgKml0ZW1zKiB3aXRoIGEgKmNvbnRhaW5lciouXG4gICAqL1xuICBpdGVtOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgYGp1c3RpZnktY29udGVudGAgc3R5bGUgcHJvcGVydHkuXG4gICAqIEl0IGlzIGFwcGxpZWQgZm9yIGFsbCBzY3JlZW4gc2l6ZXMuXG4gICAqL1xuICBqdXN0aWZ5OiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWydmbGV4LXN0YXJ0JywgJ2NlbnRlcicsICdmbGV4LWVuZCcsICdzcGFjZS1iZXR3ZWVuJywgJ3NwYWNlLWFyb3VuZCcsICdzcGFjZS1ldmVubHknXSksXG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIG51bWJlciBvZiBncmlkcyB0aGUgY29tcG9uZW50IGlzIGdvaW5nIHRvIHVzZS5cbiAgICogSXQncyBhcHBsaWVkIGZvciB0aGUgYGxnYCBicmVha3BvaW50IGFuZCB3aWRlciBzY3JlZW5zIGlmIG5vdCBvdmVycmlkZGVuLlxuICAgKi9cbiAgbGc6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbZmFsc2UsICdhdXRvJywgdHJ1ZSwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMl0pLFxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBudW1iZXIgb2YgZ3JpZHMgdGhlIGNvbXBvbmVudCBpcyBnb2luZyB0byB1c2UuXG4gICAqIEl0J3MgYXBwbGllZCBmb3IgdGhlIGBtZGAgYnJlYWtwb2ludCBhbmQgd2lkZXIgc2NyZWVucyBpZiBub3Qgb3ZlcnJpZGRlbi5cbiAgICovXG4gIG1kOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoW2ZhbHNlLCAnYXV0bycsIHRydWUsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdKSxcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgbnVtYmVyIG9mIGdyaWRzIHRoZSBjb21wb25lbnQgaXMgZ29pbmcgdG8gdXNlLlxuICAgKiBJdCdzIGFwcGxpZWQgZm9yIHRoZSBgc21gIGJyZWFrcG9pbnQgYW5kIHdpZGVyIHNjcmVlbnMgaWYgbm90IG92ZXJyaWRkZW4uXG4gICAqL1xuICBzbTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFtmYWxzZSwgJ2F1dG8nLCB0cnVlLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyXSksXG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHNwYWNlIGJldHdlZW4gdGhlIHR5cGUgYGl0ZW1gIGNvbXBvbmVudC5cbiAgICogSXQgY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHR5cGUgYGNvbnRhaW5lcmAgY29tcG9uZW50LlxuICAgKi9cbiAgc3BhY2luZzogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFNQQUNJTkdTKSxcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgYGZsZXgtd3JhcGAgc3R5bGUgcHJvcGVydHkuXG4gICAqIEl0J3MgYXBwbGllZCBmb3IgYWxsIHNjcmVlbiBzaXplcy5cbiAgICovXG4gIHdyYXA6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbJ25vd3JhcCcsICd3cmFwJywgJ3dyYXAtcmV2ZXJzZSddKSxcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgbnVtYmVyIG9mIGdyaWRzIHRoZSBjb21wb25lbnQgaXMgZ29pbmcgdG8gdXNlLlxuICAgKiBJdCdzIGFwcGxpZWQgZm9yIHRoZSBgeGxgIGJyZWFrcG9pbnQgYW5kIHdpZGVyIHNjcmVlbnMuXG4gICAqL1xuICB4bDogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFtmYWxzZSwgJ2F1dG8nLCB0cnVlLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyXSksXG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIG51bWJlciBvZiBncmlkcyB0aGUgY29tcG9uZW50IGlzIGdvaW5nIHRvIHVzZS5cbiAgICogSXQncyBhcHBsaWVkIGZvciBhbGwgdGhlIHNjcmVlbiBzaXplcyB3aXRoIHRoZSBsb3dlc3QgcHJpb3JpdHkuXG4gICAqL1xuICB4czogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFtmYWxzZSwgJ2F1dG8nLCB0cnVlLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyXSksXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgaXQgc2V0cyBgbWluLXdpZHRoOiAwYCBvbiB0aGUgaXRlbS5cbiAgICogUmVmZXIgdG8gdGhlIGxpbWl0YXRpb25zIHNlY3Rpb24gb2YgdGhlIGRvY3VtZW50YXRpb24gdG8gYmV0dGVyIHVuZGVyc3RhbmQgdGhlIHVzZSBjYXNlLlxuICAgKi9cbiAgemVyb01pbldpZHRoOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbFxufSA6IHZvaWQgMDtcbnZhciBTdHlsZWRHcmlkID0gKDAsIF93aXRoU3R5bGVzLmRlZmF1bHQpKHN0eWxlcywge1xuICBuYW1lOiAnTXVpR3JpZCdcbn0pKEdyaWQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgcmVxdWlyZVByb3AgPSAoMCwgX3JlcXVpcmVQcm9wRmFjdG9yeS5kZWZhdWx0KSgnR3JpZCcpO1xuICBTdHlsZWRHcmlkLnByb3BUeXBlcyA9ICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe30sIFN0eWxlZEdyaWQucHJvcFR5cGVzLCB7XG4gICAgYWxpZ25Db250ZW50OiByZXF1aXJlUHJvcCgnY29udGFpbmVyJyksXG4gICAgYWxpZ25JdGVtczogcmVxdWlyZVByb3AoJ2NvbnRhaW5lcicpLFxuICAgIGRpcmVjdGlvbjogcmVxdWlyZVByb3AoJ2NvbnRhaW5lcicpLFxuICAgIGp1c3RpZnk6IHJlcXVpcmVQcm9wKCdjb250YWluZXInKSxcbiAgICBsZzogcmVxdWlyZVByb3AoJ2l0ZW0nKSxcbiAgICBtZDogcmVxdWlyZVByb3AoJ2l0ZW0nKSxcbiAgICBzbTogcmVxdWlyZVByb3AoJ2l0ZW0nKSxcbiAgICBzcGFjaW5nOiByZXF1aXJlUHJvcCgnY29udGFpbmVyJyksXG4gICAgd3JhcDogcmVxdWlyZVByb3AoJ2NvbnRhaW5lcicpLFxuICAgIHhzOiByZXF1aXJlUHJvcCgnaXRlbScpLFxuICAgIHplcm9NaW5XaWR0aDogcmVxdWlyZVByb3AoJ2l0ZW0nKVxuICB9KTtcbn1cblxudmFyIF9kZWZhdWx0ID0gU3R5bGVkR3JpZDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG5mdW5jdGlvbiByZXF1aXJlUHJvcEZhY3RvcnkoY29tcG9uZW50TmFtZUluRXJyb3IpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIHZhciByZXF1aXJlUHJvcCA9IGZ1bmN0aW9uIHJlcXVpcmVQcm9wKHJlcXVpcmVkUHJvcCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcEZ1bGxOYW1lU2FmZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcblxuICAgICAgaWYgKHR5cGVvZiBwcm9wc1twcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnICYmICFwcm9wc1tyZXF1aXJlZFByb3BdKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJUaGUgcHJvcCBgXCIuY29uY2F0KHByb3BGdWxsTmFtZVNhZmUsIFwiYCBvZiBcIikgKyBcImBcIi5jb25jYXQoY29tcG9uZW50TmFtZUluRXJyb3IsIFwiYCBtdXN0IGJlIHVzZWQgb24gYFwiKS5jb25jYXQocmVxdWlyZWRQcm9wLCBcImAuXCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gcmVxdWlyZVByb3A7XG59XG5cbnZhciBfZGVmYXVsdCA9IHJlcXVpcmVQcm9wRmFjdG9yeTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTksIFdTTzIgSW5jLiAoaHR0cDovL3d3dy53c28yLm9yZykgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBXU08yIEluYy4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsXG4gKiBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHRcbiAqIGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgICBEaWFsb2csIERpYWxvZ0FjdGlvbnMsIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0NvbnRlbnRUZXh0LCBEaWFsb2dUaXRsZSxcbn0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcblxuLyoqXG4gKiBSZWFjdCBjb21wb25lbnQgZm9yIGhhbmRsaW5nIGNvbmZpcm1hdGlvbiBkaWFsb2cgYm94XG4gKiBAY2xhc3MgQ29uZmlybURpYWxvZ1xuICogQGV4dGVuZHMge1JlYWN0LkNvbXBvbmVudH1cbiAqL1xuY2xhc3MgQ29uZmlybURpYWxvZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogSWYgdXNlciBjb25maXJtcyB0aGUgYWN0aW9uIGludm9rZSB0aGUgY2FsbGJhY2sgd2l0aCB0cnVlIGVsc2UgZmFsc2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uIE9uZSBvZiBDb25maXJtRGlhbG9nLkFjdGlvbiBhY3Rpb25zXG4gICAgICogQG1lbWJlcm9mIENvbmZpcm1EaWFsb2dcbiAgICAgKi9cbiAgICBoYW5kbGVSZXF1ZXN0Q2xvc2UoYWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHsgY2FsbGJhY2sgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGlmIChhY3Rpb24gPT09IENvbmZpcm1EaWFsb2cuQWN0aW9uLk9LKSB7XG4gICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICogQHJldHVybnMge1JlYWN0LkNvbXBvbmVudH0gQ29uZmlybWF0aW9uIGJveFxuICAgICAqIEBtZW1iZXJvZiBDb25maXJtRGlhbG9nXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB0aXRsZSwgbWVzc2FnZSwgbGFiZWxDYW5jZWwsIGxhYmVsT2ssIG9wZW4sXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RGlhbG9nIG9wZW49e29wZW59IG9uQ2xvc2U9e3RoaXMuaGFuZGxlUmVxdWVzdENsb3NlfT5cbiAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGU+e3RpdGxlIHx8IDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdTaGFyZWQuQ29uZmlybURpYWxvZy5wbGVhc2UuY29uZmlybScgZGVmYXVsdE1lc3NhZ2U9J1BsZWFzZSBDb25maXJtJyAvPn08L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICAgIDxEaWFsb2dDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nQ29udGVudFRleHQ+e21lc3NhZ2UgfHwgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J1NoYXJlZC5Db25maXJtRGlhbG9nLnBsZWFzZS5jb25maXJtLnN1cmUnIGRlZmF1bHRNZXNzYWdlPSdBcmUgeW91IHN1cmU/JyAvPn08L0RpYWxvZ0NvbnRlbnRUZXh0PlxuICAgICAgICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgICAgICAgICAgICA8RGlhbG9nQWN0aW9ucz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZShDb25maXJtRGlhbG9nLkFjdGlvbi5DQU5DRUwpfSBjb2xvcj0ncHJpbWFyeSc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bGFiZWxDYW5jZWwgfHwgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J1NoYXJlZC5Db25maXJtRGlhbG9nLmNhbmNlbCcgZGVmYXVsdE1lc3NhZ2U9J0NhbmNlbCcgLz59XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlUmVxdWVzdENsb3NlKENvbmZpcm1EaWFsb2cuQWN0aW9uLk9LKX0gY29sb3I9J3ByaW1hcnknPlxuICAgICAgICAgICAgICAgICAgICAgICAge2xhYmVsT2sgfHwgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J1NoYXJlZC5Db25maXJtRGlhbG9nLm9rJyBkZWZhdWx0TWVzc2FnZT0nT0snIC8+fVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XG4gICAgICAgICAgICA8L0RpYWxvZz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkNvbmZpcm1EaWFsb2cucHJvcFR5cGVzID0ge1xuICAgIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgbWVzc2FnZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGxhYmVsQ2FuY2VsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgbGFiZWxPazogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGNhbGxiYWNrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG59O1xuQ29uZmlybURpYWxvZy5BY3Rpb24gPSB7XG4gICAgT0s6ICdvaycsXG4gICAgQ0FOQ0VMOiAnY2FuY2VsJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpcm1EaWFsb2c7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE5LCBXU08yIEluYy4gKGh0dHA6Ly93d3cud3NvMi5vcmcpIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogV1NPMiBJbmMuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLFxuICogVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0XG4gKiBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCB7IFRleHRGaWVsZCwgQnV0dG9uLCBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XG5pbXBvcnQgRm9ybUNvbnRyb2wgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRm9ybUNvbnRyb2wnO1xuaW1wb3J0IE1lbnVJdGVtIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU2VsZWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UsIGluamVjdEludGwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBBbGVydCBmcm9tICcuLi8uLi8uLi9TaGFyZWQvQWxlcnQnO1xuaW1wb3J0IEFQSSBmcm9tICcuLi8uLi8uLi8uLi9kYXRhL2FwaSc7XG5cbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XG4gICAgY29tbWVudEljb246IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0KSxcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0KSxcbiAgICB9LFxuICAgIGNvbnRlbnRXcmFwcGVyOiB7XG4gICAgICAgIG1heFdpZHRoOiB0aGVtZS5jdXN0b20uY29udGVudEFyZWFXaWR0aCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDIsXG4gICAgICAgIHBhZGRpbmdUb3A6IHRoZW1lLnNwYWNpbmcudW5pZyxcbiAgICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAyLFxuICAgIH0sXG4gICAgdGV4dEZpZWxkOiB7XG4gICAgICAgIG1hcmdpblRvcDogMCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDUsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgfSxcbiAgICBjb21tZW50QWRkV3JhcHBlcjoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICd0b3AnLFxuICAgIH0sXG59KTtcblxuLyoqXG4gKiBEaXNwbGF5IGEgY29tcG9uZW50IHRvIGFkZCBhIG5ldyBjb21tZW50XG4gKiBAY2xhc3MgQ29tbW1lbnRBZGRcbiAqIEBleHRlbmRzIHtSZWFjdC5Db21wb25lbnR9XG4gKi9cbmNsYXNzIENvbW1lbnRBZGQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQ29tbWVudEFkZFxuICAgICAqIEBwYXJhbSB7Kn0gcHJvcHMgcHJvcGVyaWVzIHBhc3NlZCBieSB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudEFkZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgICAgY3VycmVudExlbmd0aDogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnB1dENoYW5nZSA9IHRoaXMuaW5wdXRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbGlja0FkZENvbW1lbnQgPSB0aGlzLmhhbmRsZUNsaWNrQWRkQ29tbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrQ2FuY2VsID0gdGhpcy5oYW5kbGVDbGlja0NhbmNlbC5iaW5kKHRoaXMpO1xuICAgICAgICAvLyB0aGlzLmhhbmRsZUNhdGVnb3J5Q2hhbmdlID0gdGhpcy5oYW5kbGVDYXRlZ29yeUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICAvLyB0aGlzLmZpbHRlckNvbW1lbnRUb0FkZFJlcGx5ID0gdGhpcy5maWx0ZXJDb21tZW50VG9BZGRSZXBseS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGNvbW1lbnQgdGV4dCB3aGVuIGlucHV0IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0ge3RhcmdldH0gdGFyZ2V0IGVsZW1lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudEFkZFxuICAgICAqL1xuICAgIGlucHV0Q2hhbmdlKHsgdGFyZ2V0IH0pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRlbnQ6IHRhcmdldC52YWx1ZSwgY3VycmVudExlbmd0aDogdGFyZ2V0LnZhbHVlLmxlbmd0aCB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgY29tcG9uZW50IHRvIGFkZCBhIG5ldyBjb21tZW50IHdoZW4gY2FuY2VsbGVkXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRBZGRcbiAgICAgKi9cbiAgICBoYW5kbGVDbGlja0NhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRlbnQ6ICcnIH0pO1xuICAgICAgICAvLyBjb25zdCB7IHRvZ2dsZVNob3dSZXBseSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgLy8gdG9nZ2xlU2hvd1JlcGx5KCk7XG4gICAgfVxuXG4gICAgLy8gLyoqXG4gICAgLy8gICogRmlsdGVycyB0aGUgY29tbWVudCB0byBhZGQgdGhlIHJlcGx5XG4gICAgLy8gICogQG1lbWJlcm9mIENvbW1lbnRBZGRcbiAgICAvLyAgKi9cbiAgICAvLyBmaWx0ZXJDb21tZW50VG9BZGRSZXBseShjb21tZW50VG9GaWx0ZXIpIHtcbiAgICAvLyAgICAgY29uc3QgeyBwYXJlbnRDb21tZW50SWQgfSA9IHRoaXMucHJvcHM7XG4gICAgLy8gICAgIHJldHVybiBjb21tZW50VG9GaWx0ZXIuY29tbWVudElkID09PSBwYXJlbnRDb21tZW50SWQ7XG4gICAgLy8gfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhZGRpbmcgYSBuZXcgY29tbWVudFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50QWRkXG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2tBZGRDb21tZW50KCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhcGlJZCwgYWxsQ29tbWVudHMsIGNvbW1lbnRzVXBkYXRlLCBpbnRsLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBjb250ZW50IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBBcGkgPSBuZXcgQVBJKCk7XG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSB7XG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50LnRyaW0oKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB0byBjaGVjayB3aGV0aGVyIGEgc3RyaW5nIGRvZXMgbm90IGNvbnRhaW4gb25seSB3aGl0ZSBzcGFjZXNcbiAgICAgICAgaWYgKGNvbW1lbnQuY29udGVudC5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCkge1xuICAgICAgICAgICAgQXBpLmFkZENvbW1lbnQoYXBpSWQsIGNvbW1lbnQpXG4gICAgICAgICAgICAgICAgLnRoZW4oKG5ld0NvbW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRlbnQ6ICcnIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRlZENvbW1lbnQgPSBuZXdDb21tZW50LmJvZHk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChwYXJlbnRDb21tZW50SWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGFsbENvbW1lbnRzLnB1c2goYWRkZWRDb21tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IGluZGV4ID0gYWxsQ29tbWVudHMuZmluZEluZGV4KHRoaXMuZmlsdGVyQ29tbWVudFRvQWRkUmVwbHkpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgYWxsQ29tbWVudHNbaW5kZXhdLnJlcGxpZXMucHVzaChhZGRlZENvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdG9nZ2xlU2hvd1JlcGx5KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgYWxsQ29tbWVudHMucHVzaChhZGRlZENvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50c1VwZGF0ZShhbGxDb21tZW50cyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuYm9keSAmJiBlcnJvci5yZXNwb25zZS5ib2R5Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsZXJ0LmVycm9yKGVycm9yLnJlc3BvbnNlLmJvZHkubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBbGVydC5lcnJvcihpbnRsLmZvcm1hdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgYWRkaW5nIHRoZSBjb21tZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50QWRkLnNvbWV0aGluZy53ZW50Lndyb25nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQWxlcnQuZXJyb3IoaW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1lvdSBjYW5ub3QgZW50ZXIgYSBibGFuayBjb21tZW50JyxcbiAgICAgICAgICAgICAgICBpZDogJ0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50QWRkLmVycm9yLmJsYW5rLmNvbW1lbnQnLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50TGVuZ3RoOiAwIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBtZXRob2Qgb2YgdGhlIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zIHtSZWFjdC5Db21wb25lbnR9IENvbW1lbnQgaHRtbCBjb21wb25lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudEFkZFxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2xhc3NlcywgY2FuY2VsQnV0dG9uLCB0aGVtZSwgaW50bCxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgY29udGVudCwgY3VycmVudExlbmd0aCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBzcGFjaW5nPXszfSBjbGFzc05hbWU9e2NsYXNzZXMuY29udGVudFdyYXBwZXJ9PlxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHMgemVyb01pbldpZHRoPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb21tZW50QWRkV3JhcHBlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3N0YW5kYXJkLW11bHRpbGluZS1mbGV4aWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMudGV4dEZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj0nbm9ybWFsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtpbnRsLmZvcm1hdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1dyaXRlIGEgY29tbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnQXBpcy5EZXRhaWxzLkNvbW1lbnRzLkNvbW1lbnRBZGQud3JpdGUuY29tbWVudC5oZWxwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7IG1heExlbmd0aDogdGhlbWUuY3VzdG9tLm1heENvbW1lbnRMZW5ndGggfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5pbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY29udGVudH0gYWxpZ249J2xlZnQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50TGVuZ3RoICsgJy8nICsgdGhlbWUuY3VzdG9tLm1heENvbW1lbnRMZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgc3BhY2luZz17MX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nY29udGFpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj0ncHJpbWFyeSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRMZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlQ2xpY2tBZGRDb21tZW50KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50QWRkLmJ0bi5hZGQuY29tbWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdBZGQgQ29tbWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjYW5jZWxCdXR0b24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVDbGlja0NhbmNlbCgpfSBjbGFzc05hbWU9e2NsYXNzZXMuYnV0dG9ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50QWRkLmJ0bi5jYW5jZWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0NhbmNlbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5Db21tZW50QWRkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwYXJlbnRDb21tZW50SWQ6IG51bGwsXG4gICAgdG9nZ2xlU2hvd1JlcGx5OiBudWxsLFxuICAgIGNvbW1lbnRzVXBkYXRlOiBudWxsLFxufTtcblxuQ29tbWVudEFkZC5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KS5pc1JlcXVpcmVkLFxuICAgIGNhbmNlbEJ1dHRvbjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBhcGlJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHBhcmVudENvbW1lbnRJZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0b2dnbGVTaG93UmVwbHk6IFByb3BUeXBlcy5mdW5jLFxuICAgIGNvbW1lbnRzVXBkYXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBhbGxDb21tZW50czogUHJvcFR5cGVzLmluc3RhbmNlT2YoQXJyYXkpLmlzUmVxdWlyZWQsXG4gICAgaW50bDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgZm9ybWF0TWVzc2FnZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgfSkuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluamVjdEludGwod2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKENvbW1lbnRBZGQpKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTksIFdTTzIgSW5jLiAoaHR0cDovL3d3dy53c28yLm9yZykgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBXU08yIEluYy4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsXG4gKiBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHRcbiAqIGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSwgaW5qZWN0SW50bCwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCB7IFRleHRGaWVsZCwgQnV0dG9uLCBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IEZvcm1Db250cm9sIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0Zvcm1Db250cm9sJztcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcbmltcG9ydCBBbGVydCBmcm9tICcuLi8uLi8uLi9TaGFyZWQvQWxlcnQnO1xuaW1wb3J0IEFQSSBmcm9tICcuLi8uLi8uLi8uLi9kYXRhL2FwaSc7XG5cbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XG4gICAgdGV4dEZpZWxkOiB7XG4gICAgICAgIG1hcmdpblRvcDogMCxcbiAgICAgICAgd2lkdGg6ICc4Ny41JScsXG4gICAgfSxcbiAgICBjb250ZW50V3JhcHBlcjoge1xuICAgICAgICBtYXhXaWR0aDogdGhlbWUuY3VzdG9tLmNvbnRlbnRBcmVhV2lkdGgsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAyLFxuICAgICAgICBwYWRkaW5nVG9wOiB0aGVtZS5zcGFjaW5nLnVuaWcsXG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMixcbiAgICB9LFxuICAgIGNhdGVnb3J5OiB7XG4gICAgICAgIHdpZHRoOiAnMTIlJyxcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICcwLjUlJyxcbiAgICB9LFxufSk7XG5cbi8qKlxuICogRGlzcGxheSBhIGNvbXBvbmVudCB0byBlZGl0IGEgY29tbWVudFxuICogQGNsYXNzIENvbW1tZW50RWRpdFxuICogQGV4dGVuZHMge1JlYWN0LkNvbXBvbmVudH1cbiAqL1xuY2xhc3MgQ29tbWVudEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQ29tbWVudEVkaXRcbiAgICAgKiBAcGFyYW0geyp9IHByb3BzIHByb3BlcmllcyBwYXNzZWQgYnkgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRFZGl0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY29tbWVudFRleHQ6ICcnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgY3VycmVudExlbmd0aDogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnB1dENoYW5nZSA9IHRoaXMuaW5wdXRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDYXRlZ29yeUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2F0ZWdvcnlDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbGlja1VwZGF0ZUNvbW1lbnQgPSB0aGlzLmhhbmRsZUNsaWNrVXBkYXRlQ29tbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrQ2FuY2VsID0gdGhpcy5oYW5kbGVDbGlja0NhbmNlbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmZpbHRlckNvbW1lbnRUb1VwZGF0ZSA9IHRoaXMuZmlsdGVyQ29tbWVudFRvVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZmlsdGVyQ29tbWVudFRvVXBkYXRlUmVwbHkgPSB0aGlzLmZpbHRlckNvbW1lbnRUb1VwZGF0ZVJlcGx5LmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRzXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgY29tbWVudCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjb21tZW50VGV4dDogY29tbWVudC5jb21tZW50VGV4dCxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBjb21tZW50LmNhdGVnb3J5LFxuICAgICAgICAgICAgY3VycmVudExlbmd0aDogY29tbWVudC5jb21tZW50VGV4dC5sZW5ndGgsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGNvbW1lbnQgdGV4dCB3aGVuIGlucHV0IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0ge3RhcmdldH0gdGFyZ2V0IGVsZW1lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudEVkaXRcbiAgICAgKi9cbiAgICBpbnB1dENoYW5nZSh7IHRhcmdldCB9KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb21tZW50VGV4dDogdGFyZ2V0LnZhbHVlLCBjdXJyZW50TGVuZ3RoOiB0YXJnZXQudmFsdWUubGVuZ3RoIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBjb21wb25lbnQgdG8gZWRpdCBhIGNvbW1lbnQgd2hlbiBjYW5jZWxsZWRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudEVkaXRcbiAgICAgKi9cbiAgICBoYW5kbGVDbGlja0NhbmNlbCgpIHtcbiAgICAgICAgY29uc3QgeyB0b2dnbGVTaG93RWRpdCwgY29tbWVudHNVcGRhdGUsIGFsbENvbW1lbnRzIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICB0b2dnbGVTaG93RWRpdCgpO1xuICAgICAgICBjb21tZW50c1VwZGF0ZShhbGxDb21tZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBjYXRlZ29yeSB3aGVuIHRoZSBjYXRlZ29yeSBpcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHthbnl9IGV2ZW50IERyb3AgZG93biBzZWxlY3QgZXZlbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudEVkaXRcbiAgICAgKi9cbiAgICBoYW5kbGVDYXRlZ29yeUNoYW5nZShldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2F0ZWdvcnk6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIHRoZSBjb21tZW50IHRvIHVwZGF0ZVxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50QWRkXG4gICAgICovXG4gICAgZmlsdGVyQ29tbWVudFRvVXBkYXRlKGNvbW1lbnRUb0ZpbHRlcikge1xuICAgICAgICBjb25zdCB7IGNvbW1lbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiBjb21tZW50VG9GaWx0ZXIuY29tbWVudElkID09PSBjb21tZW50LmNvbW1lbnRJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIHRoZSBjb21tZW50IHRvIHVwZGF0ZVxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50QWRkXG4gICAgICovXG4gICAgZmlsdGVyQ29tbWVudFRvVXBkYXRlUmVwbHkoY29tbWVudFRvRmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IHsgY29tbWVudCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRUb0ZpbHRlci5jb21tZW50SWQgPT09IGNvbW1lbnQucGFyZW50Q29tbWVudElkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdXBkYXRpbmcgYSBjb21tZW50XG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRFZGl0XG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2tVcGRhdGVDb21tZW50KCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhcGlJZCwgY29tbWVudCwgYWxsQ29tbWVudHMsIHRvZ2dsZVNob3dFZGl0LCBjb21tZW50c1VwZGF0ZSwgaW50bCxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnksIGNvbW1lbnRUZXh0IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBBcGkgPSBuZXcgQVBJKCk7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRUb0VkaXQgPSBjb21tZW50O1xuICAgICAgICBjb21tZW50VG9FZGl0LmNvbW1lbnRUZXh0ID0gY29tbWVudFRleHQudHJpbSgpO1xuICAgICAgICBjb21tZW50VG9FZGl0LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG5cbiAgICAgICAgLy8gdG8gY2hlY2sgd2hldGhlciBhIHN0cmluZyBkb2VzIG5vdCBjb250YWluIG9ubHkgd2hpdGVoaXMgc3BhY2VzXG4gICAgICAgIGlmIChjb21tZW50LmNvbW1lbnRUZXh0LnJlcGxhY2UoL1xccy9nLCAnJykubGVuZ3RoKSB7XG4gICAgICAgICAgICBBcGkudXBkYXRlQ29tbWVudChhcGlJZCwgY29tbWVudFRvRWRpdC5jb21tZW50SWQsIGNvbW1lbnRUb0VkaXQpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ29tbWVudCA9IHJlc3VsdC5ib2R5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudFRvRWRpdC5wYXJlbnRDb21tZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhbGxDb21tZW50cy5maW5kSW5kZXgodGhpcy5maWx0ZXJDb21tZW50VG9VcGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29tbWVudHNbaW5kZXhdLmNhdGVnb3J5ID0gdXBkYXRlZENvbW1lbnQuY2F0ZWdvcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb21tZW50c1tpbmRleF0uY29tbWVudFRleHQgPSB1cGRhdGVkQ29tbWVudC5jb21tZW50VGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gYWxsQ29tbWVudHMuZmluZEluZGV4KHRoaXMuZmlsdGVyQ29tbWVudFRvVXBkYXRlUmVwbHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwbHlJbmRleCA9IGFsbENvbW1lbnRzW2luZGV4XS5yZXBsaWVzLmZpbmRJbmRleCh0aGlzLmZpbHRlckNvbW1lbnRUb1VwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb21tZW50c1tpbmRleF0ucmVwbGllc1tyZXBseUluZGV4XSA9IHVwZGF0ZWRDb21tZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVNob3dFZGl0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzVXBkYXRlKGFsbENvbW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxlcnQuZXJyb3IoZXJyb3IucmVzcG9uc2UuYm9keS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsZXJ0LmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGwuZm9ybWF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgYWRkaW5nIHRoZSBjb21tZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdBcGlzLkRldGFpbHMuQ29tbWVudHMuQ29tbWVudEVkaXQuc29tZXRoaW5nLndlbnQud3JvbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQWxlcnQuZXJyb3IoXG4gICAgICAgICAgICAgICAgaW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdZb3UgY2Fubm90IGVudGVyIGEgYmxhbmsgY29tbWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnQXBpcy5EZXRhaWxzLkNvbW1lbnRzLkNvbW1lbnRFZGl0LmJsYW5rLmNvbW1lbnQuZXJyb3InLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBtZXRob2Qgb2YgdGhlIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zIHtSZWFjdC5Db21wb25lbnR9IENvbW1lbnQgaHRtbCBjb21wb25lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudEVkaXRcbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUsIGludGwgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnksIGNvbW1lbnRUZXh0LCBjdXJyZW50TGVuZ3RoIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2wgY2xhc3NOYW1lPXtjbGFzc2VzLmNhdGVnb3J5fT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17Y2F0ZWdvcnl9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNhdGVnb3J5Q2hhbmdlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT0nR2VuZXJhbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50RWRpdC5nZW5lcmFsJyBkZWZhdWx0TWVzc2FnZT0nR2VuZXJhbCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9J0ZlYXR1cmUgUmVxdWVzdCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50RWRpdC5mZWF0dXJlLnJlcXVlc3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdGZWF0dXJlIFJlcXVlc3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9J0J1ZyBSZXBvcnQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQ29tbWVudHMuQ29tbWVudEVkaXQuYnVnLnJlcG9ydCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0J1ZyBSZXBvcnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgICAgICBpZD0nbXVsdGlsaW5lLXN0YXRpYydcbiAgICAgICAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgICAgICAgIG11bHRpbGluZVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMudGV4dEZpZWxkfVxuICAgICAgICAgICAgICAgICAgICBtYXJnaW49J25vcm1hbCdcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2ludGwuZm9ybWF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1dyaXRlIGEgY29tbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50RWRpdC53cml0ZS5hLmNvbW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17eyBtYXhMZW5ndGg6IHRoZW1lLmN1c3RvbS5tYXhDb21tZW50TGVuZ3RoIH19XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb21tZW50VGV4dH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY29tbWVudFRleHR9IGFsaWduPSdyaWdodCc+XG4gICAgICAgICAgICAgICAgICAgIHtjdXJyZW50TGVuZ3RoICsgJy8nICsgdGhlbWUuY3VzdG9tLm1heENvbW1lbnRMZW5ndGh9XG4gICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBzcGFjaW5nPXsxfT5cbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0nY29udGFpbmVkJyBjb2xvcj0ncHJpbWFyeScgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVDbGlja1VwZGF0ZUNvbW1lbnQoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50RWRpdC5idG4uc2F2ZScgZGVmYXVsdE1lc3NhZ2U9J1NhdmUnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNsaWNrQ2FuY2VsKCl9IGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQ29tbWVudHMuQ29tbWVudEVkaXQuYnRuLmNhbmNlbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0NhbmNlbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkNvbW1lbnRFZGl0LnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihPYmplY3QpLmlzUmVxdWlyZWQsXG4gICAgYXBpSWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBhbGxDb21tZW50czogUHJvcFR5cGVzLmluc3RhbmNlT2YoQXJyYXkpLmlzUmVxdWlyZWQsXG4gICAgY29tbWVudHNVcGRhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgdG9nZ2xlU2hvd0VkaXQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgY29tbWVudDogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KS5pc1JlcXVpcmVkLFxuICAgIGludGw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIGZvcm1hdE1lc3NhZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIH0pLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShDb21tZW50RWRpdCkpO1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOSwgV1NPMiBJbmMuIChodHRwOi8vd3d3LndzbzIub3JnKSBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFdTTzIgSW5jLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSxcbiAqIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdFxuICogaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgVmVydGljYWxEaXZpZGVyIGZyb20gJy4uLy4uLy4uL1NoYXJlZC9WZXJ0aWNhbERpdmlkZXInO1xuaW1wb3J0IEF1dGhNYW5hZ2VyIGZyb20gJy4uLy4uLy4uLy4uL2RhdGEvQXV0aE1hbmFnZXInO1xuXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xuICAgIGxpbms6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0KSxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICB0aW1lOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdldENvbnRyYXN0VGV4dCh0aGVtZS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCksXG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMC4zLFxuICAgIH0sXG4gICAgdmVydGljYWxTcGFjZToge1xuICAgICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgfSxcbiAgICBkaXNhYmxlOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdyZXlbMjAwXSxcbiAgICB9LFxuICAgIGNvbW1lbnRJY29uOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdldENvbnRyYXN0VGV4dCh0aGVtZS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCksXG4gICAgfSxcbiAgICBjb21tZW50VGV4dDoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQodGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLmRlZmF1bHQpLFxuICAgICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pZyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyxcbiAgICAgICAgb3ZlcmZsb3dXcmFwOiAnYnJlYWstd29yZCcsXG4gICAgfSxcbiAgICByb290OiB7XG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMi41LFxuICAgIH0sXG4gICAgY29udGVudFdyYXBwZXI6IHtcbiAgICAgICAgbWF4V2lkdGg6IHRoZW1lLmN1c3RvbS5jb250ZW50QXJlYVdpZHRoLFxuICAgICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZy51bml0ICogMixcbiAgICAgICAgcGFkZGluZ1RvcDogdGhlbWUuc3BhY2luZy51bmlnLFxuICAgIH0sXG59KTtcblxuLyoqXG4gKiBDb21wb25lbnQgdG8gZGlzcGxheSBvcHRpb25zIG9mIHRoZSBjb21tZW50XG4gKiBAY2xhc3MgQ29tbWVudE9wdGlvbnNcbiAqIEBleHRlbmRzIHtSZWFjdC5Db21wb25lbnR9XG4gKi9cbmNsYXNzIENvbW1lbnRPcHRpb25zIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIENvbW1lbnRBZGRcbiAgICAgKiBAcGFyYW0geyp9IHByb3BzIHByb3BlcmllcyBwYXNzZWQgYnkgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRBZGRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5zaG93QWRkQ29tbWVudCA9IHRoaXMuc2hvd0FkZENvbW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zaG93RWRpdENvbW1lbnQgPSB0aGlzLnNob3dFZGl0Q29tbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrT3BlbiA9IHRoaXMuaGFuZGxlQ2xpY2tPcGVuLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIGNvbXBvbmVudCB0byBhZGQgYSBuZXcgY29tbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSBpbmRleCBJbmRleCBvZiBjb21tZW50IGluIHRoZSBhcnJheVxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50T3B0aW9uc1xuICAgICAqL1xuICAgIHNob3dBZGRDb21tZW50KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHsgZWRpdEluZGV4LCBzaG93QWRkQ29tbWVudCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKGVkaXRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHNob3dBZGRDb21tZW50KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBjb21wb25lbnQgdG8gZWRpdCBhIGNvbW1lbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gaW5kZXggSW5kZXggb2YgY29tbWVudCBpbiB0aGUgYXJyYXlcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudFxuICAgICAqL1xuICAgIHNob3dFZGl0Q29tbWVudChpbmRleCkge1xuICAgICAgICBjb25zdCB7IGVkaXRJbmRleCwgc2hvd0VkaXRDb21tZW50IH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoZWRpdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgc2hvd0VkaXRDb21tZW50KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBjb25maW1hdGlvbiBkaWFsb2cgdG8gZGVsZXRlIGEgY29tbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb21tZW50IENvbW1lbnQgdGhhdCBoYXMgdG8gYmUgZGVsZXRlZFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50XG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2tPcGVuKGNvbW1lbnQpIHtcbiAgICAgICAgY29uc3QgeyBlZGl0SW5kZXgsIGhhbmRsZUNsaWNrT3BlbiB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKGVkaXRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGhhbmRsZUNsaWNrT3Blbihjb21tZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRhdGUgYW5kIHRpbWUgaW4gYSBwYXJ0aWN1bGFyIGZvcm1hdFxuICAgICAqIEBwYXJhbSB7YW55fSB0aW1lc3RhbXAgVGltZXN0YW1wIHRoYXQgaGFzIHRvIGJlIGZvcm1hdHRlZFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50T3B0aW9uc1xuICAgICAqL1xuICAgIGRpc3BsYXlEYXRlKHRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCBsb2NhbERhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApO1xuICAgICAgICBjb25zdCBsb2NhbERhdGVTdHJpbmcgPSBsb2NhbERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxvY2FsVGltZVN0cmluZyA9IGxvY2FsRGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcodW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsb2NhbERhdGVTdHJpbmcgKyAnICcgKyBsb2NhbFRpbWVTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1ldGhvZCBvZiB0aGUgY29tcG9uZW50XG4gICAgICogQHJldHVybnMge1JlYWN0LkNvbXBvbmVudH0gQ29tbWVudCBodG1sIGNvbXBvbmVudFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50T3B0aW9uc1xuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2xhc3NlcywgY29tbWVudCwgZWRpdEluZGV4LCBpbmRleCwgdGhlbWUsXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIHNwYWNpbmc9ezF9IGNsYXNzTmFtZT17Y2xhc3Nlcy52ZXJ0aWNhbFNwYWNlfSBrZXk9e2NvbW1lbnQuaWR9PlxuICAgICAgICAgICAgICAgIHsvKiBvbmx5IHRoZSBjb21tZW50IG93bmVyIG9yIGFkbWluIGNhbiBkZWxldGUgYSBjb21tZW50ICovfVxuICAgICAgICAgICAgICAgIHtBdXRoTWFuYWdlci5nZXRVc2VyKCkgJiYgKGNvbW1lbnQuY3JlYXRlZEJ5ID09PSBBdXRoTWFuYWdlci5nZXRVc2VyKCkubmFtZSkgJiYgW1xuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBrZXk9J2tleS1kZWxldGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCIgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtlZGl0SW5kZXggPT09IC0xID8gY2xhc3Nlcy5saW5rIDogY2xhc3Nlcy5kaXNhYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNsaWNrT3Blbihjb21tZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nQXBpcy5EZXRhaWxzLkNvbW1lbnRzLkNvbW1lbnRPcHRpb25zLmRlbGV0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdEZWxldGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBrZXk9J2tleS1kZWxldGUtdmVydGljYWwtZGl2aWRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZlcnRpY2FsRGl2aWRlciBoZWlnaHQ9ezE1fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPixcbiAgICAgICAgICAgICAgICAgICAgXX1cblxuICAgICAgICAgICAgICAgIHsvKiB7QXV0aE1hbmFnZXIuZ2V0VXNlcigpICYmIGNvbW1lbnQucGFyZW50Q29tbWVudElkID09IG51bGwgJiYgW1xuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGtleT0na2V5LXJlcGx5Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50PSdhJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17ZWRpdEluZGV4ID09PSAtMSA/IGNsYXNzZXMubGluayA6IGNsYXNzZXMuZGlzYWJsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNob3dBZGRDb21tZW50KGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD0nQXBpcy5EZXRhaWxzLkNvbW1lbnRzLkNvbW1lbnRPcHRpb25zLnJlcGx5JyBkZWZhdWx0TWVzc2FnZT0nUmVwbHknIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD4sXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0ga2V5PSdrZXktcmVwbHktdmVydGljYWwtZGl2aWRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VmVydGljYWxEaXZpZGVyIGhlaWdodD17MTV9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD4sXG4gICAgICAgICAgICAgICAgXX0gKi99XG5cbiAgICAgICAgICAgICAgICB7Lyogb25seSB0aGUgY29tbWVudCBvd25lciBjYW4gbW9kaWZ5IHRoZSBjb21tZW50IGZyb20gdGhlIGV4YWN0IGVudHJ5IHBvaW50ICovfVxuICAgICAgICAgICAgICAgIHsvKiB7Y29tbWVudC5jcmVhdGVkQnkgPT09IEF1dGhNYW5hZ2VyLmdldFVzZXIoKS5uYW1lXG4gICAgICAgICAgICAgICAgICAgICYmIGNvbW1lbnQuZW50cnlQb2ludCA9PT0gJ0FQSVN0b3JlJyAmJiBbXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGtleT0na2V5LWVkaXQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD0nYSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtlZGl0SW5kZXggPT09IC0xID8gY2xhc3Nlcy5saW5rIDogY2xhc3Nlcy5kaXNhYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNob3dFZGl0Q29tbWVudChpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50T3B0aW9ucy5lZGl0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0VkaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPixcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0ga2V5PSdrZXktZWRpdC12ZXJpY2FsLWRpdmlkZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWZXJ0aWNhbERpdmlkZXIgaGVpZ2h0PXsxNX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD4sXG4gICAgICAgICAgICAgICAgICAgIF19ICovfVxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLnRpbWV9PlxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjb21wb25lbnQ9J2EnIHZhcmlhbnQ9J2NhcHRpb24nPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuZGlzcGxheURhdGUoY29tbWVudC5jcmVhdGVkVGltZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgey8qIHtlZGl0SW5kZXggPT09IGluZGV4XG4gICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0ga2V5PSdrZXktY2F0ZWdvcnktdmVydGljYWwtZGl2aWRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFZlcnRpY2FsRGl2aWRlciBoZWlnaHQ9ezE1fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPixcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLnRpbWV9IGtleT0na2V5LWNhdGVnb3J5Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjb21wb25lbnQ9J2EnIHZhcmlhbnQ9J2NhcHRpb24nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tbWVudC5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+LFxuICAgICAgICAgICAgICAgICAgICBdfSAgKi99XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5Db21tZW50T3B0aW9ucy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc2hvd0FkZENvbW1lbnQ6IG51bGwsXG59O1xuXG5Db21tZW50T3B0aW9ucy5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KS5pc1JlcXVpcmVkLFxuICAgIGVkaXRJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgY29tbWVudDogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KS5pc1JlcXVpcmVkLFxuICAgIGhhbmRsZUNsaWNrT3BlbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBzaG93RWRpdENvbW1lbnQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgc2hvd0FkZENvbW1lbnQ6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKENvbW1lbnRPcHRpb25zKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTksIFdTTzIgSW5jLiAoaHR0cDovL3d3dy53c28yLm9yZykgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBXU08yIEluYy4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsXG4gKiBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHRcbiAqIGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS8nO1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uJztcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xuaW1wb3J0IHsgaW5qZWN0SW50bCwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBBbGVydCBmcm9tICcuLi8uLi8uLi9TaGFyZWQvQWxlcnQnO1xuaW1wb3J0IENvbmZpcm1EaWFsb2cgZnJvbSAnLi4vLi4vLi4vU2hhcmVkL0NvbmZpcm1EaWFsb2cnO1xuaW1wb3J0IENvbW1lbnRFZGl0IGZyb20gJy4vQ29tbWVudEVkaXQnO1xuaW1wb3J0IENvbW1lbnRPcHRpb25zIGZyb20gJy4vQ29tbWVudE9wdGlvbnMnO1xuaW1wb3J0IEFQSSBmcm9tICcuLi8uLi8uLi8uLi9kYXRhL2FwaSc7XG5cbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XG4gICAgbGluazoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQodGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLmRlZmF1bHQpLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9LFxuICAgIGNvbW1lbnRJY29uOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdldENvbnRyYXN0VGV4dCh0aGVtZS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCksXG4gICAgfSxcbiAgICBjb21tZW50VGV4dDoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQodGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLmRlZmF1bHQpLFxuICAgICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pZyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyxcbiAgICAgICAgb3ZlcmZsb3dXcmFwOiAnYnJlYWstd29yZCcsXG4gICAgfSxcbiAgICByb290OiB7XG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMi41LFxuICAgIH0sXG4gICAgY29udGVudFdyYXBwZXI6IHtcbiAgICAgICAgbWF4V2lkdGg6IHRoZW1lLmN1c3RvbS5jb250ZW50QXJlYVdpZHRoLFxuICAgICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZy51bml0ICogMixcbiAgICAgICAgcGFkZGluZ1RvcDogdGhlbWUuc3BhY2luZy51bmlnLFxuICAgIH0sXG59KTtcblxuLyoqXG4gKiBEaXNwbGF5IGEgcGFydGljdWxhciBjb21tZW50IGFuZCBkZXRhaWxzXG4gKiBAY2xhc3MgQ29tbWVudFJlcGx5XG4gKiBAZXh0ZW5kcyB7UmVhY3QuQ29tcG9uZW50fVxuICovXG5jbGFzcyBDb21tZW50UmVwbHkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQ29tbWVudFxuICAgICAqIEBwYXJhbSB7Kn0gcHJvcHMgcHJvcGVyaWVzIHBhc3NlZCBieSB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudFJlcGx5XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgb3BlbkRpYWxvZzogZmFsc2UsXG4gICAgICAgICAgICBlZGl0SW5kZXg6IC0xLFxuICAgICAgICAgICAgZGVsZXRlQ29tbWVudDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbGlja0RlbGV0ZUNvbW1lbnQgPSB0aGlzLmhhbmRsZUNsaWNrRGVsZXRlQ29tbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZVNob3dFZGl0ID0gdGhpcy5oYW5kbGVTaG93RWRpdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrT3BlbiA9IHRoaXMuaGFuZGxlQ2xpY2tPcGVuLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2hvd0VkaXRDb21tZW50ID0gdGhpcy5zaG93RWRpdENvbW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDb25maXJtRGlhbG9nID0gdGhpcy5oYW5kbGVDb25maXJtRGlhbG9nLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2xvc2UgPSB0aGlzLmhhbmRsZUNsb3NlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZmlsdGVyUmVtYWluaW5nQ29tbWVudHMgPSB0aGlzLmZpbHRlclJlbWFpbmluZ0NvbW1lbnRzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZmlsdGVyQ29tbWVudFRvRGVsZXRlID0gdGhpcy5maWx0ZXJDb21tZW50VG9EZWxldGUuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIHRoZSBjb21tZW50cyB0byBiZSByZW1haW5lZFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50UmVwbHlcbiAgICAgKi9cbiAgICBmaWx0ZXJSZW1haW5pbmdDb21tZW50cyhjb21tZW50VG9GaWx0ZXIpIHtcbiAgICAgICAgY29uc3QgeyBkZWxldGVDb21tZW50IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICByZXR1cm4gY29tbWVudFRvRmlsdGVyLmNvbW1lbnRJZCAhPT0gZGVsZXRlQ29tbWVudC5jb21tZW50SWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyB0aGUgY29tbWVudHMgdG8gYmUgZGVsZXRlZFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50UmVwbHlcbiAgICAgKi9cbiAgICBmaWx0ZXJDb21tZW50VG9EZWxldGUoY29tbWVudFRvRmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsZXRlQ29tbWVudCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRUb0ZpbHRlci5jb21tZW50SWQgPT09IGRlbGV0ZUNvbW1lbnQucGFyZW50Q29tbWVudElkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBjb21wb25lbnQgdG8gZWRpdCBhIGNvbW1lbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gaW5kZXggSW5kZXggb2YgY29tbWVudCBpbiB0aGUgYXJyYXlcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudFJlcGx5XG4gICAgICovXG4gICAgc2hvd0VkaXRDb21tZW50KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHsgZWRpdEluZGV4IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoZWRpdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRJbmRleDogaW5kZXggfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgY29tcG9uZW50IHRvIGVkaXQgYSBjb21tZW50XG4gICAgICogQHBhcmFtIHthbnl9IGluZGV4IEluZGV4IG9mIGNvbW1lbnQgaW4gdGhlIGFycmF5XG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRSZXBseVxuICAgICAqL1xuICAgIGhhbmRsZVNob3dFZGl0KCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdEluZGV4OiAtMSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgY29uZmltYXRpb24gZGlhbG9nIHRvIGRlbGV0ZSBhIGNvbW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29tbWVudCBDb21tZW50IHRoYXQgaGFzIHRvIGJlIGRlbGV0ZWRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudFJlcGx5XG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2tPcGVuKGNvbW1lbnQpIHtcbiAgICAgICAgY29uc3QgeyBlZGl0SW5kZXggfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChlZGl0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGVsZXRlQ29tbWVudDogY29tbWVudCwgb3BlbkRpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBjb25maW1hdGlvbiBkaWFsb2cgdG8gZGVsZXRlIGEgY29tbWVudFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50UmVwbHlcbiAgICAgKi9cbiAgICBoYW5kbGVDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5EaWFsb2c6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIENvbmZpcm0gRGlhbG9nXG4gICAgICogQHBhcmFtIHsqfSBib29sIHByb3BlcmllcyBwYXNzZWQgYnkgdGhlIENvbmZpcm0gRGlhbG9nXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRSZXBseVxuICAgICAqL1xuICAgIGhhbmRsZUNvbmZpcm1EaWFsb2cobWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGlja0RlbGV0ZUNvbW1lbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZGVsZXRpbmcgYSBjb21tZW50XG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRSZXBseVxuICAgICAqL1xuICAgIGhhbmRsZUNsaWNrRGVsZXRlQ29tbWVudCgpIHtcbiAgICAgICAgY29uc3QgQXBpID0gbmV3IEFQSSgpO1xuICAgICAgICBjb25zdCB7IGRlbGV0ZUNvbW1lbnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGFwaUlkLCBhbGxDb21tZW50cywgY29tbWVudHNVcGRhdGUsIGludGwsXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCBjb21tZW50SWRPZkNvbW1lbnRUb0RlbGV0ZSA9IGRlbGV0ZUNvbW1lbnQuY29tbWVudElkO1xuICAgICAgICBjb25zdCBwYXJlbnRDb21tZW50SWRPZkNvbW1lbnRUb0RlbGV0ZSA9IGRlbGV0ZUNvbW1lbnQucGFyZW50Q29tbWVudElkO1xuICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7XG5cbiAgICAgICAgQXBpLmRlbGV0ZUNvbW1lbnQoYXBpSWQsIGNvbW1lbnRJZE9mQ29tbWVudFRvRGVsZXRlKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRDb21tZW50SWRPZkNvbW1lbnRUb0RlbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0NvbW1lbnRzID0gYWxsQ29tbWVudHMuZmlsdGVyKHRoaXMuZmlsdGVyUmVtYWluaW5nQ29tbWVudHMpO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50c1VwZGF0ZShyZW1haW5pbmdDb21tZW50cyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhbGxDb21tZW50cy5maW5kSW5kZXgodGhpcy5maWx0ZXJDb21tZW50VG9EZWxldGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdSZXBsaWVzID0gYWxsQ29tbWVudHNbaW5kZXhdLnJlcGxpZXMuZmlsdGVyKHRoaXMuZmlsdGVyUmVtYWluaW5nQ29tbWVudHMpO1xuICAgICAgICAgICAgICAgICAgICBhbGxDb21tZW50c1tpbmRleF0ucmVwbGllcyA9IHJlbWFpbmluZ1JlcGxpZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzVXBkYXRlKGFsbENvbW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBBbGVydC5lcnJvcihlcnJvci5yZXNwb25zZS5ib2R5Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEFsZXJ0LmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGRlbGV0aW5nIGNvbW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnQXBpcy5EZXRhaWxzLkNvbW1lbnRzLkNvbW1lbnRSZXBseS5zb21ldGhpbmcud2VudC53cm9uZycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyAtICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNvbW1lbnRJZE9mQ29tbWVudFRvRGVsZXRlLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBtZXRob2Qgb2YgdGhlIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zIHtSZWFjdC5Db21wb25lbnR9IENvbW1lbnQgaHRtbCBjb21wb25lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudFJlcGx5XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGFzc2VzLCBjb21tZW50cywgYXBpSWQsIGFsbENvbW1lbnRzLCBjb21tZW50c1VwZGF0ZSwgaW50bCxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgZWRpdEluZGV4LCBvcGVuRGlhbG9nIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgY29tbWVudHNcbiAgICAgICAgICAgICAgICAmJiBjb21tZW50cy5tYXAoKGNvbW1lbnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtjb21tZW50LmNvbW1lbnRJZCArICctJyArIGluZGV4fSBjbGFzc05hbWU9e2NsYXNzZXMuY29udGVudFdyYXBwZXJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIHNwYWNpbmc9ezF9IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuY29tbWVudEljb259PmFjY291bnRfYm94PC9JY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzIHplcm9NaW5XaWR0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgbm9XcmFwIGNsYXNzTmFtZT17Y2xhc3Nlcy5jb21tZW50VGV4dH0gdmFyaWFudD0nYm9keTEnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbW1lbnQuY3JlYXRlZEJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ICE9PSBlZGl0SW5kZXggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbW1lbnRUZXh0fT57Y29tbWVudC5jb21tZW50VGV4dH08L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2VkaXRJbmRleCA9PT0gaW5kZXggJiYgbnVsbH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kZXggPT09IGVkaXRJbmRleCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tbWVudEVkaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlJZD17YXBpSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29tbWVudHM9e2FsbENvbW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzVXBkYXRlPXtjb21tZW50c1VwZGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50PXtjb21tZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVNob3dFZGl0PXt0aGlzLmhhbmRsZVNob3dFZGl0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbW1lbnRPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXtjbGFzc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudD17Y29tbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJbmRleD17ZWRpdEluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FkZENvbW1lbnQ9e3RoaXMuc2hvd0FkZENvbW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDbGlja09wZW49e3RoaXMuaGFuZGxlQ2xpY2tPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0VkaXRDb21tZW50PXt0aGlzLnNob3dFZGl0Q29tbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgPENvbmZpcm1EaWFsb2dcbiAgICAgICAgICAgICAgICBrZXk9J2tleS1kaWFsb2cnXG4gICAgICAgICAgICAgICAgbGFiZWxDYW5jZWw9J0NhbmNlbCdcbiAgICAgICAgICAgICAgICB0aXRsZT0nQ29uZmlybSBEZWxldGUnXG4gICAgICAgICAgICAgICAgbWVzc2FnZT17aW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY29tbWVudD8nLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ0FwaXMuRGV0YWlscy5Db21tZW50cy5Db21tZW50UmVwbHkuYXJlLnlvdS5zdXJlJyxcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICBsYWJlbE9rPSdZZXMnXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s9e3RoaXMuaGFuZGxlQ29uZmlybURpYWxvZ31cbiAgICAgICAgICAgICAgICBvcGVuPXtvcGVuRGlhbG9nfVxuICAgICAgICAgICAgLz4sXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5Db21tZW50UmVwbHkuZGVmYXVsdFByb3BzID0ge1xuICAgIGFwaTogbnVsbCxcbn07XG5cbkNvbW1lbnRSZXBseS5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KS5pc1JlcXVpcmVkLFxuICAgIGFwaUlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgYWxsQ29tbWVudHM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEFycmF5KS5pc1JlcXVpcmVkLFxuICAgIGNvbW1lbnRzVXBkYXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNvbW1lbnRzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihBcnJheSkuaXNSZXF1aXJlZCxcbiAgICBpbnRsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBmb3JtYXRNZXNzYWdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9KS5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bCh3aXRoU3R5bGVzKHN0eWxlcykoQ29tbWVudFJlcGx5KSk7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE5LCBXU08yIEluYy4gKGh0dHA6Ly93d3cud3NvMi5vcmcpIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogV1NPMiBJbmMuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLFxuICogVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0XG4gKiBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvJztcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbic7XG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcbmltcG9ydCBEaXZpZGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpdmlkZXInO1xuaW1wb3J0IFBhcGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BhcGVyJztcbmltcG9ydCB7IGluamVjdEludGwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IEFsZXJ0IGZyb20gJy4uLy4uLy4uL1NoYXJlZC9BbGVydCc7XG5pbXBvcnQgQ29uZmlybURpYWxvZyBmcm9tICcuLi8uLi8uLi9TaGFyZWQvQ29uZmlybURpYWxvZyc7XG5pbXBvcnQgQ29tbWVudEFkZCBmcm9tICcuL0NvbW1lbnRBZGQnO1xuaW1wb3J0IENvbW1lbnRFZGl0IGZyb20gJy4vQ29tbWVudEVkaXQnO1xuaW1wb3J0IENvbW1lbnRPcHRpb25zIGZyb20gJy4vQ29tbWVudE9wdGlvbnMnO1xuaW1wb3J0IENvbW1lbnRSZXBseSBmcm9tICcuL0NvbW1lbnRSZXBseSc7XG5pbXBvcnQgQVBJIGZyb20gJy4uLy4uLy4uLy4uL2RhdGEvYXBpJztcblxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcbiAgICBsaW5rOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdldENvbnRyYXN0VGV4dCh0aGVtZS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCksXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIH0sXG4gICAgY29tbWVudEljb246IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0KSxcbiAgICB9LFxuICAgIGNvbW1lbnRUZXh0OiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdldENvbnRyYXN0VGV4dCh0aGVtZS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdCksXG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMC44LFxuICAgICAgICB3aWR0aDogJzk5JScsXG4gICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXG4gICAgICAgIG92ZXJmbG93V3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgIH0sXG4gICAgcm9vdDoge1xuICAgICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDIuNSxcbiAgICB9LFxuICAgIGNvbnRlbnRXcmFwcGVyOiB7XG4gICAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAyLFxuICAgICAgICBwYWRkaW5nVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQsXG4gICAgfSxcbiAgICBjb250ZW50V3JhcHBlck92ZXJ2aWV3OiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgfSxcbiAgICBkaXZpZGVyOiB7XG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0LFxuICAgIH0sXG4gICAgcGFwZXI6IHtcbiAgICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgIH0sXG4gICAgY2xlYW5CYWNrOiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGJveFNoYWRvdzogJ25vbmUnLFxuICAgIH0sXG59KTtcblxuLyoqXG4gKiBEaXNwbGF5IGEgcGFydGljdWxhciBjb21tZW50IGFuZCBkZXRhaWxzXG4gKiBAY2xhc3MgQ29tbWVudFxuICogQGV4dGVuZHMge1JlYWN0LkNvbXBvbmVudH1cbiAqL1xuY2xhc3MgQ29tbWVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBDb21tZW50XG4gICAgICogQHBhcmFtIHsqfSBwcm9wcyBwcm9wZXJpZXMgcGFzc2VkIGJ5IHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgb3BlbkRpYWxvZzogZmFsc2UsXG4gICAgICAgICAgICByZXBseUluZGV4OiAtMSxcbiAgICAgICAgICAgIGVkaXRJbmRleDogLTEsXG4gICAgICAgICAgICBkZWxldGVDb21tZW50OiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrRGVsZXRlQ29tbWVudCA9IHRoaXMuaGFuZGxlQ2xpY2tEZWxldGVDb21tZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlU2hvd0VkaXQgPSB0aGlzLmhhbmRsZVNob3dFZGl0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlU2hvd1JlcGx5ID0gdGhpcy5oYW5kbGVTaG93UmVwbHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbGlja09wZW4gPSB0aGlzLmhhbmRsZUNsaWNrT3Blbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNob3dBZGRDb21tZW50ID0gdGhpcy5zaG93QWRkQ29tbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNob3dFZGl0Q29tbWVudCA9IHRoaXMuc2hvd0VkaXRDb21tZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29uZmlybURpYWxvZyA9IHRoaXMuaGFuZGxlQ29uZmlybURpYWxvZy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsb3NlID0gdGhpcy5oYW5kbGVDbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmZpbHRlclJlbWFpbmluZ0NvbW1lbnRzID0gdGhpcy5maWx0ZXJSZW1haW5pbmdDb21tZW50cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmZpbHRlckNvbW1lbnRUb0RlbGV0ZSA9IHRoaXMuZmlsdGVyQ29tbWVudFRvRGVsZXRlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyB0aGUgY29tbWVudHMgdG8gYmUgcmVtYWluZWRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudFxuICAgICAqL1xuICAgIGZpbHRlclJlbWFpbmluZ0NvbW1lbnRzKGNvbW1lbnRUb0ZpbHRlcikge1xuICAgICAgICBjb25zdCB7IGRlbGV0ZUNvbW1lbnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHJldHVybiBjb21tZW50VG9GaWx0ZXIuaWQgIT09IGRlbGV0ZUNvbW1lbnQuaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyB0aGUgY29tbWVudHMgdG8gYmUgZGVsZXRlZFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50XG4gICAgICovXG4gICAgZmlsdGVyQ29tbWVudFRvRGVsZXRlKGNvbW1lbnRUb0ZpbHRlcikge1xuICAgICAgICBjb25zdCB7IGRlbGV0ZUNvbW1lbnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIC8vIHJldHVybiBjb21tZW50VG9GaWx0ZXIuaWQgPT09IGRlbGV0ZUNvbW1lbnQucGFyZW50Q29tbWVudElkO1xuICAgICAgICByZXR1cm4gY29tbWVudFRvRmlsdGVyLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBjb21wb25lbnQgdG8gYWRkIGEgbmV3IGNvbW1lbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gaW5kZXggSW5kZXggb2YgY29tbWVudCBpbiB0aGUgYXJyYXlcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudFxuICAgICAqL1xuICAgIHNob3dBZGRDb21tZW50KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHsgZWRpdEluZGV4IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoZWRpdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlcGx5SW5kZXg6IGluZGV4IH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIGNvbXBvbmVudCB0byBlZGl0IGEgY29tbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSBpbmRleCBJbmRleCBvZiBjb21tZW50IGluIHRoZSBhcnJheVxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50XG4gICAgICovXG4gICAgc2hvd0VkaXRDb21tZW50KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHsgZWRpdEluZGV4IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoZWRpdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRJbmRleDogaW5kZXggfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgY29tcG9uZW50IHRvIGVkaXQgYSBjb21tZW50XG4gICAgICogQHBhcmFtIHthbnl9IGluZGV4IEluZGV4IG9mIGNvbW1lbnQgaW4gdGhlIGFycmF5XG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRcbiAgICAgKi9cbiAgICBoYW5kbGVTaG93RWRpdCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRJbmRleDogLTEgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGNvbXBvbmVudCB0byBhZGQgYSBuZXcgY29tbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSBpbmRleCBJbmRleCBvZiBjb21tZW50IGluIHRoZSBhcnJheVxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50XG4gICAgICovXG4gICAgaGFuZGxlU2hvd1JlcGx5KCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVwbHlJbmRleDogLTEgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIGNvbmZpbWF0aW9uIGRpYWxvZyB0byBkZWxldGUgYSBjb21tZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbW1lbnQgQ29tbWVudCB0aGF0IGhhcyB0byBiZSBkZWxldGVkXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRcbiAgICAgKi9cbiAgICBoYW5kbGVDbGlja09wZW4oY29tbWVudCkge1xuICAgICAgICBjb25zdCB7IGVkaXRJbmRleCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKGVkaXRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkZWxldGVDb21tZW50OiBjb21tZW50LCBvcGVuRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGNvbmZpbWF0aW9uIGRpYWxvZyB0byBkZWxldGUgYSBjb21tZW50XG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRcbiAgICAgKi9cbiAgICBoYW5kbGVDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5EaWFsb2c6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIENvbmZpcm0gRGlhbG9nXG4gICAgICogQHBhcmFtIHsqfSBib29sIHByb3BlcmllcyBwYXNzZWQgYnkgdGhlIENvbmZpcm0gRGlhbG9nXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRcbiAgICAgKi9cbiAgICBoYW5kbGVDb25maXJtRGlhbG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xpY2tEZWxldGVDb21tZW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGRlbGV0aW5nIGEgY29tbWVudFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50XG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2tEZWxldGVDb21tZW50KCkge1xuICAgICAgICBjb25zdCBhcGlDbGllbnQgPSBuZXcgQVBJKCk7XG5cbiAgICAgICAgY29uc3QgeyBkZWxldGVDb21tZW50IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhcGlJZCwgYWxsQ29tbWVudHMsIGNvbW1lbnRzVXBkYXRlLCBpbnRsLFxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgY29tbWVudElkT2ZDb21tZW50VG9EZWxldGUgPSBkZWxldGVDb21tZW50LmlkO1xuICAgICAgICAvLyBjb25zdCBwYXJlbnRDb21tZW50SWRPZkNvbW1lbnRUb0RlbGV0ZSA9IGRlbGV0ZUNvbW1lbnQucGFyZW50Q29tbWVudElkO1xuICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7XG5cbiAgICAgICAgYXBpQ2xpZW50XG4gICAgICAgICAgICAuZGVsZXRlQ29tbWVudChhcGlJZCwgY29tbWVudElkT2ZDb21tZW50VG9EZWxldGUpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHBhcmVudENvbW1lbnRJZE9mQ29tbWVudFRvRGVsZXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdDb21tZW50cyA9IGFsbENvbW1lbnRzLmZpbHRlcih0aGlzLmZpbHRlclJlbWFpbmluZ0NvbW1lbnRzKTtcbiAgICAgICAgICAgICAgICBjb21tZW50c1VwZGF0ZShyZW1haW5pbmdDb21tZW50cyk7XG4gICAgICAgICAgICAgICAgQWxlcnQubWVzc2FnZSgnQ29tbWVudCcgKyBjb21tZW50SWRPZkNvbW1lbnRUb0RlbGV0ZSArICdoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVsZXRlZCcpO1xuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IGluZGV4ID0gYWxsQ29tbWVudHMuZmluZEluZGV4KHRoaXMuZmlsdGVyQ29tbWVudFRvRGVsZXRlKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgcmVtYWluaW5nUmVwbGllcyA9IGFsbENvbW1lbnRzW2luZGV4XS5yZXBsaWVzLmZpbHRlcih0aGlzLmZpbHRlclJlbWFpbmluZ0NvbW1lbnRzKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgYWxsQ29tbWVudHNbaW5kZXhdLnJlcGxpZXMgPSByZW1haW5pbmdSZXBsaWVzO1xuICAgICAgICAgICAgICAgIC8vICAgICBjb21tZW50c1VwZGF0ZShhbGxDb21tZW50cyk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgQWxlcnQuZXJyb3IoZXJyb3IucmVzcG9uc2UuYm9keS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIEFsZXJ0LmVycm9yKFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGRlbGV0aW5nIGNvbW1lbnQnLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlkOiAnQXBpcy5EZXRhaWxzLkNvbW1lbnRzLkNvbW1lbnQuc29tZXRoaW5nLndlbnQud3JvbmcnLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICsgJyAtICdcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICsgY29tbWVudElkT2ZDb21tZW50VG9EZWxldGUsXG4gICAgICAgICAgICAgICAgLy8gICAgICk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1ldGhvZCBvZiB0aGUgY29tcG9uZW50XG4gICAgICogQHJldHVybnMge1JlYWN0LkNvbXBvbmVudH0gQ29tbWVudCBodG1sIGNvbXBvbmVudFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50XG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGFzc2VzLCBjb21tZW50cywgYXBpSWQsIGFsbENvbW1lbnRzLCBjb21tZW50c1VwZGF0ZSwgaXNPdmVydmlldyxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgY29uc3QgeyBlZGl0SW5kZXgsIHJlcGx5SW5kZXgsIG9wZW5EaWFsb2cgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICA8UGFwZXIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW2NsYXNzZXMucGFwZXJdOiAhaXNPdmVydmlldyAmJiBjb21tZW50cy5sZW5ndGggPiAwIH0sIHsgW2NsYXNzZXMuY2xlYW5CYWNrXTogaXNPdmVydmlldyB9KX0+XG4gICAgICAgICAgICAgICAge2NvbW1lbnRzICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGNvbW1lbnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbW1lbnQuY29tbWVudElkICsgJy0nICsgaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgW2NsYXNzZXMuY29udGVudFdyYXBwZXJdOiAhaXNPdmVydmlldyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBbY2xhc3Nlcy5jb250ZW50V3JhcHBlck92ZXJ2aWV3XTogaXNPdmVydmlldyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ICE9PSAwICYmIDxEaXZpZGVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5kaXZpZGVyfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIHNwYWNpbmc9ezF9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7IFtjbGFzc2VzLnJvb3RdOiAhaXNPdmVydmlldyB9KX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5jb21tZW50SWNvbn0+YWNjb3VudF9ib3g8L0ljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzIHplcm9NaW5XaWR0aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBub1dyYXAgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbW1lbnRUZXh0fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbW1lbnQuY3JlYXRlZEJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbmRleCAhPT0gZWRpdEluZGV4ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbW1lbnRUZXh0fT57Y29tbWVudC5jb250ZW50fTwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ID09PSBlZGl0SW5kZXggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tbWVudEVkaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaUlkPXthcGlJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvbW1lbnRzPXthbGxDb21tZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzVXBkYXRlPXtjb21tZW50c1VwZGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ9e2NvbW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVTaG93RWRpdD17dGhpcy5oYW5kbGVTaG93RWRpdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbW1lbnRPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e2NsYXNzZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ9e2NvbW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJbmRleD17ZWRpdEluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dBZGRDb21tZW50PXt0aGlzLnNob3dBZGRDb21tZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDbGlja09wZW49e3RoaXMuaGFuZGxlQ2xpY2tPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RWRpdENvbW1lbnQ9e3RoaXMuc2hvd0VkaXRDb21tZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyoge2luZGV4ID09PSByZXBseUluZGV4ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tbWVudEFkZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlJZD17YXBpSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcGFyZW50Q29tbWVudElkPXtjb21tZW50LmNvbW1lbnRJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29tbWVudHM9e2FsbENvbW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50c1VwZGF0ZT17Y29tbWVudHNVcGRhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbW1lbnQucmVwbGllcyAhPT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbW1lbnRSZXBseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXtjbGFzc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlJZD17YXBpSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzPXtjb21tZW50LnJlcGxpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzVXBkYXRlPXtjb21tZW50c1VwZGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29tbWVudHM9e2FsbENvbW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L1BhcGVyPixcbiAgICAgICAgICAgIDxDb25maXJtRGlhbG9nXG4gICAgICAgICAgICAgICAga2V5PSdrZXktZGlhbG9nJ1xuICAgICAgICAgICAgICAgIGxhYmVsQ2FuY2VsPSdDYW5jZWwnXG4gICAgICAgICAgICAgICAgdGl0bGU9J0NvbmZpcm0gRGVsZXRlJ1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U9J0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjb21tZW50PydcbiAgICAgICAgICAgICAgICBsYWJlbE9rPSdZZXMnXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s9e3RoaXMuaGFuZGxlQ29uZmlybURpYWxvZ31cbiAgICAgICAgICAgICAgICBvcGVuPXtvcGVuRGlhbG9nfVxuICAgICAgICAgICAgLz4sXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5Db21tZW50LnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihPYmplY3QpLmlzUmVxdWlyZWQsXG4gICAgYXBpSWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBhbGxDb21tZW50czogUHJvcFR5cGVzLmluc3RhbmNlT2YoQXJyYXkpLmlzUmVxdWlyZWQsXG4gICAgY29tbWVudHNVcGRhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgY29tbWVudHM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEFycmF5KS5pc1JlcXVpcmVkLFxuICAgIGlzT3ZlcnZpZXc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKHdpdGhTdHlsZXMoc3R5bGVzKShDb21tZW50KSk7XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE5LCBXU08yIEluYy4gKGh0dHA6Ly93d3cud3NvMi5vcmcpIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogV1NPMiBJbmMuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLFxuICogVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0XG4gKiBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCBJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb24nO1xuaW1wb3J0IFBhcGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BhcGVyJztcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkL0dyaWQnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSwgaW5qZWN0SW50bCB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IENPTlNUUyBmcm9tICdBcHBEYXRhL0NvbnN0YW50cyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBJbmxpbmVNZXNzYWdlIGZyb20gJ0FwcENvbXBvbmVudHMvU2hhcmVkL0lubGluZU1lc3NhZ2UnO1xuaW1wb3J0IENvbW1lbnQgZnJvbSAnLi9Db21tZW50JztcbmltcG9ydCBDb21tZW50QWRkIGZyb20gJy4vQ29tbWVudEFkZCc7XG5pbXBvcnQgQVBJIGZyb20gJy4uLy4uLy4uLy4uL2RhdGEvYXBpJztcbmltcG9ydCB7IEFwaUNvbnRleHQgfSBmcm9tICcuLi9BcGlDb250ZXh0JztcbmltcG9ydCBBdXRoTWFuYWdlciBmcm9tICcuLi8uLi8uLi8uLi9kYXRhL0F1dGhNYW5hZ2VyJztcblxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcbiAgICByb290OiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIHBhZGRpbmdUb3A6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDIsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IHRoZW1lLnNwYWNpbmcudW5pdCAqIDIsXG4gICAgfSxcbiAgICBwYXBlcjoge1xuICAgICAgICBtYXJnaW5SaWdodDogdGhlbWUuc3BhY2luZygzKSxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogdGhlbWUuc3BhY2luZygzKSxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgIH0sXG4gICAgY29udGVudFdyYXBwZXI6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDIsXG4gICAgICAgIHBhZGRpbmdUb3A6IHRoZW1lLnNwYWNpbmcudW5pZyxcbiAgICB9LFxuICAgIGNvbnRlbnRXcmFwcGVyT3ZlcnZpZXc6IHtcbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgYm94U2hhZG93OiAnbm9uZScsXG4gICAgfSxcbiAgICB0aXRsZVN1Yjoge1xuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0KSxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICB2ZXJ0aWNhbFNwYWNlOiB7XG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMC4yLFxuICAgIH0sXG4gICAgbG9hZE1vcmVMaW5rOiB7XG4gICAgICAgIHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJyxcbiAgICB9LFxuICAgIGdlbmVyaWNNZXNzYWdlV3JhcHBlcjoge1xuICAgICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIERpc3BsYXkgYSBjb21tZW50IGxpc3RcbiAqIEBjbGFzcyBDb21tZW50c1xuICogQGV4dGVuZHMge1JlYWN0LkNvbXBvbmVudH1cbiAqL1xuY2xhc3MgQ29tbWVudHMgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBjb250ZXh0VHlwZSA9IEFwaUNvbnRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIENvbW1lbnRzXG4gICAgICogQHBhcmFtIHsqfSBwcm9wcyBwcm9wZXJpZXMgcGFzc2VkIGJ5IHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAqIEBtZW1iZXJvZiBDb21tZW50c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGV4cGFuZGVkOiB0cnVlLFxuICAgICAgICAgICAgYWxsQ29tbWVudHM6IFtdLFxuICAgICAgICAgICAgY29tbWVudHM6IFtdLFxuICAgICAgICAgICAgdG90YWxDb21tZW50czogMCxcbiAgICAgICAgICAgIHN0YXJ0Q29tbWVudHNUb0Rpc3BsYXk6IDAsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlQ29tbWVudExpc3QgPSB0aGlzLnVwZGF0ZUNvbW1lbnRMaXN0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlRXhwYW5kQ2xpY2sgPSB0aGlzLmhhbmRsZUV4cGFuZENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlTG9hZE1vcmVDb21tZW50cyA9IHRoaXMuaGFuZGxlTG9hZE1vcmVDb21tZW50cy5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIHRoZSBjb21tZW50cyBmb3IgYSBwYXJ0aWN1bGFyIEFQSSwgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRzXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgICBhcGlJZCwgdGhlbWUsIG1hdGNoLCBpbnRsLCBpc092ZXJ2aWV3LCBzZXRDb3VudCxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGlmIChtYXRjaCkgYXBpSWQgPSBtYXRjaC5wYXJhbXMuYXBpVXVpZDtcblxuICAgICAgICBjb25zdCByZXN0QXBpID0gbmV3IEFQSSgpO1xuXG4gICAgICAgIHJlc3RBcGlcbiAgICAgICAgICAgIC5nZXRBbGxDb21tZW50cyhhcGlJZClcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29tbWVudExpc3QgPSByZXN1bHQuYm9keS5saXN0O1xuICAgICAgICAgICAgICAgIGlmIChpc092ZXJ2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENvdW50KGNvbW1lbnRMaXN0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50TGlzdC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdCA9IGNvbW1lbnRMaXN0LnNsaWNlKGNvbW1lbnRMaXN0Lmxlbmd0aCAtIDMsIGNvbW1lbnRMaXN0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFsbENvbW1lbnRzOiBjb21tZW50TGlzdCwgdG90YWxDb21tZW50czogY29tbWVudExpc3QubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjb21tZW50TGlzdC5sZW5ndGggPCB0aGVtZS5jdXN0b20uY29tbWVudHNMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29tbWVudHNUb0Rpc3BsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50czogY29tbWVudExpc3Quc2xpY2UoMCwgY29tbWVudExpc3QubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbW1lbnRzVG9EaXNwbGF5OiBjb21tZW50TGlzdC5sZW5ndGggLSB0aGVtZS5jdXN0b20uY29tbWVudHNMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzOiBjb21tZW50TGlzdC5zbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdC5sZW5ndGggLSB0aGVtZS5jdXN0b20uY29tbWVudHNMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGxvYWRpbmcgdGhlIHByZXZpb3VzIGNvbW1lbnRzXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRzXG4gICAgICovXG4gICAgaGFuZGxlTG9hZE1vcmVDb21tZW50cygpIHtcbiAgICAgICAgY29uc3QgeyB0b3RhbENvbW1lbnRzLCBzdGFydENvbW1lbnRzVG9EaXNwbGF5LCBhbGxDb21tZW50cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgeyB0aGVtZSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKHN0YXJ0Q29tbWVudHNUb0Rpc3BsYXkgLSB0aGVtZS5jdXN0b20uY29tbWVudHNMaW1pdCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RhcnRDb21tZW50c1RvRGlzcGxheTogMCwgY29tbWVudHM6IGFsbENvbW1lbnRzLnNsaWNlKDAsIHRvdGFsQ29tbWVudHMpIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc3RhcnRDb21tZW50c1RvRGlzcGxheTogc3RhcnRDb21tZW50c1RvRGlzcGxheSAtIHRoZW1lLmN1c3RvbS5jb21tZW50c0xpbWl0LFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzOiBhbGxDb21tZW50cy5zbGljZShzdGFydENvbW1lbnRzVG9EaXNwbGF5IC0gdGhlbWUuY3VzdG9tLmNvbW1lbnRzTGltaXQsIHRvdGFsQ29tbWVudHMpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGV4cGFuZGluZyB0aGUgY29tbWVudCBzZWN0aW9uXG4gICAgICogQG1lbWJlcm9mIENvbW1lbnRzXG4gICAgICovXG4gICAgaGFuZGxlRXhwYW5kQ2xpY2soKSB7XG4gICAgICAgIGNvbnN0IHsgZXhwYW5kZWQgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZDogIWV4cGFuZGVkIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGNvbW1lbnQgbGlzdCwgVGhpcyBpcyBwYXNzZWQgdGhyb3VnaCBwcm9wcyB0byBjaGlsZCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gY29tbWVudHMgVXBkYXRlZCBjb21tZW50IGxpc3RcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudHNcbiAgICAgKi9cbiAgICB1cGRhdGVDb21tZW50TGlzdChjb21tZW50cykge1xuICAgICAgICBjb25zdCB7IHN0YXJ0Q29tbWVudHNUb0Rpc3BsYXksIHRvdGFsQ29tbWVudHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHsgdGhlbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGxldCBuZXdTdGFydDtcbiAgICAgICAgbGV0IGRpZmZlcmVuY2U7XG4gICAgICAgIGxldCBuZXdUb3RhbDtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFsbENvbW1lbnRzOiBjb21tZW50cyB9KTtcbiAgICAgICAgaWYgKHRvdGFsQ29tbWVudHMgPCB0aGVtZS5jdXN0b20uY29tbWVudHNMaW1pdCkge1xuICAgICAgICAgICAgbmV3VG90YWwgPSBjb21tZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RhcnRDb21tZW50c1RvRGlzcGxheTogMCwgdG90YWxDb21tZW50czogbmV3VG90YWwsIGNvbW1lbnRzIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsQ29tbWVudHMgPD0gY29tbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gY29tbWVudHMubGVuZ3RoIC0gdG90YWxDb21tZW50cztcbiAgICAgICAgICAgIG5ld1N0YXJ0ID0gc3RhcnRDb21tZW50c1RvRGlzcGxheSArIGRpZmZlcmVuY2U7XG4gICAgICAgICAgICBuZXdUb3RhbCA9IGNvbW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHN0YXJ0Q29tbWVudHNUb0Rpc3BsYXk6IG5ld1N0YXJ0LFxuICAgICAgICAgICAgICAgIHRvdGFsQ29tbWVudHM6IG5ld1RvdGFsLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzOiBjb21tZW50cy5zbGljZShuZXdTdGFydCwgbmV3VG90YWwpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gdG90YWxDb21tZW50cyAtIGNvbW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChzdGFydENvbW1lbnRzVG9EaXNwbGF5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhcnQgPSBzdGFydENvbW1lbnRzVG9EaXNwbGF5O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdGFydCA9IHN0YXJ0Q29tbWVudHNUb0Rpc3BsYXkgLSBkaWZmZXJlbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3VG90YWwgPSBjb21tZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzdGFydENvbW1lbnRzVG9EaXNwbGF5OiBuZXdTdGFydCxcbiAgICAgICAgICAgICAgICB0b3RhbENvbW1lbnRzOiBuZXdUb3RhbCxcbiAgICAgICAgICAgICAgICBjb21tZW50czogY29tbWVudHMuc2xpY2UobmV3U3RhcnQsIG5ld1RvdGFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNvbXBhcmUgdGhlIHRlbmFudCBkb21haW5zXG4gICAgICogQHBhcmFtIHsqfSBhZHZlcnRpc2VJbmZvIGFkdmVydGlzZUluZm8gb2JqZWN0IGZvciB0aGUgQVBJXG4gICAgICogQHBhcmFtIHsqfSBjdXJyZW50VXNlciBjdXJyZW50IGxvZ2dlZCBpbiB1c2VyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgb3IgZmFsc2VcbiAgICAgKi9cbiAgICBpc0Nyb3NzVGVuYW50KGFwaVByb3ZpZGVyLCBjdXJyZW50VXNlcikge1xuICAgICAgICBsZXQgdGVuYW50RG9tYWluID0gbnVsbDtcbiAgICAgICAgbGV0IGxvZ2dlZEluVXNlckRvbWFpbiA9IG51bGw7XG4gICAgICAgIGNvbnN0IGxvZ2dlZEluVXNlciA9IGN1cnJlbnRVc2VyLm5hbWU7XG5cbiAgICAgICAgaWYgKGFwaVByb3ZpZGVyLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0RG9tYWluID0gYXBpUHJvdmlkZXIuc3BsaXQoJ0AnKTtcbiAgICAgICAgICAgIHRlbmFudERvbWFpbiA9IHNwbGl0RG9tYWluW3NwbGl0RG9tYWluLmxlbmd0aCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGVuYW50RG9tYWluID0gJ2NhcmJvbi5zdXBlcic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9nZ2VkSW5Vc2VyLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0TG9nZ2VkSW5Vc2VyID0gbG9nZ2VkSW5Vc2VyLnNwbGl0KCdAJyk7XG4gICAgICAgICAgICBsb2dnZWRJblVzZXJEb21haW4gPSBzcGxpdExvZ2dlZEluVXNlcltzcGxpdExvZ2dlZEluVXNlci5sZW5ndGggLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlZEluVXNlckRvbWFpbiA9ICdjYXJib24uc3VwZXInO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRlbmFudERvbWFpbiAhPT0gbG9nZ2VkSW5Vc2VyRG9tYWluKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBtZXRob2Qgb2YgdGhlIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zIHtSZWFjdC5Db21wb25lbnR9IENvbW1lbnQgaHRtbCBjb21wb25lbnRcbiAgICAgKiBAbWVtYmVyb2YgQ29tbWVudHNcbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xhc3Nlcywgc2hvd0xhdGVzdCwgaXNPdmVydmlldyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29tbWVudHMsIGV4cGFuZGVkLCBhbGxDb21tZW50cywgc3RhcnRDb21tZW50c1RvRGlzcGxheSwgdG90YWxDb21tZW50cywgY29tbWVudHNVcGRhdGUsXG4gICAgICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEFwaUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAgICAgICAgeyh7IGFwaSB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFtjbGFzc2VzLmNvbnRlbnRXcmFwcGVyXTogIWlzT3ZlcnZpZXcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFtjbGFzc2VzLmNvbnRlbnRXcmFwcGVyT3ZlcnZpZXddOiBpc092ZXJ2aWV3IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IXNob3dMYXRlc3QgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PSdoNCcgY2xhc3NOYW1lPXtjbGFzc2VzLnRpdGxlU3VifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdBcGlzLkRldGFpbHMuQ29tbWVudHMudGl0bGUnIGRlZmF1bHRNZXNzYWdlPSdDb21tZW50cycgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHshc2hvd0xhdGVzdCAmJiBBdXRoTWFuYWdlci5nZXRVc2VyKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLmlzQ3Jvc3NUZW5hbnQoYXBpLnByb3ZpZGVyLCBBdXRoTWFuYWdlci5nZXRVc2VyKCkpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFwZXIgY2xhc3NOYW1lPXtjbGFzc2VzLnBhcGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbW1lbnRBZGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaUlkPXthcGkuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50c1VwZGF0ZT17dGhpcy51cGRhdGVDb21tZW50TGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvbW1lbnRzPXthbGxDb21tZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudENvbW1lbnRJZD17bnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFwZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge3RvdGFsQ29tbWVudHMgPT09IDAgJiYgQXV0aE1hbmFnZXIuZ2V0VXNlcigpID09PSBudWxsICYmICFpc092ZXJ2aWV3ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuZ2VuZXJpY01lc3NhZ2VXcmFwcGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElubGluZU1lc3NhZ2UgdHlwZT0naW5mbycgY2xhc3NOYW1lPXtjbGFzc2VzLmRpYWxvZ0NvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PSdoNScgY29tcG9uZW50PSdoMyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5uby5jb21tZW50cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J05vIENvbW1lbnRzIFlldCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY29tcG9uZW50PSdwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nQXBpcy5EZXRhaWxzLkNvbW1lbnRzLm5vLmNvbW1lbnRzLmNvbnRlbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdObyBjb21tZW50cyBhdmFpbGFibGUgZm9yIHRoaXMgQVBJIHlldCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0lubGluZU1lc3NhZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzPXtjb21tZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlJZD17YXBpLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzVXBkYXRlPXt0aGlzLnVwZGF0ZUNvbW1lbnRMaXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvbW1lbnRzPXthbGxDb21tZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc092ZXJ2aWV3PXtpc092ZXJ2aWV3fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGFydENvbW1lbnRzVG9EaXNwbGF5ICE9PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250ZW50V3JhcHBlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBzcGFjaW5nPXs0fSBjbGFzc05hbWU9e2NsYXNzZXMucm9vdH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy52ZXJ0aWNhbFNwYWNlfSB2YXJpYW50PSdib2R5MSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMubGluayArICcgJyArIGNsYXNzZXMubG9hZE1vcmVMaW5rfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVMb2FkTW9yZUNvbW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQ29tbWVudHMubG9hZC5wcmV2aW91cy5jb21tZW50cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nTG9hZCBQcmV2aW91cyBDb21tZW50cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUxvYWRNb3JlQ29tbWVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5saW5rICsgJyAnICsgY2xhc3Nlcy52ZXJ0aWNhbFNwYWNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dfZHJvcF9kb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMudmVydGljYWxTcGFjZX0gdmFyaWFudD0nYm9keTEnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5Db21tZW50cy5zaG93aW5nLmNvbW1lbnRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1Nob3dpbmcgY29tbWVudHMgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0b3RhbENvbW1lbnRzIC0gc3RhcnRDb21tZW50c1RvRGlzcGxheSArICcgb2YgJyArIHRvdGFsQ29tbWVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9BcGlDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuQ29tbWVudHMucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKE9iamVjdCkuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluamVjdEludGwod2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKENvbW1lbnRzKSk7XG4iXSwic291cmNlUm9vdCI6IiJ9