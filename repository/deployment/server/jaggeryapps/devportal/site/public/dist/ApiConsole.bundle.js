(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1900:function(e,t){},1902:function(e,t){},2145:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(21),l=a(1023),o=a(314),r=a(3),c=a.n(r),p=a(1027),d=a(6),u=a(534),h=a(1032),m=a(1033),g=a(24),y=a(451),f=a(1220),E=a(1028),A=a(1171),b=a.n(A),C=a(1217),k=a(1045),v=a(335),T=a(177),w=(a(1762),a(1764)),S=a.n(w);function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class I extends s.a.Component{constructor(e){super(e),P(this,"requestInterceptor",e=>"function"==typeof this.props.requestInterceptor?this.props.requestInterceptor(e):e),P(this,"responseInterceptor",e=>"function"==typeof this.props.responseInterceptor?this.props.responseInterceptor(e):e),P(this,"onComplete",()=>{if("function"==typeof this.props.onComplete)return this.props.onComplete(this.system)}),this.SwaggerUIComponent=null,this.system=null}componentDidMount(){const e=S()({spec:this.props.spec,url:this.props.url,defaultModelsExpandDepth:this.props.defaultModelsExpandDepth,presets:[w.presets.apis,...this.props.presets],requestInterceptor:this.requestInterceptor,responseInterceptor:this.responseInterceptor,onComplete:this.onComplete,docExpansion:this.props.docExpansion});this.system=e,this.SwaggerUIComponent=e.getComponent("App","root"),this.forceUpdate()}componentDidUpdate(e){this.props.url!==e.url&&(this.system.specActions.updateSpec(""),this.props.url&&(this.system.specActions.updateUrl(this.props.url),this.system.specActions.download(this.props.url))),this.props.spec!==e.spec&&this.props.spec&&("object"==typeof this.props.spec?this.system.specActions.updateSpec(JSON.stringify(this.props.spec)):this.system.specActions.updateSpec(this.props.spec))}render(){return this.SwaggerUIComponent?s.a.createElement(this.SwaggerUIComponent,null):null}}I.defaultProps={docExpansion:"list",defaultModelsExpandDepth:1,presets:[]},I.propTypes={spec:c.a.oneOf([c.a.string,c.a.object]),url:c.a.string,defaultModelsExpandDepth:c.a.number,requestInterceptor:c.a.func,responseInterceptor:c.a.func,onComplete:c.a.func,docExpansion:c.a.oneOf(["list","full","none"]),presets:c.a.arrayOf(c.a.func)};const O=function(){return{wrapComponents:{info:()=>()=>null}}},D=e=>{const{spec:t,accessTokenProvider:a,authorizationHeader:n,api:i}=e,l={spec:t,validatorUrl:null,docExpansion:"list",defaultModelsExpandDepth:0,requestInterceptor:e=>{const{url:t}=e,s=i.context+"/*";if(e.headers[n]="Bearer "+a(),t.endsWith(s))e.url=t.substring(0,t.length-2);else if(t.includes(s+"?")){const a=t.split("/*?");e.url=a.length>1?a[0]+"?"+a[1]:a[0]}return e},presets:[O],plugins:null};return s.a.createElement(I,l)};D.propTypes={spec:c.a.shape({}).isRequired};var x=D,j=a(1068);var N=e=>{const{subscriptions:t,handleChanges:a,selectedApplication:n,selectedKeyType:o}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{display:"flex",justifyContent:"center"},s.a.createElement(l.a,{xs:12,md:3},s.a.createElement(C.a,null,s.a.createElement(p.a,{fullWidth:!0,id:"outlined-select-currency",select:!0,label:s.a.createElement(i.a,{defaultMessage:"Appplications",id:"Apis.Details.ApiConsole.SelectAppPanel.applications"}),value:n,name:"selectedApplication",onChange:a,SelectProps:t,helperText:s.a.createElement(i.a,{defaultMessage:"Please select an applications",id:"Apis.Details.ApiConsole.SelectAppPanel.select.an.application"}),margin:"normal",variant:"outlined"},t.map(e=>s.a.createElement(f.a,{value:e.applicationInfo.applicationId},e.applicationInfo.name))))),s.a.createElement(l.a,{xs:12,md:3},s.a.createElement(C.a,{ml:2},s.a.createElement(p.a,{fullWidth:!0,id:"outlined-select-currency",select:!0,label:s.a.createElement(i.a,{defaultMessage:"Key Type",id:"Apis.Details.ApiConsole.SelectAppPanel.key.type"}),value:o,name:"selectedKeyType",onChange:a,helperText:s.a.createElement(i.a,{defaultMessage:"Please select an key type",id:"Apis.Details.ApiConsole.SelectAppPanel.select.key.type"}),margin:"normal",variant:"outlined"},s.a.createElement(f.a,{value:"PRODUCTION"},s.a.createElement(i.a,{id:"Apis.Details.ApiConsole.SelectAppPanel.production",defaultMessage:"PRODUCTION"})),s.a.createElement(f.a,{value:"SANDBOX"},s.a.createElement(i.a,{id:"Apis.Details.ApiConsole.SelectAppPanel.sandbox",defaultMessage:"SANDBOX"})))))))};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class B extends s.a.Component{constructor(e){super(e),this.state={showToken:!1},this.handleChanges=this.handleChanges.bind(this),this.accessTokenProvider=this.accessTokenProvider.bind(this),this.handleClickShowToken=this.handleClickShowToken.bind(this),this.updateSwagger=this.updateSwagger.bind(this),this.updateAccessToken=this.updateAccessToken.bind(this),this.updateApplication=this.updateApplication.bind(this)}componentDidMount(){const{api:e}=this.context,t=e.id,a=g.a.getUser();let n,s,i,l,o,r,c,p,d="PRODUCTION";this.apiClient=new T.a,this.apiClient.getAPIById(t).then(e=>((n=e.obj).endpointURLs&&(s=n.endpointURLs.map(e=>e.environmentName)),n.labels&&(i=n.labels.map(e=>e.name)),s&&s.length>0?([l]=s,this.apiClient.getSwaggerByAPIIdAndEnvironment(t,l)):i&&i.length>0?([l]=i,this.apiClient.getSwaggerByAPIIdAndLabel(t,l)):this.apiClient.getSwaggerByAPIId(t))).then(e=>(o=e.obj,null!=a?this.apiClient.getSubscriptions(t):null)).then(e=>{if(null!=e)if((r=e.obj.list.filter(e=>"UNBLOCKED"===e.status))&&r.length>0){c=r[0].applicationId,j.a.get(c).then(e=>e.getKeys()).then(e=>{e.get("SANDBOX")?(d="SANDBOX",({accessToken:p}=e.get("SANDBOX").token)):e.get("PRODUCTION")&&(d="PRODUCTION",({accessToken:p}=e.get("PRODUCTION").token)),this.setState({api:n,swagger:o,subscriptions:r,environments:s,labels:i,selectedEnvironment:l,selectedApplication:c,keys:e,selectedKeyType:d,accessToken:p})})}else this.setState({api:n,swagger:o,subscriptions:r,environments:s,labels:i,selectedEnvironment:l,selectedApplication:c,keys:void 0,selectedKeyType:d,accessToken:p});else this.setState({api:n,swagger:o,subscriptions:r,environments:s,labels:i,selectedEnvironment:l,selectedApplication:c,keys:void 0,selectedKeyType:d,accessToken:p})}).catch(e=>{const{status:t}=e;404===t&&this.setState({notFound:!0})})}handleClickShowToken(){const{showToken:e}=this.state;this.setState({showToken:!e})}accessTokenProvider(){const{accessToken:e}=this.state;return e}handleChanges(e){const{target:t}=e,{name:a,value:n}=t;switch(a){case"selectedEnvironment":this.setState({[a]:n},this.updateSwagger);break;case"selectedApplication":this.setState({[a]:n},this.updateApplication);break;case"selectedKeyType":this.setState({[a]:n},this.updateAccessToken);break;default:this.setState({[a]:n})}}updateSwagger(){const{selectedEnvironment:e,api:t,environments:a}=this.state;let n;(n=e?a.includes(e)?this.apiClient.getSwaggerByAPIIdAndEnvironment(t.id,e):this.apiClient.getSwaggerByAPIIdAndLabel(t.id,e):this.apiClient.getSwaggerByAPIId(t.id)).then(e=>{this.setState({swagger:e.obj})})}updateAccessToken(){const{keys:e,selectedKeyType:t}=this.state;let a;e.get(t)&&({accessToken:a}=e.get(t).token),this.setState({accessToken:a})}updateApplication(){const{selectedApplication:e,selectedKeyType:t}=this.state;let a;j.a.get(e).then(e=>e.getKeys()).then(e=>{e.get(t)&&({accessToken:a}=e.get(t).token),this.setState({accessToken:a,keys:e})})}render(){const{classes:e}=this.props,{api:t,notFound:a,swagger:n,accessToken:r,showToken:c,subscriptions:d,selectedApplication:A,selectedKeyType:k,selectedEnvironment:T,environments:w,labels:S}=this.state,P=g.a.getUser(),I=JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){U(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n)),O="data:text/json;charset=utf-8, "+encodeURIComponent(I);if(null==t||null==n)return s.a.createElement(v.a,null);if(a)return"API Not found !";const D=t.authorizationHeader?t.authorizationHeader:"Authorization",j=t.lifeCycleStatus&&"prototyped"===t.lifeCycleStatus.toLowerCase();return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{variant:"h4",className:e.titleSub},s.a.createElement(i.a,{id:"Apis.Details.ApiConsole.ApiConsole.title",defaultMessage:"Try Out"})),s.a.createElement(y.a,{className:e.paper},s.a.createElement(l.a,{container:!0,className:e.grid},!j&&!P&&s.a.createElement(l.a,{item:!0,md:6},s.a.createElement(y.a,{className:e.userNotificationPaper},s.a.createElement(o.a,{variant:"h5",component:"h3"},s.a.createElement(m.a,null,"warning")," ",s.a.createElement(i.a,{id:"notice",defaultMessage:"Notice"})),s.a.createElement(o.a,{component:"p"},s.a.createElement(i.a,{id:"api.console.require.access.token",defaultMessage:"You need an access token to try the API. Please log in and subscribe to the API to generate an access token. If you already have an access token, please provide it below."})))),!j&&s.a.createElement(l.a,{xs:12,md:12},s.a.createElement(C.a,{display:"block"},P&&d&&d.length>0&&s.a.createElement(N,{subscriptions:d,handleChanges:this.handleChanges,selectedApplication:A,selectedKeyType:k,selectedEnvironment:T,environments:w}),d&&0===d.length&&s.a.createElement(C.a,{display:"flex",justifyContent:"center"},s.a.createElement(o.a,{variant:"body1",gutterBottom:!0},s.a.createElement(i.a,{id:"Apis.Details.ApiConsole.ApiConsole.please.subscribe.to.application",defaultMessage:"Please subscribe to an application"}))),s.a.createElement(C.a,{display:"flex",justifyContent:"center"},s.a.createElement(l.a,{xs:12,md:6},(w&&w.length>0||S&&S.length>0)&&s.a.createElement(p.a,{fullWidth:!0,select:!0,label:s.a.createElement(i.a,{defaultMessage:"Environment",id:"Apis.Details.ApiConsole.environment"}),value:T,name:"selectedEnvironment",onChange:this.handleChanges,SelectProps:w,helperText:s.a.createElement(i.a,{defaultMessage:"Please select an environment",id:"Apis.Details.ApiConsole.SelectAppPanel.select.an.environment"}),margin:"normal",variant:"outlined"},w&&w.length>0&&s.a.createElement(f.a,{value:"",disabled:!0},s.a.createElement("em",null,s.a.createElement(i.a,{id:"api.gateways",defaultMessage:"API Gateways"}))),w&&w.map(e=>s.a.createElement(f.a,{value:e},e)),S&&S.length>0&&s.a.createElement(f.a,{value:"",disabled:!0},s.a.createElement("em",null,s.a.createElement(i.a,{id:"micro.gateways",defaultMessage:"Microgateways"}))),S&&S.map(e=>s.a.createElement(f.a,{value:e},e))))),s.a.createElement(C.a,{display:"flex",justifyContent:"center"},s.a.createElement(l.a,{x:12,md:6},s.a.createElement(p.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:s.a.createElement(i.a,{id:"access.token",defaultMessage:"Access Token"}),name:"accessToken",onChange:this.handleChanges,type:c?"text":"password",value:r||"",helperText:s.a.createElement(i.a,{id:"enter.access.token",defaultMessage:"Enter access Token"}),InputProps:{endAdornment:s.a.createElement(h.a,{position:"end"},s.a.createElement(u.a,{edge:"end","aria-label":"Toggle token visibility",onClick:this.handleClickShowToken},c?s.a.createElement(m.a,null,"visibility_off"):s.a.createElement(m.a,null,"visibility"))),startAdornment:s.a.createElement(h.a,{className:e.inputAdornmentStart,position:"start"},`${D}: Bearer`)}}))))),s.a.createElement(l.a,{xs:12,container:!0},s.a.createElement(l.a,{xs:10}),s.a.createElement(l.a,{xs:2},s.a.createElement("a",{href:O,download:"swagger.json"},s.a.createElement(E.a,{size:"small"},s.a.createElement(b.a,{className:e.buttonIcon}),s.a.createElement(i.a,{id:"Apis.Details.APIConsole.APIConsole.download.swagger",defaultMessage:"Swagger ( /swagger.json )"}))))))),s.a.createElement(y.a,{className:e.paper},s.a.createElement(x,{api:this.state.api,accessTokenProvider:this.accessTokenProvider,spec:n,authorizationHeader:D})))}}U(B,"contextType",k.a),B.defaultProps={},B.propTypes={classes:c.a.shape({}).isRequired};t.default=Object(d.a)(e=>({buttonIcon:{marginRight:10},inputAdornmentStart:{minWidth:e.spacing(18)},paper:{margin:e.spacing(1),padding:e.spacing(1)},grid:{marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit,paddingRight:2*e.spacing.unit,justifyContent:"center"},userNotificationPaper:{padding:2*e.spacing.unit},titleSub:{marginLeft:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}))(B)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc3JjL2FwcC9jb21wb25lbnRzL0FwaXMvRGV0YWlscy9BcGlDb25zb2xlL1BhdGNoZWRTd2FnZ2VyVUlSZWFjdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3NyYy9hcHAvY29tcG9uZW50cy9BcGlzL0RldGFpbHMvQXBpQ29uc29sZS9Td2FnZ2VyVUkuanN4Iiwid2VicGFjazovLy8uL3NvdXJjZS9zcmMvYXBwL2NvbXBvbmVudHMvQXBpcy9EZXRhaWxzL0FwaUNvbnNvbGUvU2VsZWN0QXBwUGFuZWwuanN4Iiwid2VicGFjazovLy8uL3NvdXJjZS9zcmMvYXBwL2NvbXBvbmVudHMvQXBpcy9EZXRhaWxzL0FwaUNvbnNvbGUvQXBpQ29uc29sZS5qc3giXSwibmFtZXMiOlsiU3dhZ2dlclVJIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3VwZXIiLCJyZXEiLCJ0aGlzIiwicmVxdWVzdEludGVyY2VwdG9yIiwicmVzIiwicmVzcG9uc2VJbnRlcmNlcHRvciIsIm9uQ29tcGxldGUiLCJzeXN0ZW0iLCJTd2FnZ2VyVUlDb21wb25lbnQiLCJjb21wb25lbnREaWRNb3VudCIsInVpIiwic3dhZ2dlclVJQ29uc3RydWN0b3IiLCJzcGVjIiwidXJsIiwiZGVmYXVsdE1vZGVsc0V4cGFuZERlcHRoIiwicHJlc2V0cyIsImFwaXMiLCJkb2NFeHBhbnNpb24iLCJnZXRDb21wb25lbnQiLCJmb3JjZVVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInNwZWNBY3Rpb25zIiwidXBkYXRlU3BlYyIsInVwZGF0ZVVybCIsImRvd25sb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbmRlciIsImRlZmF1bHRQcm9wcyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9uZU9mIiwic3RyaW5nIiwib2JqZWN0IiwibnVtYmVyIiwiZnVuYyIsImFycmF5T2YiLCJkaXNhYmxlQXV0aG9yaXplQW5kSW5mb1BsdWdpbiIsIndyYXBDb21wb25lbnRzIiwiaW5mbyIsImFjY2Vzc1Rva2VuUHJvdmlkZXIiLCJhdXRob3JpemF0aW9uSGVhZGVyIiwiYXBpIiwiY29tcG9uZW50UHJvcHMiLCJ2YWxpZGF0b3JVcmwiLCJwYXR0ZXJuVG9DaGVjayIsImNvbnRleHQiLCJoZWFkZXJzIiwiZW5kc1dpdGgiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJpbmNsdWRlcyIsInNwbGl0VG9rZW5zIiwic3BsaXQiLCJwbHVnaW5zIiwic2hhcGUiLCJpc1JlcXVpcmVkIiwiU2VsZWN0QXBwUGFuZWwiLCJzdWJzY3JpcHRpb25zIiwiaGFuZGxlQ2hhbmdlcyIsInNlbGVjdGVkQXBwbGljYXRpb24iLCJzZWxlY3RlZEtleVR5cGUiLCJGcmFnbWVudCIsIkJveCIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsIkdyaWQiLCJ4cyIsIm1kIiwiVGV4dEZpZWxkIiwiZnVsbFdpZHRoIiwiaWQiLCJzZWxlY3QiLCJsYWJlbCIsImRlZmF1bHRNZXNzYWdlIiwidmFsdWUiLCJuYW1lIiwib25DaGFuZ2UiLCJTZWxlY3RQcm9wcyIsImhlbHBlclRleHQiLCJtYXJnaW4iLCJ2YXJpYW50IiwibWFwIiwic3ViIiwiTWVudUl0ZW0iLCJhcHBsaWNhdGlvbkluZm8iLCJhcHBsaWNhdGlvbklkIiwibWwiLCJBcGlDb25zb2xlIiwic3RhdGUiLCJzaG93VG9rZW4iLCJiaW5kIiwiaGFuZGxlQ2xpY2tTaG93VG9rZW4iLCJ1cGRhdGVTd2FnZ2VyIiwidXBkYXRlQWNjZXNzVG9rZW4iLCJ1cGRhdGVBcHBsaWNhdGlvbiIsImFwaUlEIiwidXNlciIsIkF1dGhNYW5hZ2VyIiwiZ2V0VXNlciIsImFwaURhdGEiLCJlbnZpcm9ubWVudHMiLCJsYWJlbHMiLCJzZWxlY3RlZEVudmlyb25tZW50Iiwic3dhZ2dlciIsImFjY2Vzc1Rva2VuIiwiYXBpQ2xpZW50IiwiQXBpIiwiZ2V0QVBJQnlJZCIsInRoZW4iLCJhcGlSZXNwb25zZSIsIm9iaiIsImVuZHBvaW50VVJMcyIsImVuZHBvaW50IiwiZW52aXJvbm1lbnROYW1lIiwiZ2V0U3dhZ2dlckJ5QVBJSWRBbmRFbnZpcm9ubWVudCIsImdldFN3YWdnZXJCeUFQSUlkQW5kTGFiZWwiLCJnZXRTd2FnZ2VyQnlBUElJZCIsInN3YWdnZXJSZXNwb25zZSIsImdldFN1YnNjcmlwdGlvbnMiLCJzdWJzY3JpcHRpb25zUmVzcG9uc2UiLCJsaXN0IiwiZmlsdGVyIiwiaXRlbSIsInN0YXR1cyIsIkFwcGxpY2F0aW9uIiwiZ2V0IiwiYXBwbGljYXRpb24iLCJnZXRLZXlzIiwiYXBwS2V5cyIsInRva2VuIiwic2V0U3RhdGUiLCJrZXlzIiwiY2F0Y2giLCJlcnJvciIsIm5vdEZvdW5kIiwiZXZlbnQiLCJ0YXJnZXQiLCJwcm9taXNlU3dhZ2dlciIsImNsYXNzZXMiLCJkb3dubG9hZFN3YWdnZXIiLCJkb3dubG9hZExpbmsiLCJlbmNvZGVVUklDb21wb25lbnQiLCJQcm9ncmVzcyIsImlzUHJvdG90eXBlZEFQSSIsImxpZmVDeWNsZVN0YXR1cyIsInRvTG93ZXJDYXNlIiwiVHlwb2dyYXBoeSIsImNsYXNzTmFtZSIsInRpdGxlU3ViIiwiUGFwZXIiLCJwYXBlciIsImNvbnRhaW5lciIsImdyaWQiLCJ1c2VyTm90aWZpY2F0aW9uUGFwZXIiLCJjb21wb25lbnQiLCJJY29uIiwiZ3V0dGVyQm90dG9tIiwiZGlzYWJsZWQiLCJlbnYiLCJ4IiwidHlwZSIsIklucHV0UHJvcHMiLCJlbmRBZG9ybm1lbnQiLCJJbnB1dEFkb3JubWVudCIsInBvc2l0aW9uIiwiSWNvbkJ1dHRvbiIsImVkZ2UiLCJhcmlhLWxhYmVsIiwib25DbGljayIsInN0YXJ0QWRvcm5tZW50IiwiaW5wdXRBZG9ybm1lbnRTdGFydCIsImhyZWYiLCJCdXR0b24iLCJzaXplIiwiYnV0dG9uSWNvbiIsIkFwaUNvbnRleHQiLCJ3aXRoU3R5bGVzIiwidGhlbWUiLCJtYXJnaW5SaWdodCIsIm1pbldpZHRoIiwic3BhY2luZyIsInBhZGRpbmciLCJtYXJnaW5Ub3AiLCJ1bml0IiwibWFyZ2luQm90dG9tIiwicGFkZGluZ1JpZ2h0IiwibWFyZ2luTGVmdCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sIm1hcHBpbmdzIjoiNGVBV2UsTUFBTUEsVUFBa0JDLElBQU1DLFVBQ3pDQyxZQUFZQyxHQUNSQyxNQUFNRCxHQURTLDRCQXlER0UsR0FDMkIsbUJBQWxDQyxLQUFLSCxNQUFNSSxtQkFDWEQsS0FBS0gsTUFBTUksbUJBQW1CRixHQUVsQ0EsR0E3RFEsNkJBZ0VJRyxHQUMyQixtQkFBbkNGLEtBQUtILE1BQU1NLG9CQUNYSCxLQUFLSCxNQUFNTSxvQkFBb0JELEdBRW5DQSxHQXBFUSxvQkF1RU4sS0FDVCxHQUFxQyxtQkFBMUJGLEtBQUtILE1BQU1PLFdBQ2xCLE9BQU9KLEtBQUtILE1BQU1PLFdBQVdKLEtBQUtLLFVBdkV0Q0wsS0FBS00sbUJBQXFCLEtBQzFCTixLQUFLSyxPQUFTLEtBUWxCRSxvQkFDSSxNQUFNQyxFQUFLQyxJQUFxQixDQUM1QkMsS0FBTVYsS0FBS0gsTUFBTWEsS0FDakJDLElBQUtYLEtBQUtILE1BQU1jLElBQ2hCQyx5QkFBMEJaLEtBQUtILE1BQU1lLHlCQUNyQ0MsUUFBUyxDQUFDQSxVQUFRQyxRQUFTZCxLQUFLSCxNQUFNZ0IsU0FDdENaLG1CQUFvQkQsS0FBS0MsbUJBQ3pCRSxvQkFBcUJILEtBQUtHLG9CQUMxQkMsV0FBWUosS0FBS0ksV0FDakJXLGFBQWNmLEtBQUtILE1BQU1rQixlQUc3QmYsS0FBS0ssT0FBU0csRUFDZFIsS0FBS00sbUJBQXFCRSxFQUFHUSxhQUFhLE1BQU8sUUFFakRoQixLQUFLaUIsY0FTVEMsbUJBQW1CQyxHQUNYbkIsS0FBS0gsTUFBTWMsTUFBUVEsRUFBVVIsTUFFN0JYLEtBQUtLLE9BQU9lLFlBQVlDLFdBQVcsSUFFL0JyQixLQUFLSCxNQUFNYyxNQUVYWCxLQUFLSyxPQUFPZSxZQUFZRSxVQUFVdEIsS0FBS0gsTUFBTWMsS0FFN0NYLEtBQUtLLE9BQU9lLFlBQVlHLFNBQVN2QixLQUFLSCxNQUFNYyxPQUloRFgsS0FBS0gsTUFBTWEsT0FBU1MsRUFBVVQsTUFBUVYsS0FBS0gsTUFBTWEsT0FDbEIsaUJBQXBCVixLQUFLSCxNQUFNYSxLQUNsQlYsS0FBS0ssT0FBT2UsWUFBWUMsV0FBV0csS0FBS0MsVUFBVXpCLEtBQUtILE1BQU1hLE9BRTdEVixLQUFLSyxPQUFPZSxZQUFZQyxXQUFXckIsS0FBS0gsTUFBTWEsT0F5QjFEZ0IsU0FDSSxPQUFPMUIsS0FBS00sbUJBQXFCLHVCQUFNQSxtQkFBTixNQUE4QixNQUd2RWIsRUFBVWtDLGFBQWUsQ0FDckJaLGFBQWMsT0FDZEgseUJBQTBCLEVBQzFCQyxRQUFTLElBR2JwQixFQUFVbUMsVUFBWSxDQUNsQmxCLEtBQU1tQixJQUFVQyxNQUFNLENBQUNELElBQVVFLE9BQVFGLElBQVVHLFNBQ25EckIsSUFBS2tCLElBQVVFLE9BQ2ZuQix5QkFBMEJpQixJQUFVSSxPQUNwQ2hDLG1CQUFvQjRCLElBQVVLLEtBQzlCL0Isb0JBQXFCMEIsSUFBVUssS0FDL0I5QixXQUFZeUIsSUFBVUssS0FDdEJuQixhQUFjYyxJQUFVQyxNQUFNLENBQUMsT0FBUSxPQUFRLFNBQy9DakIsUUFBU2dCLElBQVVNLFFBQVFOLElBQVVLLE9DdEd6QyxNQUFNRSxFQUFnQyxXQUNsQyxNQUFPLENBQ0hDLGVBQWdCLENBQ1pDLEtBQU0sSUFBTSxJQUFNLFFBU3hCN0MsRUFBYUksSUFDZixNQUFNLEtBQUVhLEVBQUYsb0JBQVE2QixFQUFSLG9CQUE2QkMsRUFBN0IsSUFBa0RDLEdBQVE1QyxFQUUxRDZDLEVBQWlCLENBQ25CaEMsT0FDQWlDLGFBQWMsS0FDZDVCLGFBQWMsT0FDZEgseUJBQTBCLEVBQzFCWCxtQkFBcUJGLElBQ2pCLE1BQU0sSUFBRVksR0FBUVosRUFDVjZDLEVBQWlCSCxFQUFJSSxRQUFVLEtBRXJDLEdBREE5QyxFQUFJK0MsUUFBUU4sR0FBdUIsVUFBWUQsSUFDM0M1QixFQUFJb0MsU0FBU0gsR0FDYjdDLEVBQUlZLElBQU1BLEVBQUlxQyxVQUFVLEVBQUdyQyxFQUFJc0MsT0FBUyxRQUNyQyxHQUFJdEMsRUFBSXVDLFNBQVNOLEVBQWlCLEtBQU0sQ0FDM0MsTUFBTU8sRUFBY3hDLEVBQUl5QyxNQUFNLE9BQzlCckQsRUFBSVksSUFBTXdDLEVBQVlGLE9BQVMsRUFBSUUsRUFBWSxHQUFLLElBQU1BLEVBQVksR0FBS0EsRUFBWSxHQUUzRixPQUFPcEQsR0FHWGMsUUFBUyxDQUFDdUIsR0FDVmlCLFFBQVMsTUFFYixPQUFPLGtCQUFDLEVBQWlCWCxJQUc3QmpELEVBQVVtQyxVQUFZLENBQ2xCbEIsS0FBTW1CLElBQVV5QixNQUFNLElBQUlDLFlBR2Y5RCxRLFVDcUNBK0QsTUE5RVMzRCxJQUNwQixNQUFNLGNBQ0Y0RCxFQURFLGNBQ2FDLEVBRGIsb0JBQzRCQyxFQUQ1QixnQkFDaURDLEdBQ25EL0QsRUFDSixPQUNJLGtCQUFDLElBQU1nRSxTQUFQLEtBQ0ksa0JBQUNDLEVBQUEsRUFBRCxDQUFLQyxRQUFRLE9BQU9DLGVBQWUsVUFFL0Isa0JBQUNDLEVBQUEsRUFBRCxDQUFNQyxHQUFJLEdBQUlDLEdBQUksR0FDZCxrQkFBQ0wsRUFBQSxFQUFELEtBQ0ksa0JBQUNNLEVBQUEsRUFBRCxDQUNJQyxXQUFTLEVBQ1RDLEdBQUcsMkJBQ0hDLFFBQU0sRUFDTkMsTUFBTyxrQkFBQyxJQUFELENBQ0hDLGVBQWUsZ0JBQ2ZILEdBQUcsd0RBRVBJLE1BQU9mLEVBQ1BnQixLQUFLLHNCQUNMQyxTQUFVbEIsRUFDVm1CLFlBQWFwQixFQUNicUIsV0FBWSxrQkFBQyxJQUFELENBQ1JMLGVBQWUsZ0NBQ2ZILEdBQUcsaUVBRVBTLE9BQU8sU0FDUEMsUUFBUSxZQUVQdkIsRUFBY3dCLElBQUlDLEdBQ2Ysa0JBQUNDLEVBQUEsRUFBRCxDQUFVVCxNQUFPUSxFQUFJRSxnQkFBZ0JDLGVBQ2hDSCxFQUFJRSxnQkFBZ0JULFVBTXpDLGtCQUFDVixFQUFBLEVBQUQsQ0FBTUMsR0FBSSxHQUFJQyxHQUFJLEdBQ2Qsa0JBQUNMLEVBQUEsRUFBRCxDQUFLd0IsR0FBSSxHQUNMLGtCQUFDbEIsRUFBQSxFQUFELENBQ0lDLFdBQVMsRUFDVEMsR0FBRywyQkFDSEMsUUFBTSxFQUNOQyxNQUFPLGtCQUFDLElBQUQsQ0FDSEMsZUFBZSxXQUNmSCxHQUFHLG9EQUVQSSxNQUFPZCxFQUNQZSxLQUFLLGtCQUNMQyxTQUFVbEIsRUFDVm9CLFdBQVksa0JBQUMsSUFBRCxDQUNSTCxlQUFlLDRCQUNmSCxHQUFHLDJEQUVQUyxPQUFPLFNBQ1BDLFFBQVEsWUFFUixrQkFBQ0csRUFBQSxFQUFELENBQVVULE1BQU0sY0FDWixrQkFBQyxJQUFELENBQ0lKLEdBQUcsb0RBQ0hHLGVBQWUsZ0JBR3ZCLGtCQUFDVSxFQUFBLEVBQUQsQ0FBVVQsTUFBTSxXQUNaLGtCQUFDLElBQUQsQ0FDSUosR0FBRyxpREFDSEcsZUFBZSxtQixzVkNHbkQsTUFBTWMsVUFBbUI3RixJQUFNQyxVQVEzQkMsWUFBWUMsR0FDUkMsTUFBTUQsR0FDTkcsS0FBS3dGLE1BQVEsQ0FBRUMsV0FBVyxHQUMxQnpGLEtBQUswRCxjQUFnQjFELEtBQUswRCxjQUFjZ0MsS0FBSzFGLE1BQzdDQSxLQUFLdUMsb0JBQXNCdkMsS0FBS3VDLG9CQUFvQm1ELEtBQUsxRixNQUN6REEsS0FBSzJGLHFCQUF1QjNGLEtBQUsyRixxQkFBcUJELEtBQUsxRixNQUMzREEsS0FBSzRGLGNBQWdCNUYsS0FBSzRGLGNBQWNGLEtBQUsxRixNQUM3Q0EsS0FBSzZGLGtCQUFvQjdGLEtBQUs2RixrQkFBa0JILEtBQUsxRixNQUNyREEsS0FBSzhGLGtCQUFvQjlGLEtBQUs4RixrQkFBa0JKLEtBQUsxRixNQU16RE8sb0JBQ0ksTUFBTSxJQUFFa0MsR0FBUXpDLEtBQUs2QyxRQUNma0QsRUFBUXRELEVBQUk2QixHQUNaMEIsRUFBT0MsSUFBWUMsVUFDekIsSUFBSUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQTlDLEVBQ0FFLEVBR0E2QyxFQURBNUMsRUFBa0IsYUFHdEI1RCxLQUFLeUcsVUFBWSxJQUFJQyxJQUdGMUcsS0FBS3lHLFVBQVVFLFdBQVdaLEdBR3hDYSxLQUFNQyxLQUNIVixFQUFVVSxFQUFZQyxLQUNWQyxlQUNSWCxFQUFlRCxFQUFRWSxhQUFhOUIsSUFBSytCLEdBQXNCQSxFQUFTQyxrQkFFeEVkLEVBQVFFLFNBQ1JBLEVBQVNGLEVBQVFFLE9BQU9wQixJQUFLVCxHQUFtQkEsRUFBTUcsT0FFdER5QixHQUFnQkEsRUFBYW5ELE9BQVMsSUFDckNxRCxHQUF1QkYsRUFDakJwRyxLQUFLeUcsVUFBVVMsZ0NBQWdDbkIsRUFBT08sSUFDdERELEdBQVVBLEVBQU9wRCxPQUFTLElBQ2hDcUQsR0FBdUJELEVBQ2pCckcsS0FBS3lHLFVBQVVVLDBCQUEwQnBCLEVBQU9PLElBRWhEdEcsS0FBS3lHLFVBQVVXLGtCQUFrQnJCLEtBRy9DYSxLQUFNUyxJQUNIZCxFQUFVYyxFQUFnQlAsSUFDZCxNQUFSZCxFQUNPaEcsS0FBS3lHLFVBQVVhLGlCQUFpQnZCLEdBRWhDLE9BR2RhLEtBQU1XLElBQ0gsR0FBNkIsTUFBekJBLEVBR0EsSUFGQTlELEVBQWdCOEQsRUFBc0JULElBQUlVLEtBQUtDLE9BQU9DLEdBQXdCLGNBQWhCQSxFQUFLQyxVQUU5Q2xFLEVBQWNSLE9BQVMsRUFBRyxDQUMzQ1UsRUFBc0JGLEVBQWMsR0FBRzRCLGNBQ3BCdUMsSUFBWUMsSUFBSWxFLEdBRzlCaUQsS0FBTWtCLEdBQ0lBLEVBQVlDLFdBRXRCbkIsS0FBTW9CLElBQ0NBLEVBQVFILElBQUksWUFDWmpFLEVBQWtCLFlBQ2Y0QyxlQUFnQndCLEVBQVFILElBQUksV0FBV0ksUUFDbkNELEVBQVFILElBQUksZ0JBQ25CakUsRUFBa0IsZUFDZjRDLGVBQWdCd0IsRUFBUUgsSUFBSSxjQUFjSSxRQUdqRGpJLEtBQUtrSSxTQUFTLENBQ1Z6RixJQUFLMEQsRUFDTEksVUFDQTlDLGdCQUNBMkMsZUFDQUMsU0FDQUMsc0JBQ0EzQyxzQkFDQXdFLEtBQU1ILEVBQ05wRSxrQkFDQTRDLHVCQUlaeEcsS0FBS2tJLFNBQVMsQ0FDVnpGLElBQUswRCxFQUNMSSxVQUNBOUMsZ0JBQ0EyQyxlQUNBQyxTQUNBQyxzQkFDQTNDLHNCQUNBd0UsVUEvRWhCQSxFQWdGZ0J2RSxrQkFDQTRDLHFCQUlSeEcsS0FBS2tJLFNBQVMsQ0FDVnpGLElBQUswRCxFQUNMSSxVQUNBOUMsZ0JBQ0EyQyxlQUNBQyxTQUNBQyxzQkFDQTNDLHNCQUNBd0UsVUE3RlpBLEVBOEZZdkUsa0JBQ0E0QyxrQkFJWDRCLE1BQU9DLElBSUosTUFBTSxPQUFFVixHQUFXVSxFQUNKLE1BQVhWLEdBQ0EzSCxLQUFLa0ksU0FBUyxDQUFFSSxVQUFVLE1BVTFDM0MsdUJBQ0ksTUFBTSxVQUFFRixHQUFjekYsS0FBS3dGLE1BQzNCeEYsS0FBS2tJLFNBQVMsQ0FBRXpDLFdBQVlBLElBU2hDbEQsc0JBQ0ksTUFBTSxZQUFFaUUsR0FBZ0J4RyxLQUFLd0YsTUFDN0IsT0FBT2dCLEVBUVg5QyxjQUFjNkUsR0FDVixNQUFNLE9BQUVDLEdBQVdELEdBQ2IsS0FBRTVELEVBQUYsTUFBUUQsR0FBVThELEVBQ3hCLE9BQVE3RCxHQUNKLElBQUssc0JBQ0QzRSxLQUFLa0ksU0FBUyxDQUFFLENBQUN2RCxHQUFPRCxHQUFTMUUsS0FBSzRGLGVBQ3RDLE1BQ0osSUFBSyxzQkFDRDVGLEtBQUtrSSxTQUFTLENBQUUsQ0FBQ3ZELEdBQU9ELEdBQVMxRSxLQUFLOEYsbUJBQ3RDLE1BQ0osSUFBSyxrQkFDRDlGLEtBQUtrSSxTQUFTLENBQUUsQ0FBQ3ZELEdBQU9ELEdBQVMxRSxLQUFLNkYsbUJBQ3RDLE1BQ0osUUFDSTdGLEtBQUtrSSxTQUFTLENBQUUsQ0FBQ3ZELEdBQU9ELEtBUXBDa0IsZ0JBQ0ksTUFBTSxvQkFDRlUsRUFERSxJQUNtQjdELEVBRG5CLGFBQ3dCMkQsR0FDMUJwRyxLQUFLd0YsTUFDVCxJQUFJaUQsR0FJSUEsRUFGSm5DLEVBQ0lGLEVBQWFsRCxTQUFTb0QsR0FDTHRHLEtBQUt5RyxVQUFVUyxnQ0FBZ0N6RSxFQUFJNkIsR0FBSWdDLEdBRXZEdEcsS0FBS3lHLFVBQVVVLDBCQUEwQjFFLEVBQUk2QixHQUFJZ0MsR0FHckR0RyxLQUFLeUcsVUFBVVcsa0JBQWtCM0UsRUFBSTZCLEtBRTNDc0MsS0FBTVMsSUFDakJySCxLQUFLa0ksU0FBUyxDQUFFM0IsUUFBU2MsRUFBZ0JQLFFBUWpEakIsb0JBQ0ksTUFBTSxLQUFFc0MsRUFBRixnQkFBUXZFLEdBQW9CNUQsS0FBS3dGLE1BQ3ZDLElBQUlnQixFQUVBMkIsRUFBS04sSUFBSWpFLE1BQ040QyxlQUFnQjJCLEVBQUtOLElBQUlqRSxHQUFpQnFFLE9BRWpEakksS0FBS2tJLFNBQVMsQ0FBRTFCLGdCQU9wQlYsb0JBQ0ksTUFBTSxvQkFBRW5DLEVBQUYsZ0JBQXVCQyxHQUFvQjVELEtBQUt3RixNQUV0RCxJQUFJZ0IsRUFEZW9CLElBQVlDLElBQUlsRSxHQUk5QmlELEtBQU1rQixHQUNJQSxFQUFZQyxXQUV0Qm5CLEtBQU1vQixJQUNDQSxFQUFRSCxJQUFJakUsTUFDVDRDLGVBQWdCd0IsRUFBUUgsSUFBSWpFLEdBQWlCcUUsT0FFcERqSSxLQUFLa0ksU0FBUyxDQUFFMUIsY0FBYTJCLEtBQU1ILE1BUS9DdEcsU0FDSSxNQUFNLFFBQUVnSCxHQUFZMUksS0FBS0gsT0FDbkIsSUFDRjRDLEVBREUsU0FDRzZGLEVBREgsUUFDYS9CLEVBRGIsWUFDc0JDLEVBRHRCLFVBQ21DZixFQURuQyxjQUM4Q2hDLEVBRDlDLG9CQUM2REUsRUFEN0QsZ0JBQ2tGQyxFQURsRixvQkFFRjBDLEVBRkUsYUFFbUJGLEVBRm5CLE9BRWlDQyxHQUNuQ3JHLEtBQUt3RixNQUNIUSxFQUFPQyxJQUFZQyxVQUduQnlDLEVBQWtCbkgsS0FBS0MsVSwrVUFBTCxJQUFvQjhFLElBQ3RDcUMsRUFBZSxpQ0FBbUNDLG1CQUFtQkYsR0FHM0UsR0FBVyxNQUFQbEcsR0FBMEIsTUFBWDhELEVBQ2YsT0FBTyxrQkFBQ3VDLEVBQUEsRUFBRCxNQUVYLEdBQUlSLEVBQ0EsTUFBTyxrQkFHWCxNQUFNOUYsRUFBc0JDLEVBQUlELG9CQUFzQkMsRUFBSUQsb0JBQXNCLGdCQUMxRXVHLEVBQWtCdEcsRUFBSXVHLGlCQUF5RCxlQUF0Q3ZHLEVBQUl1RyxnQkFBZ0JDLGNBRW5FLE9BQ0ksa0JBQUMsSUFBTXBGLFNBQVAsS0FDSSxrQkFBQ3FGLEVBQUEsRUFBRCxDQUFZbEUsUUFBUSxLQUFLbUUsVUFBV1QsRUFBUVUsVUFDeEMsa0JBQUMsSUFBRCxDQUFrQjlFLEdBQUcsMkNBQTJDRyxlQUFlLGFBRW5GLGtCQUFDNEUsRUFBQSxFQUFELENBQU9GLFVBQVdULEVBQVFZLE9BQ3RCLGtCQUFDckYsRUFBQSxFQUFELENBQU1zRixXQUFTLEVBQUNKLFVBQVdULEVBQVFjLE9BQzdCVCxJQUFvQi9DLEdBQ2xCLGtCQUFDL0IsRUFBQSxFQUFELENBQU15RCxNQUFJLEVBQUN2RCxHQUFJLEdBQ1gsa0JBQUNrRixFQUFBLEVBQUQsQ0FBT0YsVUFBV1QsRUFBUWUsdUJBQ3RCLGtCQUFDUCxFQUFBLEVBQUQsQ0FBWWxFLFFBQVEsS0FBSzBFLFVBQVUsTUFDL0Isa0JBQUNDLEVBQUEsRUFBRCxnQkFDQyxJQUNELGtCQUFDLElBQUQsQ0FBa0JyRixHQUFHLFNBQVNHLGVBQWUsWUFFakQsa0JBQUN5RSxFQUFBLEVBQUQsQ0FBWVEsVUFBVSxLQUNsQixrQkFBQyxJQUFELENBQ0lwRixHQUFHLG1DQUNIRyxlQUFnQixtTEFRbENzRSxHQUNGLGtCQUFDOUUsRUFBQSxFQUFELENBQU1DLEdBQUksR0FBSUMsR0FBSSxJQUNkLGtCQUFDTCxFQUFBLEVBQUQsQ0FBS0MsUUFBUSxTQUNSaUMsR0FBUXZDLEdBQWlCQSxFQUFjUixPQUFTLEdBQzdDLGtCQUFDLEVBQUQsQ0FDSVEsY0FBZUEsRUFDZkMsY0FBZTFELEtBQUswRCxjQUNwQkMsb0JBQXFCQSxFQUNyQkMsZ0JBQWlCQSxFQUNqQjBDLG9CQUFxQkEsRUFDckJGLGFBQWNBLElBR3JCM0MsR0FBMEMsSUFBekJBLEVBQWNSLFFBQzVCLGtCQUFDYSxFQUFBLEVBQUQsQ0FBS0MsUUFBUSxPQUFPQyxlQUFlLFVBQy9CLGtCQUFDa0YsRUFBQSxFQUFELENBQVlsRSxRQUFRLFFBQVE0RSxjQUFZLEdBQ3BDLGtCQUFDLElBQUQsQ0FDSXRGLEdBQUcscUVBQ0hHLGVBQWUseUNBTS9CLGtCQUFDWCxFQUFBLEVBQUQsQ0FBS0MsUUFBUSxPQUFPQyxlQUFlLFVBQy9CLGtCQUFDQyxFQUFBLEVBQUQsQ0FBTUMsR0FBSSxHQUFJQyxHQUFJLElBQ1hpQyxHQUFnQkEsRUFBYW5ELE9BQVMsR0FBT29ELEdBQVVBLEVBQU9wRCxPQUFTLElBRXRFLGtCQUFDbUIsRUFBQSxFQUFELENBQ0lDLFdBQVMsRUFDVEUsUUFBTSxFQUNOQyxNQUFPLGtCQUFDLElBQUQsQ0FDSEMsZUFBZSxjQUNmSCxHQUFHLHdDQUVQSSxNQUFPNEIsRUFDUDNCLEtBQUssc0JBQ0xDLFNBQVU1RSxLQUFLMEQsY0FDZm1CLFlBQWF1QixFQUNidEIsV0FBWSxrQkFBQyxJQUFELENBQ1JMLGVBQWUsK0JBQ2ZILEdBQUcsaUVBRVBTLE9BQU8sU0FDUEMsUUFBUSxZQUVQb0IsR0FBZ0JBLEVBQWFuRCxPQUFTLEdBQ25DLGtCQUFDa0MsRUFBQSxFQUFELENBQVVULE1BQU0sR0FBR21GLFVBQVEsR0FDdkIsNEJBQ0ksa0JBQUMsSUFBRCxDQUNJdkYsR0FBRyxlQUNIRyxlQUFlLG1CQUs5QjJCLEdBQ0dBLEVBQWFuQixJQUFJNkUsR0FDYixrQkFBQzNFLEVBQUEsRUFBRCxDQUFVVCxNQUFPb0YsR0FDWkEsSUFHWnpELEdBQVVBLEVBQU9wRCxPQUFTLEdBQ3ZCLGtCQUFDa0MsRUFBQSxFQUFELENBQVVULE1BQU0sR0FBR21GLFVBQVEsR0FDdkIsNEJBQ0ksa0JBQUMsSUFBRCxDQUNJdkYsR0FBRyxpQkFDSEcsZUFBZSxvQkFLOUI0QixHQUNHQSxFQUFPcEIsSUFBSVQsR0FDUCxrQkFBQ1csRUFBQSxFQUFELENBQVVULE1BQU9GLEdBQ1pBLE9BUTdCLGtCQUFDVixFQUFBLEVBQUQsQ0FBS0MsUUFBUSxPQUFPQyxlQUFlLFVBQy9CLGtCQUFDQyxFQUFBLEVBQUQsQ0FBTThGLEVBQUcsR0FBSTVGLEdBQUksR0FDYixrQkFBQ0MsRUFBQSxFQUFELENBQ0lDLFdBQVMsRUFDVFUsT0FBTyxTQUNQQyxRQUFRLFdBQ1JSLE1BQU8sa0JBQUMsSUFBRCxDQUFrQkYsR0FBRyxlQUFlRyxlQUFlLGlCQUMxREUsS0FBSyxjQUNMQyxTQUFVNUUsS0FBSzBELGNBQ2ZzRyxLQUFNdkUsRUFBWSxPQUFTLFdBQzNCZixNQUFPOEIsR0FBZSxHQUN0QjFCLFdBQ0ksa0JBQUMsSUFBRCxDQUNJUixHQUFHLHFCQUNIRyxlQUFlLHVCQUV2QndGLFdBQVksQ0FDUkMsYUFDSSxrQkFBQ0MsRUFBQSxFQUFELENBQWdCQyxTQUFTLE9BQ3JCLGtCQUFDQyxFQUFBLEVBQUQsQ0FDSUMsS0FBSyxNQUNMQyxhQUFXLDBCQUNYQyxRQUFTeEssS0FBSzJGLHNCQUViRixFQUFZLGtCQUFDa0UsRUFBQSxFQUFELHVCQUNQLGtCQUFDQSxFQUFBLEVBQUQscUJBSWxCYyxlQUNJLGtCQUFDTixFQUFBLEVBQUQsQ0FDSWhCLFVBQVdULEVBQVFnQyxvQkFDbkJOLFNBQVMsWUFFTDVILG9CQVdwQyxrQkFBQ3lCLEVBQUEsRUFBRCxDQUFNQyxHQUFJLEdBQUlxRixXQUFTLEdBQ25CLGtCQUFDdEYsRUFBQSxFQUFELENBQU1DLEdBQUksS0FDVixrQkFBQ0QsRUFBQSxFQUFELENBQU1DLEdBQUksR0FDTix1QkFBR3lHLEtBQU0vQixFQUFjckgsU0F6SzlCLGdCQTBLVyxrQkFBQ3FKLEVBQUEsRUFBRCxDQUFRQyxLQUFLLFNBQ1Qsa0JBQUMsSUFBRCxDQUFzQjFCLFVBQVdULEVBQVFvQyxhQUN6QyxrQkFBQyxJQUFELENBQ0l4RyxHQUFHLHNEQUNIRyxlQUFlLG9DQVEzQyxrQkFBQzRFLEVBQUEsRUFBRCxDQUFPRixVQUFXVCxFQUFRWSxPQUN0QixrQkFBQyxFQUFELENBQ0k3RyxJQUFLekMsS0FBS3dGLE1BQU0vQyxJQUNoQkYsb0JBQXFCdkMsS0FBS3VDLG9CQUMxQjdCLEtBQU02RixFQUNOL0Qsb0JBQXFCQSxPLEVBaGN2QytDLEUsY0FDbUJ3RixLQXVjekJ4RixFQUFXNUQsYUFBZSxHQUkxQjRELEVBQVczRCxVQUFZLENBRW5COEcsUUFBUzdHLElBQVV5QixNQUFNLElBQUlDLFlBR2xCeUgsc0JBamZBQyxJQUFTLENBQ3BCSCxXQUFZLENBQ1JJLFlBQWEsSUFFakJSLG9CQUFxQixDQUNqQlMsU0FBVUYsRUFBTUcsUUFBUSxLQUU1QjlCLE1BQU8sQ0FDSHZFLE9BQVFrRyxFQUFNRyxRQUFRLEdBQ3RCQyxRQUFTSixFQUFNRyxRQUFRLElBRTNCNUIsS0FBTSxDQUNGOEIsVUFBZ0MsRUFBckJMLEVBQU1HLFFBQVFHLEtBQ3pCQyxhQUFtQyxFQUFyQlAsRUFBTUcsUUFBUUcsS0FDNUJFLGFBQW1DLEVBQXJCUixFQUFNRyxRQUFRRyxLQUM1QnZILGVBQWdCLFVBRXBCeUYsc0JBQXVCLENBQ25CNEIsUUFBOEIsRUFBckJKLEVBQU1HLFFBQVFHLE1BRTNCbkMsU0FBVSxDQUNOc0MsV0FBWVQsRUFBTUcsUUFBUSxHQUMxQk8sV0FBWVYsRUFBTUcsUUFBUSxHQUMxQlEsY0FBZVgsRUFBTUcsUUFBUSxNQTBkdEJKLENBQW1CekYiLCJmaWxlIjoiQXBpQ29uc29sZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBzd2FnZ2VyVUlDb25zdHJ1Y3RvciwgeyBwcmVzZXRzIH0gZnJvbSAnc3dhZ2dlci11aSc7XG5cbi8qKlxuICpcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgU3dhZ2dlclVJXG4gKiBAZXh0ZW5kcyB7UmVhY3QuQ29tcG9uZW50fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTd2FnZ2VyVUkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5Td2FnZ2VyVUlDb21wb25lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnN5c3RlbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBTd2FnZ2VyVUlcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgdWkgPSBzd2FnZ2VyVUlDb25zdHJ1Y3Rvcih7XG4gICAgICAgICAgICBzcGVjOiB0aGlzLnByb3BzLnNwZWMsXG4gICAgICAgICAgICB1cmw6IHRoaXMucHJvcHMudXJsLFxuICAgICAgICAgICAgZGVmYXVsdE1vZGVsc0V4cGFuZERlcHRoOiB0aGlzLnByb3BzLmRlZmF1bHRNb2RlbHNFeHBhbmREZXB0aCxcbiAgICAgICAgICAgIHByZXNldHM6IFtwcmVzZXRzLmFwaXMsIC4uLnRoaXMucHJvcHMucHJlc2V0c10sXG4gICAgICAgICAgICByZXF1ZXN0SW50ZXJjZXB0b3I6IHRoaXMucmVxdWVzdEludGVyY2VwdG9yLFxuICAgICAgICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvcjogdGhpcy5yZXNwb25zZUludGVyY2VwdG9yLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogdGhpcy5vbkNvbXBsZXRlLFxuICAgICAgICAgICAgZG9jRXhwYW5zaW9uOiB0aGlzLnByb3BzLmRvY0V4cGFuc2lvbixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zeXN0ZW0gPSB1aTtcbiAgICAgICAgdGhpcy5Td2FnZ2VyVUlDb21wb25lbnQgPSB1aS5nZXRDb21wb25lbnQoJ0FwcCcsICdyb290Jyk7XG5cbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHByZXZQcm9wc1xuICAgICAqIEBtZW1iZXJvZiBTd2FnZ2VyVUlcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnVybCAhPT0gcHJldlByb3BzLnVybCkge1xuICAgICAgICAgICAgLy8gZmx1c2ggY3VycmVudCBjb250ZW50XG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5zcGVjQWN0aW9ucy51cGRhdGVTcGVjKCcnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpbnRlcm5hbCBVUkxcbiAgICAgICAgICAgICAgICB0aGlzLnN5c3RlbS5zcGVjQWN0aW9ucy51cGRhdGVVcmwodGhpcy5wcm9wcy51cmwpO1xuICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgcmVtb3RlIGRlZmluaXRpb24gZmV0Y2hcbiAgICAgICAgICAgICAgICB0aGlzLnN5c3RlbS5zcGVjQWN0aW9ucy5kb3dubG9hZCh0aGlzLnByb3BzLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zcGVjICE9PSBwcmV2UHJvcHMuc3BlYyAmJiB0aGlzLnByb3BzLnNwZWMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5zcGVjID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtLnNwZWNBY3Rpb25zLnVwZGF0ZVNwZWMoSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcy5zcGVjKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtLnNwZWNBY3Rpb25zLnVwZGF0ZVNwZWModGhpcy5wcm9wcy5zcGVjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcXVlc3RJbnRlcmNlcHRvciA9IChyZXEpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnJlcXVlc3RJbnRlcmNlcHRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMucmVxdWVzdEludGVyY2VwdG9yKHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcTtcbiAgICB9O1xuXG4gICAgcmVzcG9uc2VJbnRlcmNlcHRvciA9IChyZXMpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnJlc3BvbnNlSW50ZXJjZXB0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnJlc3BvbnNlSW50ZXJjZXB0b3IocmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICBvbkNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25Db21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMub25Db21wbGV0ZSh0aGlzLnN5c3RlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Td2FnZ2VyVUlDb21wb25lbnQgPyA8dGhpcy5Td2FnZ2VyVUlDb21wb25lbnQgLz4gOiBudWxsO1xuICAgIH1cbn1cblN3YWdnZXJVSS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZG9jRXhwYW5zaW9uOiAnbGlzdCcsXG4gICAgZGVmYXVsdE1vZGVsc0V4cGFuZERlcHRoOiAxLFxuICAgIHByZXNldHM6IFtdLFxufTtcblxuU3dhZ2dlclVJLnByb3BUeXBlcyA9IHtcbiAgICBzcGVjOiBQcm9wVHlwZXMub25lT2YoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICB1cmw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGVmYXVsdE1vZGVsc0V4cGFuZERlcHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHJlcXVlc3RJbnRlcmNlcHRvcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgcmVzcG9uc2VJbnRlcmNlcHRvcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Db21wbGV0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZG9jRXhwYW5zaW9uOiBQcm9wVHlwZXMub25lT2YoWydsaXN0JywgJ2Z1bGwnLCAnbm9uZSddKSxcbiAgICBwcmVzZXRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZnVuYyksXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgJ3N3YWdnZXItdWkvZGlzdC9zd2FnZ2VyLXVpLmNzcyc7XG5pbXBvcnQgU3dhZ2dlclVJTGliIGZyb20gJy4vUGF0Y2hlZFN3YWdnZXJVSVJlYWN0JztcblxuY29uc3QgZGlzYWJsZUF1dGhvcml6ZUFuZEluZm9QbHVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd3JhcENvbXBvbmVudHM6IHtcbiAgICAgICAgICAgIGluZm86ICgpID0+ICgpID0+IG51bGwsXG4gICAgICAgIH0sXG4gICAgfTtcbn07XG4vKipcbiAqXG4gKiBAY2xhc3MgU3dhZ2dlclVJXG4gKiBAZXh0ZW5kcyB7Q29tcG9uZW50fVxuICovXG5jb25zdCBTd2FnZ2VyVUkgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHNwZWMsIGFjY2Vzc1Rva2VuUHJvdmlkZXIsIGF1dGhvcml6YXRpb25IZWFkZXIsIGFwaSB9ID0gcHJvcHM7XG5cbiAgICBjb25zdCBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgc3BlYyxcbiAgICAgICAgdmFsaWRhdG9yVXJsOiBudWxsLFxuICAgICAgICBkb2NFeHBhbnNpb246ICdsaXN0JyxcbiAgICAgICAgZGVmYXVsdE1vZGVsc0V4cGFuZERlcHRoOiAwLFxuICAgICAgICByZXF1ZXN0SW50ZXJjZXB0b3I6IChyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXJsIH0gPSByZXE7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuVG9DaGVjayA9IGFwaS5jb250ZXh0ICsgJy8qJztcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzW2F1dGhvcml6YXRpb25IZWFkZXJdID0gJ0JlYXJlciAnICsgYWNjZXNzVG9rZW5Qcm92aWRlcigpO1xuICAgICAgICAgICAgaWYgKHVybC5lbmRzV2l0aChwYXR0ZXJuVG9DaGVjaykpIHtcbiAgICAgICAgICAgICAgICByZXEudXJsID0gdXJsLnN1YnN0cmluZygwLCB1cmwubGVuZ3RoIC0gMik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHVybC5pbmNsdWRlcyhwYXR0ZXJuVG9DaGVjayArICc/JykpIHsgLy8gQ2hlY2sgZm9yIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRUb2tlbnMgPSB1cmwuc3BsaXQoJy8qPycpO1xuICAgICAgICAgICAgICAgIHJlcS51cmwgPSBzcGxpdFRva2Vucy5sZW5ndGggPiAxID8gc3BsaXRUb2tlbnNbMF0gKyAnPycgKyBzcGxpdFRva2Vuc1sxXSA6IHNwbGl0VG9rZW5zWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcTtcbiAgICAgICAgfSxcblxuICAgICAgICBwcmVzZXRzOiBbZGlzYWJsZUF1dGhvcml6ZUFuZEluZm9QbHVnaW5dLFxuICAgICAgICBwbHVnaW5zOiBudWxsLFxuICAgIH07XG4gICAgcmV0dXJuIDxTd2FnZ2VyVUlMaWIgey4uLmNvbXBvbmVudFByb3BzfSAvPjtcbn07XG5cblN3YWdnZXJVSS5wcm9wVHlwZXMgPSB7XG4gICAgc3BlYzogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgU3dhZ2dlclVJO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xuaW1wb3J0IE1lbnVJdGVtIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtJztcbmltcG9ydCBCb3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQm94JztcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcblxuY29uc3QgU2VsZWN0QXBwUGFuZWwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMsIGhhbmRsZUNoYW5nZXMsIHNlbGVjdGVkQXBwbGljYXRpb24sIHNlbGVjdGVkS2V5VHlwZSxcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPEJveCBkaXNwbGF5PSdmbGV4JyBqdXN0aWZ5Q29udGVudD0nY2VudGVyJz5cblxuICAgICAgICAgICAgICAgIDxHcmlkIHhzPXsxMn0gbWQ9ezN9ID5cbiAgICAgICAgICAgICAgICAgICAgPEJveCA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J291dGxpbmVkLXNlbGVjdC1jdXJyZW5jeSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17PEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0FwcHBsaWNhdGlvbnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQXBpQ29uc29sZS5TZWxlY3RBcHBQYW5lbC5hcHBsaWNhdGlvbnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkQXBwbGljYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0nc2VsZWN0ZWRBcHBsaWNhdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3RQcm9wcz17c3Vic2NyaXB0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXJUZXh0PXs8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nUGxlYXNlIHNlbGVjdCBhbiBhcHBsaWNhdGlvbnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQXBpQ29uc29sZS5TZWxlY3RBcHBQYW5lbC5zZWxlY3QuYW4uYXBwbGljYXRpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPSdub3JtYWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YnNjcmlwdGlvbnMubWFwKHN1YiA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT17c3ViLmFwcGxpY2F0aW9uSW5mby5hcHBsaWNhdGlvbklkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWIuYXBwbGljYXRpb25JbmZvLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1RleHRGaWVsZD5cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgIDxHcmlkIHhzPXsxMn0gbWQ9ezN9ID5cbiAgICAgICAgICAgICAgICAgICAgPEJveCBtbD17Mn0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J291dGxpbmVkLXNlbGVjdC1jdXJyZW5jeSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17PEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0tleSBUeXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nQXBpcy5EZXRhaWxzLkFwaUNvbnNvbGUuU2VsZWN0QXBwUGFuZWwua2V5LnR5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkS2V5VHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSdzZWxlY3RlZEtleVR5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyVGV4dD17PEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1BsZWFzZSBzZWxlY3QgYW4ga2V5IHR5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQXBpQ29uc29sZS5TZWxlY3RBcHBQYW5lbC5zZWxlY3Qua2V5LnR5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPSdub3JtYWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHZhbHVlPSdQUk9EVUNUSU9OJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQXBpQ29uc29sZS5TZWxlY3RBcHBQYW5lbC5wcm9kdWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1BST0RVQ1RJT04nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9J1NBTkRCT1gnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5BcGlDb25zb2xlLlNlbGVjdEFwcFBhbmVsLnNhbmRib3gnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nU0FOREJPWCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UZXh0RmllbGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgIDwvQm94PlxuXG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdEFwcFBhbmVsO1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOSwgV1NPMiBJbmMuIChodHRwOi8vd3d3LndzbzIub3JnKSBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFdTTzIgSW5jLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSxcbiAqIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdFxuICogaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcbmltcG9ydCBJbnB1dEFkb3JubWVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JbnB1dEFkb3JubWVudCc7XG5pbXBvcnQgSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uJztcbmltcG9ydCBBdXRoTWFuYWdlciBmcm9tICdBcHBEYXRhL0F1dGhNYW5hZ2VyJztcbmltcG9ydCBQYXBlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9QYXBlcic7XG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTWVudUl0ZW0nO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IENsb3VkRG93bmxvYWRSb3VuZGVkIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG91ZERvd25sb2FkUm91bmRlZCc7XG5pbXBvcnQgQm94IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0JveCc7XG5pbXBvcnQgeyBBcGlDb250ZXh0IH0gZnJvbSAnLi4vQXBpQ29udGV4dCc7XG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi4vLi4vLi4vU2hhcmVkL1Byb2dyZXNzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vLi4vLi4vLi4vZGF0YS9hcGknO1xuaW1wb3J0IFN3YWdnZXJVSSBmcm9tICcuL1N3YWdnZXJVSSc7XG5pbXBvcnQgQXBwbGljYXRpb24gZnJvbSAnLi4vLi4vLi4vLi4vZGF0YS9BcHBsaWNhdGlvbic7XG5pbXBvcnQgU2VsZWN0QXBwUGFuZWwgZnJvbSAnLi9TZWxlY3RBcHBQYW5lbCc7XG4vKipcbiAqIEBpbmhlcml0ZG9jXG4gKiBAcGFyYW0geyp9IHRoZW1lIHRoZW1lXG4gKi9cbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XG4gICAgYnV0dG9uSWNvbjoge1xuICAgICAgICBtYXJnaW5SaWdodDogMTAsXG4gICAgfSxcbiAgICBpbnB1dEFkb3JubWVudFN0YXJ0OiB7XG4gICAgICAgIG1pbldpZHRoOiB0aGVtZS5zcGFjaW5nKDE4KSxcbiAgICB9LFxuICAgIHBhcGVyOiB7XG4gICAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygxKSxcbiAgICB9LFxuICAgIGdyaWQ6IHtcbiAgICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA0LFxuICAgICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcudW5pdCAqIDQsXG4gICAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZy51bml0ICogMixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIH0sXG4gICAgdXNlck5vdGlmaWNhdGlvblBhcGVyOiB7XG4gICAgICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDIsXG4gICAgfSxcbiAgICB0aXRsZVN1Yjoge1xuICAgICAgICBtYXJnaW5MZWZ0OiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBwYWRkaW5nVG9wOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgIH0sXG59KTtcbi8qKlxuICpcbiAqXG4gKiBAY2xhc3MgQXBpQ29uc29sZVxuICogQGV4dGVuZHMge1JlYWN0LkNvbXBvbmVudH1cbiAqL1xuY2xhc3MgQXBpQ29uc29sZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGljIGNvbnRleHRUeXBlID0gQXBpQ29udGV4dDtcblxuICAgIC8qKlxuICAgICAqQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBBcGlDb25zb2xlLlxuICAgICAqIEBwYXJhbSB7Kn0gcHJvcHMgcHJvcGVydGllc1xuICAgICAqIEBtZW1iZXJvZiBBcGlDb25zb2xlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0geyBzaG93VG9rZW46IGZhbHNlIH07XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlcyA9IHRoaXMuaGFuZGxlQ2hhbmdlcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuUHJvdmlkZXIgPSB0aGlzLmFjY2Vzc1Rva2VuUHJvdmlkZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbGlja1Nob3dUb2tlbiA9IHRoaXMuaGFuZGxlQ2xpY2tTaG93VG9rZW4uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVTd2FnZ2VyID0gdGhpcy51cGRhdGVTd2FnZ2VyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzVG9rZW4gPSB0aGlzLnVwZGF0ZUFjY2Vzc1Rva2VuLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlQXBwbGljYXRpb24gPSB0aGlzLnVwZGF0ZUFwcGxpY2F0aW9uLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyBhcGkgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgYXBpSUQgPSBhcGkuaWQ7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBBdXRoTWFuYWdlci5nZXRVc2VyKCk7XG4gICAgICAgIGxldCBhcGlEYXRhO1xuICAgICAgICBsZXQgZW52aXJvbm1lbnRzO1xuICAgICAgICBsZXQgbGFiZWxzO1xuICAgICAgICBsZXQgc2VsZWN0ZWRFbnZpcm9ubWVudDtcbiAgICAgICAgbGV0IHN3YWdnZXI7XG4gICAgICAgIGxldCBzdWJzY3JpcHRpb25zO1xuICAgICAgICBsZXQgc2VsZWN0ZWRBcHBsaWNhdGlvbjtcbiAgICAgICAgbGV0IGtleXM7XG4gICAgICAgIGxldCBzZWxlY3RlZEtleVR5cGUgPSAnUFJPRFVDVElPTic7XG4gICAgICAgIGxldCBhY2Nlc3NUb2tlbjtcblxuICAgICAgICB0aGlzLmFwaUNsaWVudCA9IG5ldyBBcGkoKTtcblxuXG4gICAgICAgIGNvbnN0IHByb21pc2VBUEkgPSB0aGlzLmFwaUNsaWVudC5nZXRBUElCeUlkKGFwaUlEKTtcblxuICAgICAgICBwcm9taXNlQVBJXG4gICAgICAgICAgICAudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBhcGlEYXRhID0gYXBpUmVzcG9uc2Uub2JqO1xuICAgICAgICAgICAgICAgIGlmIChhcGlEYXRhLmVuZHBvaW50VVJMcykge1xuICAgICAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHMgPSBhcGlEYXRhLmVuZHBvaW50VVJMcy5tYXAoKGVuZHBvaW50KSA9PiB7IHJldHVybiBlbmRwb2ludC5lbnZpcm9ubWVudE5hbWU7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXBpRGF0YS5sYWJlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzID0gYXBpRGF0YS5sYWJlbHMubWFwKChsYWJlbCkgPT4geyByZXR1cm4gbGFiZWwubmFtZTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnZpcm9ubWVudHMgJiYgZW52aXJvbm1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkRW52aXJvbm1lbnRdID0gZW52aXJvbm1lbnRzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcGlDbGllbnQuZ2V0U3dhZ2dlckJ5QVBJSWRBbmRFbnZpcm9ubWVudChhcGlJRCwgc2VsZWN0ZWRFbnZpcm9ubWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYWJlbHMgJiYgbGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkRW52aXJvbm1lbnRdID0gbGFiZWxzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcGlDbGllbnQuZ2V0U3dhZ2dlckJ5QVBJSWRBbmRMYWJlbChhcGlJRCwgc2VsZWN0ZWRFbnZpcm9ubWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBpQ2xpZW50LmdldFN3YWdnZXJCeUFQSUlkKGFwaUlEKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHN3YWdnZXJSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN3YWdnZXIgPSBzd2FnZ2VyUmVzcG9uc2Uub2JqO1xuICAgICAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBpQ2xpZW50LmdldFN1YnNjcmlwdGlvbnMoYXBpSUQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoc3Vic2NyaXB0aW9uc1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnNSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMgPSBzdWJzY3JpcHRpb25zUmVzcG9uc2Uub2JqLmxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdGF0dXMgPT09ICdVTkJMT0NLRUQnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucyAmJiBzdWJzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQXBwbGljYXRpb24gPSBzdWJzY3JpcHRpb25zWzBdLmFwcGxpY2F0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlQXBwID0gQXBwbGljYXRpb24uZ2V0KHNlbGVjdGVkQXBwbGljYXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlQXBwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGFwcGxpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHBsaWNhdGlvbi5nZXRLZXlzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoYXBwS2V5cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwS2V5cy5nZXQoJ1NBTkRCT1gnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlUeXBlID0gJ1NBTkRCT1gnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHsgYWNjZXNzVG9rZW4gfSA9IGFwcEtleXMuZ2V0KCdTQU5EQk9YJykudG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcEtleXMuZ2V0KCdQUk9EVUNUSU9OJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkS2V5VHlwZSA9ICdQUk9EVUNUSU9OJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh7IGFjY2Vzc1Rva2VuIH0gPSBhcHBLZXlzLmdldCgnUFJPRFVDVElPTicpLnRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpOiBhcGlEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVudmlyb25tZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBcHBsaWNhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGFwcEtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEtleVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGk6IGFwaURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEFwcGxpY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaTogYXBpRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWdnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW52aXJvbm1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQXBwbGljYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG5vdEZvdW5kOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSGFuZGxlIG9uQ2xpY2sgb2Ygc2hvd24gYWNjZXNzIHRva2VuXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBoYW5kbGVDbGlja1Nob3dUb2tlbigpIHtcbiAgICAgICAgY29uc3QgeyBzaG93VG9rZW4gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93VG9rZW46ICFzaG93VG9rZW4gfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQcm92aWRzIHRoZSBhY2Nlc3MgdG9rZW4gdG8gdGhlIFN3YWdnZXIgVUlcbiAgICAgKiBAcmV0dXJucyB7Kn0gYWNjZXNzIHRva2VuXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBhY2Nlc3NUb2tlblByb3ZpZGVyKCkge1xuICAgICAgICBjb25zdCB7IGFjY2Vzc1Rva2VuIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICByZXR1cm4gYWNjZXNzVG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIG9uQ2hhbmdlIG9mIGlucHV0c1xuICAgICAqIEBwYXJhbSB7Kn0gZXZlbnQgZXZlbnRcbiAgICAgKiBAbWVtYmVyb2YgQXBpQ29uc29sZVxuICAgICAqL1xuICAgIGhhbmRsZUNoYW5nZXMoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50O1xuICAgICAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSB0YXJnZXQ7XG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnc2VsZWN0ZWRFbnZpcm9ubWVudCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IFtuYW1lXTogdmFsdWUgfSwgdGhpcy51cGRhdGVTd2FnZ2VyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlbGVjdGVkQXBwbGljYXRpb24nOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBbbmFtZV06IHZhbHVlIH0sIHRoaXMudXBkYXRlQXBwbGljYXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VsZWN0ZWRLZXlUeXBlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgW25hbWVdOiB2YWx1ZSB9LCB0aGlzLnVwZGF0ZUFjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IFtuYW1lXTogdmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzd2FnZ2VyIGZpbGUgb2YgdGhlIHNlbGVjdGVkIGVudmlyb25lbW50XG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICB1cGRhdGVTd2FnZ2VyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzZWxlY3RlZEVudmlyb25tZW50LCBhcGksIGVudmlyb25tZW50cyxcbiAgICAgICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGxldCBwcm9taXNlU3dhZ2dlcjtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRFbnZpcm9ubWVudCkge1xuICAgICAgICAgICAgaWYgKGVudmlyb25tZW50cy5pbmNsdWRlcyhzZWxlY3RlZEVudmlyb25tZW50KSkge1xuICAgICAgICAgICAgICAgIHByb21pc2VTd2FnZ2VyID0gdGhpcy5hcGlDbGllbnQuZ2V0U3dhZ2dlckJ5QVBJSWRBbmRFbnZpcm9ubWVudChhcGkuaWQsIHNlbGVjdGVkRW52aXJvbm1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlU3dhZ2dlciA9IHRoaXMuYXBpQ2xpZW50LmdldFN3YWdnZXJCeUFQSUlkQW5kTGFiZWwoYXBpLmlkLCBzZWxlY3RlZEVudmlyb25tZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2VTd2FnZ2VyID0gdGhpcy5hcGlDbGllbnQuZ2V0U3dhZ2dlckJ5QVBJSWQoYXBpLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlU3dhZ2dlci50aGVuKChzd2FnZ2VyUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzd2FnZ2VyOiBzd2FnZ2VyUmVzcG9uc2Uub2JqIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBhY2Nlc3MgdG9rZW4gZm9yIGdpdmVuIGtleSB0eXBlXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICB1cGRhdGVBY2Nlc3NUb2tlbigpIHtcbiAgICAgICAgY29uc3QgeyBrZXlzLCBzZWxlY3RlZEtleVR5cGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGxldCBhY2Nlc3NUb2tlbjtcblxuICAgICAgICBpZiAoa2V5cy5nZXQoc2VsZWN0ZWRLZXlUeXBlKSkge1xuICAgICAgICAgICAgKHsgYWNjZXNzVG9rZW4gfSA9IGtleXMuZ2V0KHNlbGVjdGVkS2V5VHlwZSkudG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY2Nlc3NUb2tlbiB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzZWxlY3RlZCBhcHBsaWNhdGlvbiBpbmZvcm1hdGlvblxuICAgICAqIEBtZW1iZXJvZiBBcGlDb25zb2xlXG4gICAgICovXG4gICAgdXBkYXRlQXBwbGljYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRBcHBsaWNhdGlvbiwgc2VsZWN0ZWRLZXlUeXBlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBwcm9taXNlQXBwID0gQXBwbGljYXRpb24uZ2V0KHNlbGVjdGVkQXBwbGljYXRpb24pO1xuICAgICAgICBsZXQgYWNjZXNzVG9rZW47XG5cbiAgICAgICAgcHJvbWlzZUFwcFxuICAgICAgICAgICAgLnRoZW4oKGFwcGxpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGxpY2F0aW9uLmdldEtleXMoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoYXBwS2V5cykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhcHBLZXlzLmdldChzZWxlY3RlZEtleVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICh7IGFjY2Vzc1Rva2VuIH0gPSBhcHBLZXlzLmdldChzZWxlY3RlZEtleVR5cGUpLnRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjY2Vzc1Rva2VuLCBrZXlzOiBhcHBLZXlzIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKiBAbWVtYmVyb2YgQXBpQ29uc29sZVxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhcGksIG5vdEZvdW5kLCBzd2FnZ2VyLCBhY2Nlc3NUb2tlbiwgc2hvd1Rva2VuLCBzdWJzY3JpcHRpb25zLCBzZWxlY3RlZEFwcGxpY2F0aW9uLCBzZWxlY3RlZEtleVR5cGUsXG4gICAgICAgICAgICBzZWxlY3RlZEVudmlyb25tZW50LCBlbnZpcm9ubWVudHMsIGxhYmVscyxcbiAgICAgICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBBdXRoTWFuYWdlci5nZXRVc2VyKCk7XG5cblxuICAgICAgICBjb25zdCBkb3dubG9hZFN3YWdnZXIgPSBKU09OLnN0cmluZ2lmeSh7IC4uLnN3YWdnZXIgfSk7XG4gICAgICAgIGNvbnN0IGRvd25sb2FkTGluayA9ICdkYXRhOnRleHQvanNvbjtjaGFyc2V0PXV0Zi04LCAnICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvd25sb2FkU3dhZ2dlcik7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gJ3N3YWdnZXIuanNvbic7XG5cbiAgICAgICAgaWYgKGFwaSA9PSBudWxsIHx8IHN3YWdnZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIDxQcm9ncmVzcyAvPjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm90Rm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiAnQVBJIE5vdCBmb3VuZCAhJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25IZWFkZXIgPSBhcGkuYXV0aG9yaXphdGlvbkhlYWRlciA/IGFwaS5hdXRob3JpemF0aW9uSGVhZGVyIDogJ0F1dGhvcml6YXRpb24nO1xuICAgICAgICBjb25zdCBpc1Byb3RvdHlwZWRBUEkgPSBhcGkubGlmZUN5Y2xlU3RhdHVzICYmIGFwaS5saWZlQ3ljbGVTdGF0dXMudG9Mb3dlckNhc2UoKSA9PT0gJ3Byb3RvdHlwZWQnO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD0naDQnIGNsYXNzTmFtZT17Y2xhc3Nlcy50aXRsZVN1Yn0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdBcGlzLkRldGFpbHMuQXBpQ29uc29sZS5BcGlDb25zb2xlLnRpdGxlJyBkZWZhdWx0TWVzc2FnZT0nVHJ5IE91dCcgLz5cbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgPFBhcGVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wYXBlcn0+XG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IWlzUHJvdG90eXBlZEFQSSAmJiAhdXNlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBtZD17Nn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMudXNlck5vdGlmaWNhdGlvblBhcGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9J2g1JyBjb21wb25lbnQ9J2gzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbj53YXJuaW5nPC9JY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J25vdGljZScgZGVmYXVsdE1lc3NhZ2U9J05vdGljZScgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNvbXBvbmVudD0ncCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2FwaS5jb25zb2xlLnJlcXVpcmUuYWNjZXNzLnRva2VuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT17J1lvdSBuZWVkIGFuIGFjY2VzcyB0b2tlbiB0byB0cnkgdGhlIEFQSS4gUGxlYXNlIGxvZyAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJ2luIGFuZCBzdWJzY3JpYmUgdG8gdGhlIEFQSSB0byBnZW5lcmF0ZSBhbiBhY2Nlc3MgdG9rZW4uIElmIHlvdSBhbHJlYWR5ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnaGF2ZSBhbiBhY2Nlc3MgdG9rZW4sIHBsZWFzZSBwcm92aWRlIGl0IGJlbG93Lid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9QYXBlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyFpc1Byb3RvdHlwZWRBUEkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIHhzPXsxMn0gbWQ9ezEyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGRpc3BsYXk9J2Jsb2NrJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIgJiYgc3Vic2NyaXB0aW9ucyAmJiBzdWJzY3JpcHRpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEFwcFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucz17c3Vic2NyaXB0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2VzPXt0aGlzLmhhbmRsZUNoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBcHBsaWNhdGlvbj17c2VsZWN0ZWRBcHBsaWNhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEtleVR5cGU9e3NlbGVjdGVkS2V5VHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVudmlyb25tZW50PXtzZWxlY3RlZEVudmlyb25tZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50cz17ZW52aXJvbm1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YnNjcmlwdGlvbnMgJiYgc3Vic2NyaXB0aW9ucy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBkaXNwbGF5PSdmbGV4JyBqdXN0aWZ5Q29udGVudD0nY2VudGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PSdib2R5MScgZ3V0dGVyQm90dG9tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J0FwaXMuRGV0YWlscy5BcGlDb25zb2xlLkFwaUNvbnNvbGUucGxlYXNlLnN1YnNjcmliZS50by5hcHBsaWNhdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdQbGVhc2Ugc3Vic2NyaWJlIHRvIGFuIGFwcGxpY2F0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggZGlzcGxheT0nZmxleCcganVzdGlmeUNvbnRlbnQ9J2NlbnRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCB4cz17MTJ9IG1kPXs2fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KChlbnZpcm9ubWVudHMgJiYgZW52aXJvbm1lbnRzLmxlbmd0aCA+IDApIHx8IChsYWJlbHMgJiYgbGFiZWxzLmxlbmd0aCA+IDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXs8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdFbnZpcm9ubWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nQXBpcy5EZXRhaWxzLkFwaUNvbnNvbGUuZW52aXJvbm1lbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZEVudmlyb25tZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0nc2VsZWN0ZWRFbnZpcm9ubWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3RQcm9wcz17ZW52aXJvbm1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyVGV4dD17PEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nUGxlYXNlIHNlbGVjdCBhbiBlbnZpcm9ubWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nQXBpcy5EZXRhaWxzLkFwaUNvbnNvbGUuU2VsZWN0QXBwUGFuZWwuc2VsZWN0LmFuLmVudmlyb25tZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW49J25vcm1hbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J291dGxpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZW52aXJvbm1lbnRzICYmIGVudmlyb25tZW50cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9JycgZGlzYWJsZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2FwaS5nYXRld2F5cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQVBJIEdhdGV3YXlzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9lbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnZpcm9ubWVudHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50cy5tYXAoZW52ID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHZhbHVlPXtlbnZ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Vudn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGFiZWxzICYmIGxhYmVscy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9JycgZGlzYWJsZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J21pY3JvLmdhdGV3YXlzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdNaWNyb2dhdGV3YXlzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9lbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsYWJlbHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscy5tYXAobGFiZWwgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9e2xhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UZXh0RmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggZGlzcGxheT0nZmxleCcganVzdGlmeUNvbnRlbnQ9J2NlbnRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCB4PXsxMn0gbWQ9ezZ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj0nbm9ybWFsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9ezxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdhY2Nlc3MudG9rZW4nIGRlZmF1bHRNZXNzYWdlPSdBY2Nlc3MgVG9rZW4nIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSdhY2Nlc3NUb2tlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17c2hvd1Rva2VuID8gJ3RleHQnIDogJ3Bhc3N3b3JkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2FjY2Vzc1Rva2VuIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXJUZXh0PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2VudGVyLmFjY2Vzcy50b2tlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nRW50ZXIgYWNjZXNzIFRva2VuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEFkb3JubWVudDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dEFkb3JubWVudCBwb3NpdGlvbj0nZW5kJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2U9J2VuZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9J1RvZ2dsZSB0b2tlbiB2aXNpYmlsaXR5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja1Nob3dUb2tlbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dUb2tlbiA/IDxJY29uPnZpc2liaWxpdHlfb2ZmPC9JY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogPEljb24+dmlzaWJpbGl0eTwvSWNvbj59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0lucHV0QWRvcm5tZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QWRvcm5tZW50OiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0QWRvcm5tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnB1dEFkb3JubWVudFN0YXJ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbj0nc3RhcnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YCR7YXV0aG9yaXphdGlvbkhlYWRlcn06IEJlYXJlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbnB1dEFkb3JubWVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIHhzPXsxMn0gY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIHhzPXsxMH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCB4cz17Mn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2Rvd25sb2FkTGlua30gZG93bmxvYWQ9e2ZpbGVOYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gc2l6ZT0nc21hbGwnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG91ZERvd25sb2FkUm91bmRlZCBjbGFzc05hbWU9e2NsYXNzZXMuYnV0dG9uSWNvbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nQXBpcy5EZXRhaWxzLkFQSUNvbnNvbGUuQVBJQ29uc29sZS5kb3dubG9hZC5zd2FnZ2VyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nU3dhZ2dlciAoIC9zd2FnZ2VyLmpzb24gKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICA8L1BhcGVyPlxuICAgICAgICAgICAgICAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PlxuICAgICAgICAgICAgICAgICAgICA8U3dhZ2dlclVJXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGk9e3RoaXMuc3RhdGUuYXBpfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5Qcm92aWRlcj17dGhpcy5hY2Nlc3NUb2tlblByb3ZpZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlYz17c3dhZ2dlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25IZWFkZXI9e2F1dGhvcml6YXRpb25IZWFkZXJ9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9QYXBlcj5cbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5BcGlDb25zb2xlLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAvLyBoYW5kbGVJbnB1dHM6IGZhbHNlLFxufTtcblxuQXBpQ29uc29sZS5wcm9wVHlwZXMgPSB7XG4gICAgLy8gaGFuZGxlSW5wdXRzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLmJvb2xdKSxcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoQXBpQ29uc29sZSk7XG4iXSwic291cmNlUm9vdCI6IiJ9